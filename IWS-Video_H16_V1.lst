0001   0000             ; IWS-Video_H16_V1.0.asm
0002   0000             ; IWS Video Interface
0003   0000             ;
0004   0000             
0005   0000             #define EOW(n8)        .BYTE n8 | $80    ; Sets bit 7 of character
0006   0000             
0007   0000             #INCLUDE    "lib/PC-1500.lib"
0001+  0000              ; PC-1500 library file
0002+  0000             RAM_ST            = $4000 ; Start of RAM w/o RAM expansion
0003+  0000             RESMEM_ST         = $4008 ; Reserve memroy area area w/o RAM expansion (4008-40C4)
0004+  0000             PRGMEM_ST         = $40C5 ; Start of program memory w/o RAM expansion
0005+  0000             RAM_END           = $47FF ; End of RAM for stock, CE-151, CE-159
0006+  0000             SHADOW_RAM        = $7000 ; Shadow RAM. 7600-77FF mirrored at 7000-71FF, 7200-73FF, 7400-75FF
0007+  0000             SHADOW_RAM_SIZE   = $0600 ; 
0008+  0000             DISP_BUFF         = $7600 ; Display Buffer (7600-774F)
0009+  0000             DISP_BUFF_SIZE    = $0150 ; 
0010+  0000             STRING_VARS       = $7650 ; Fixed String variables (7650-77AF)
0011+  0000             STRING_VARS_SIZE  = $01AF ; 
0012+  0000             CPU_STACK         = $7800 ; CPU stack (7800-784F)
0013+  0000             CPU_STACK_SIZE    = $50   ; 
0014+  0000             XCHRINPT_H        = $785B ; Address of exernal character input routine (H)
0015+  0000             XCHRINPT_L        = $785C ; Address of exernal character input routine (L)
0016+  0000             KATAFLAGS         = $785D ; Katakana displayed flags
0017+  0000             KATACHAR          = $785E ; Address of Katakana character codes (H)
0018+  0000             ST_ROM_MOD        = $7860 ; Start of ROM in module (H)
0019+  0000             ROM_ST_H          = $7861 ; Start of Basic program in ROM module (H)
0020+  0000             ROM_ST_L          = $7862 ; Start of Basic program in ROM module (L)
0021+  0000             RAM_ST_H          = $7863 ; Start of RAM pointer (H)
0022+  0000             RAM_END_H         = $7864 ; End of RAM pointer (H)
0023+  0000             BASPRG_ST_H       = $7865 ; Start of Basic program in RAM (H)
0024+  0000             BASPRG_ST_L       = $7866 ; Start of Basic program in RAM (L)
0025+  0000             BASPRG_END_H      = $7867 ; End of Basic program in RAM (H)
0026+  0000             BASPRG_END_L      = $7868 ; End of Basic program in RAM (L)
0027+  0000             BASPRG_EDT_H      = $7869 ; Start of Basic program edit (H)
0028+  0000             BASPRG_EDT_L      = $786A ; Start of Basic program edit (L)
0029+  0000             BEEP_PTR          = $786B ; BEEP and RMT flags
0030+  0000             RCLTEMPBUFF       = $786C ; RCL Temp buffer (786C-7870)
0031+  0000             RCLTEMPBUFF_SIZE  = $05   ; 
0032+  0000             WAIT_CFG          = $7871 ; WAIT setting
0033+  0000             WAIT_CTR_H        = $7872 ; WAIT time counter (H)
0034+  0000             WAIT_CTR_L        = $7873 ; WAIT time counter (L)
0035+  0000             CURSOR_ENA        = $7874 ; Flags: 01=Cursor enabled, 80=display currently saved 7B10-7BAB
0036+  0000             CURSOR_PTR        = $7875 ; CURSOR POINTER (current display column number)
0037+  0000             CHARPOS_LCD       = $7876 ; Character position number in display, with INPUT statement
0038+  0000             BEEP_FREQ         = $7878 ; BEEP frequency
0039+  0000             CASS_FLAG         = $7879 ; Cassette Operation Parameter (tape interface flag)
0040+  0000             CURS_BLNK_POS     = $787B ; Position of blink character in display, plus 8
0041+  0000             CURSOR_BLNK       = $787C ; Flags: 01=blink cursor enabled, 80=a character is now blinked
0042+  0000             BLNKD_CHAR_CODE   = $787D ; Code of character blinked
0043+  0000             CURS_POS_NBUF_H   = $787E ; Position of blink cursor in buffer (H)
0044+  0000             CURS_POS_NBUF_L   = $787F ; Position of blink cursor in buffer (L)
0045+  0000             DISPARAM          = $7880 ; Display Parameter: determines display at READY
0046+  0000             STK_PTR_GSB_FOR   = $7882 ; Stack pointer for GOSUB and FOR
0047+  0000             CURVARADD_H       = $7883 ; Current variable address (H)
0048+  0000             CURVARADD_L       = $7884 ; Current variable address (L)
0049+  0000             CURVARTYPE        = $7885 ; Current variable type
0050+  0000             LASTVARADD_H      = $7886 ; Last variable address (H)
0051+  0000             LASTVARADD_L      = $7887 ; Last variable address (L)
0052+  0000             LASTVARTYPE       = $7888 ; Last variable type
0053+  0000             BREAKPARAM        = $788A ; BREAK flag parameter
0054+  0000             INBUFPTR_L        = $788B ; Input Buffer pointer (L)
0055+  0000             NUMARGS           = $788C ; Number of function input arguments, array dim 1/2
0056+  0000             TRACE_ON          = $788D ; TRACE ON/OFF pointer: 00=OFF, >0=ON 
0057+  0000             TRACE_PARAM       = $788E ; TRACE Parameter
0058+  0000             OUTBUF_PTR        = $788F ; Output Buffer pointer (L)
0059+  0000             FORNXT_STK_PTR    = $7890 ; FOR/NEXT stack pointer (L)
0060+  0000             GOSB_STK_PTR_L    = $7891 ; GOSUB stack pointer (L)
0061+  0000             BAS_DATA_STK_L    = $7892 ; BASIC DATA STACK pointer (L)
0062+  0000             BAS_PENOP_STK_L   = $7893 ; BASIC PENDING OP STACK pointer (L)
0063+  0000             STR_BUF_PTR_L     = $7894 ; String Buffer Pointer (L)
0064+  0000             USINGF            = $7895 ; USING F/F (format, decimal, comma, etc.)
0065+  0000             USINGM            = $7896 ; USING M integer part
0066+  0000             USING_CHR         = $7897 ; USING & character string
0067+  0000             USINGMD           = $7898 ; USING m decimal part
0068+  0000             VAR_START_H       = $7899 ; START OF VARIABLES in main memory (H)
0069+  0000             VAR_START_L       = $789A ; START OF VARIABLES in main memory (L)
0070+  0000             ERL               = $789B ; ERL, Error code
0071+  0000             CURR_LINE_H       = $789C ; Current line number (H)
0072+  0000             CURR_LINE_L       = $789D ; Current line number (L)
0073+  0000             CURR_TOP_H        = $789E ; Beginning address of current program (H)
0074+  0000             CURR_TOP_L        = $789F ; Beginning address of current program (L)
0075+  0000             PREV_ADD_H        = $78A0 ; Previous address (of preceeding line) (H)
0076+  0000             PREV_ADD_L        = $78A1 ; Previous address (of preceeding line) (L)
0077+  0000             PREV_LINE_H       = $78A2 ; Previous line number (H)
0078+  0000             PREV_LINE_L       = $78A3 ; Previous line number (L)
0079+  0000             PREV_TOP_H        = $78A4 ; Begginning of program containing previous line (H)
0080+  0000             PREV_TOP_L        = $78A5 ; Begginning of program containing previous line (L)
0081+  0000             SRCH_ADD_H        = $78A6 ; Address of linefound during search (H)
0082+  0000             SRCH_ADD_L        = $78A7 ; Address of linefound during search (L)
0083+  0000             SRCH_LINE_H       = $78A8 ; Line number found after search (H)
0084+  0000             SRCH_LINE_L       = $78A9 ; Line number found after search (L)
0085+  0000             SRCH_TOP_H        = $78AA ; Beginning of program containing SEARCH line (H)
0086+  0000             SRCH_TOP_L        = $78AB ; Beginning of program containing SEARCH line (L)
0087+  0000             BRK_ADD_H         = $78AC ; Break address (H)
0088+  0000             BRK_ADD_L         = $78AD ; Break address (L)
0089+  0000             BRK_LINE_H        = $78AE ; Break line number (H)
0090+  0000             BRK_LINE_L        = $78AF ; Break line number (L)
0091+  0000             BRK_TOP_H         = $78B0 ; Beginning of program containing BREAK line
0092+  0000             BRK_TOP_L         = $78B1 ; Beginning of program containing BREAK line
0093+  0000             ERR_ADD_H         = $78B2 ; Error address (H)
0094+  0000             ERR_ADD_L         = $78B3 ; Error address (L)
0095+  0000             ERR_LINE_H        = $78B4 ; Error line number (H)
0096+  0000             ERR_LINE_L        = $78B5 ; Error line number (L)
0097+  0000             ERR_TOP_H         = $78B6 ; Beginning address of program containing ERROR line (H)
0098+  0000             ERR_TOP_L         = $78B7 ; Beginning address of program containing ERROR line (L)
0099+  0000             ON_ERR_ADD_H      = $78B8 ; Address jumped to when error occures (H)
0100+  0000             ON_ERR_ADD_L      = $78B9 ; Address jumped to when error occures (L)
0101+  0000             ON_ERR_LINE_H     = $78BA ; Line number jumped to when error occures (H)
0102+  0000             ON_ERR_LINE_L     = $78BB ; Line number jumped to when error occures (L)
0103+  0000             ON_ERR_TOP_H      = $78BC ; Beginning of program containing ON ERROR line (H)
0104+  0000             ON_ERR_TOP_L      = $78BD ; Beginning of program containing ON ERROR line (L)
0105+  0000             DATA_PTR_H        = $78BE ; Pointer for data statement (H)
0106+  0000             DATA_PTR_L        = $78BF ; Pointer for data statement (H)
0107+  0000             FIXED_VARS        = $78C0 ; Fixed Variables (78C0-79CF)
0108+  0000             FIXED_VARS_SIZE   = $0110 ; 
0109+  0000             PU_PV             = $79D0 ; PU/PV flag, ROM Bank: 00=ROM 1, 01=ROM 2
0110+  0000             OPN               = $79D1 ; OPN device code: 60=LCD, 5C=CMT, 58=MGP. C4=LPRT, C0=COM
0111+  0000             CLK_BYPASS        = $79D3 ; 55=bypass setting of modulation clock freq, serial output
0112+  0000             KB_BYPASS         = $79D4 ; 55=bypass keyboard scan, obtain input from external device
0113+  0000             UNDEF_REG_79FF    = $79FF ; LOCK mode: 00=LOCK, FF=UNLOCK
0114+  0000             ARX               = $7A00 ; Floating-Point accumulator
0115+  0000             ARX_SIZE          = $08   ; 
0116+  0000             ARZ               = $7A08 ; Scratch register (7A00-7A07)
0117+  0000             ARZ_SIZE          = $08   ; 
0118+  0000             ARY               = $7A10 ; Second operand (7A10-7A17)
0119+  0000             ARY_SIZE          = $08   ; 
0120+  0000             ARU               = $7A18 ; Scratch register (7A18-7A1F)
0121+  0000             ARU_SIZE          = $08   ; 
0122+  0000             ARV               = $7A20 ; Scratch register (7A2-7A27)
0123+  0000             ARV_SIZE          = $08   ; 
0124+  0000             ARW               = $7A28 ; Scratch register (7A28-7A2F)
0125+  0000             ARW_SIZE          = $08   ; 
0126+  0000             ARS               = $7A30 ; Temporary storage register (7A30-7A37)
0127+  0000             ARS_SIZE          = $08   ; 
0128+  0000             B_STACK           = $7A38 ; Basic Stack (7838-7AFF)
0129+  0000             B_STACK_SIZE      = $C8   ; 
0130+  0000             RND_VAL           = $7B00 ; Contain Random number value (7B00-7B07)
0131+  0000             RND_VAL_SIZE      =       ; S
0132+  0000             KEY_REPEAT        = $7B09 ; Key repeat speed
0133+  0000             APOW_CTR_H        = $7B0A ; Auto power down counter (H)
0134+  0000             APOW_CTR_M        = $7B0B ; Auto power down counter (M)
0135+  0000             APOW_CTR_L        = $7B0C ; Auto power down counter (L)
0136+  0000             CURS_BLNK_CTR     = $7B0D ; Cursor blink counter
0137+  0000             CURS_CTRL         = $7B0E ; Cursor Control Parameter
0138+  0000             KEY_LAST          = $7B0F ; Last pressed key code
0139+  0000             STR_BUF           = $7B10 ; String Buffer (7B10-7B5F)
0140+  0000             STR_BUF_SIZE      = $50   ; 
0141+  0000             OUT_BUF           = $7B60 ; Output Buffer (7B60-7BAF)
0142+  0000             OUT_BUF_SIZE      = $50   ; 
0143+  0000             IN_BUF            = $7BB0 ; Input Buffer (7BB0-7BFF)
0144+  0000             IN_BUF_SIZE       = $80   ; 
0145+  0000             ST_MAIN_ROM       = $C000 ; Start of PC-1500 ROM, 55
0146+  0000             SA_XREG_2RAM      = $C001 ; Save X-Reg to 78xx. D1 defines low byte xx.
0147+  0000             SAVEVARPTR_ARX    = $C00E ; Save variable pointer. Address from U-Reg, length from AR-X (7A07).
0148+  0000             SAVEVARPTR_A      = $C011 ; Save variable pointer. Address from U-Reg, length from A.
0149+  0000             TRACE_VEC         = $C01D ; Not used (C01C-C01F)
0150+  0000             ST_BAS_TBL        = $C020 ; Start of Basic table
0151+  0000             TOKEN_TBL         = $C054 ; B5: AREAD F1 80:C684
0152+  0000             SM_NEW0           = $C34F ;  'NEW0?' (C350-C354) (Start of system messages)
0153+  0000             SM_NEW0_SIZE      = $05   ; 
0154+  0000             SM_CHECK          = $C355 ;  ':CHECK' (C355-C35B)
0155+  0000             SM_BREAK          = $C35C ;  'BREAK' (C35C-C361)
0156+  0000             SM_IN             = $C362 ;  'IN' (C362-C364)
0157+  0000             SM_IN_SIZE        = $05   ; 
0158+  0000             SM_ERROR          = $C365 ;  'ERROR' (C365-C36A)
0159+  0000             SM_ERROR_SIZE     = $05   ; 
0160+  0000             DEFKEY_TBL        = $C36B ; Occupied DEF key table (C36B-C38A)
0161+  0000             DEFKEY_TBL_SIZE   = $05   ; 
0162+  0000             EDCTRL_TBL        = $C38B ; Address table for editor control characters (C38B-C3A9)
0163+  0000             EDCTRL_TBL_SIZE   = $05   ; 
0164+  0000             FVAL_TBLE         = $C3A8 ; Operator table for formula eval of subs (C3A8-C3FF)  (DE) (D6DF)
0165+  0000             FVAL_TBLE_SIZE    = $05   ; 
0166+  0000             BASIC_INT         = $C400 ; Basic interpreter, Y-Ref points to next char/token
0167+  0000             BCMD_LET          = $C458 ; Basic command LET
0168+  0000             TRCROUTINE        = $C4AF ; Trace Routine
0169+  0000             BCMD_STOP         = $C4B6 ; Basic command STOP
0170+  0000             BCMD_END          = $C50D ; Basic Command END
0171+  0000             BCMD_GOTO         = $C515 ; Basic Command GOTO
0172+  0000             DEFKEY_EVAL       = $C529 ; Evaluate def keys
0173+  0000             BCMD_IF           = $C5B4 ; Basic Command IF
0174+  0000             BCMD_ON           = $C5E0 ; Basic Command ON
0175+  0000             BCMD_GOSUB        = $C64E ; Basic Command GOSUB
0176+  0000             BCMD_REM          = $C676 ; Basic Command REM
0177+  0000             BCMD_USING        = $C67C ; Basic Command USING
0178+  0000             BCMD_DATA         = $C684 ; Basic Command DATA / ARUN / AREAD
0179+  0000             BCMD_TRON         = $C68C ; Basic Command TRON
0180+  0000             BCMD_TROFF        = $C693 ; Basic Command TROFF
0181+  0000             BCMD_DEGREE       = $C697 ; Basic Command DEGREE
0182+  0000             BCMD_RADIAN       = $C6A4 ; Basic Command RADIAN
0183+  0000             BCMD_GRAD         = $C6A8 ; Basic Command GRAD
0184+  0000             BCMD_RETURN       = $C6AC ; Basic Command RETURN
0185+  0000             BCMD_NEXT         = $C704 ; Basic Command NEXT
0186+  0000             BCMD_FOR          = $C711 ; Basic Command FOR
0187+  0000             BCMD_POKE         = $C777 ; Basic Command POKE
0188+  0000             BCMD_POKE#        = $C778 ; Basic Command POKE#
0189+  0000             BCMD_RESTORE      = $C7A2 ; Basic Command RESTORE
0190+  0000             BCMD_READ         = $C7BB ; Basic Command READ
0191+  0000             BCMD_NEW          = $C8A0 ; Basic Command NEW
0192+  0000             BCMD_CLEAR        = $C8F5 ; Basic Command CLEAR
0193+  0000             BCMD_CALL         = $CB63 ; Basic Command CALL
0194+  0000             BCMD_RUN          = $C884 ; Basic Command RUN
0195+  0000             BCMD_CONT         = $C8C7 ; Basic Command CONT
0196+  0000             BCMD_INPUT        = $C8FA ; Basic Command INPUT
0197+  0000             BCMD_LOCK         = $C968 ; Basic Command LOCK
0198+  0000             BCMD_UNLOCK       = $C96A ; Basic Command UNLOCK
0199+  0000             BCMD_LIST         = $C96E ; Basic Command LIST
0200+  0000             BCMD_DIM          = $C988 ; Basic Command DIM
0201+  0000             COLD_START        = $C9E4 ; Editor Cold Start
0202+  0000             BTN_SHCL          = $CA55 ; SHIFT CL (Clear All)
0203+  0000             WARM_START        = $CA58 ; Editor Warm Start
0204+  0000             BUTTON_CL         = $CA64 ; CL Button (Clear LCD )
0205+  0000             EDITOR            = $CA80 ; Editor
0206+  0000             BTN_RCL           = $CB61 ; RCL Button
0207+  0000             RSV_CHNG          = $CB69 ; Change RESERVE level
0208+  0000             BTN_SHMODE        = $CB9C ; SHIFT MODE Button (RESERVE mode)
0209+  0000             BTN_MODE          = $CBA0 ; MODE Button
0210+  0000             BTN_INS           = $CBC7 ; INS Button
0211+  0000             BTN_DEL           = $CBCF ; DEL Button
0212+  0000             BTN_RIGHT         = $CBE4 ; CURSOR RIGHT Button
0213+  0000             PRG_ENTER         = $CC1D ; "@", Programmatic ENTER
0214+  0000             BTN_LRFT          = $CC22 ; CURSOR LEFT Button
0215+  0000             BTN_UP            = $CC38 ; CURSOR UP Button
0216+  0000             BTN_DOWN          = $CC48 ; CURSOR DOWN Button
0217+  0000             BTN_ENTER         = $CCC1 ; ENTER Button
0218+  0000             UNLOCK            = $CD6A ; UNLOCK
0219+  0000             BTN_OFF           = $CD71 ; OFF Button
0220+  0000             ERR1              = $CD89 ; Display ERROR 1, return to editor.
0221+  0000             ERRN              = $CD8B ; Display ERROR N, from UH or do 'ON-ERROR' routine.
0222+  0000             INS2INBUF         = $CDE6 ; INSERT - Insert one character into the Input Buffer.
0223+  0000             CHAR2INBUF        = $CE10 ; Enter characters into the Input Buffer.
0224+  0000             DELFRMINBUF       = $CE38 ; DELETE - Delete one character from the Input Buffer.
0225+  0000             DEFEVAL           = $CE4A ; Evaluate DEF key
0226+  0000             RESKEY_SRCH       = $CEC4 ; Searches for reserve key code in Reserve memory
0227+  0000             TXFR_RSV_KEY      = $CED0 ; Transfers reserve key assignment to Reserve memory.
0228+  0000             PRGLINE_TDI       = $CF27 ; Transfer, delete, insert program line from Input Buffer
0229+  0000             INITSYSADDR       = $CFCC ; Initializes System Addresses, turn off TRACE.
0230+  0000             INBUF_CLRRST      = $D021 ; Clear rest of the input buffer (0D).
0231+  0000             INBUF_CLRINIT     = $D02B ; Clear Input Buffer with '0D', init Input Buffer pointer
0232+  0000             INBUF_INIT        = $D030 ; Clear Input Buffer, Y-Reg points to start of Input Buffer
0233+  0000             INBUF_CLR         = $D034 ; Clears Input buffer with $0D
0234+  0000             SYSMSG            = $D046 ; Send System Messages.
0235+  0000             UL_XREG2YREG      = $D049 ; Transfers UL bytes from X-Reg to Y-Reg
0236+  0000             VARONBSTK         = $D04C ; Find variable on Basic Stack, if not found C = 0.
0237+  0000             POPBSTK           = $D065 ; Pop address from Basic Stack.
0238+  0000             PSHBSTK           = $D071 ; Push U-Reg to Basic Stack
0239+  0000             DELSVARS          = $D080 ; Deletes all standard variables
0240+  0000             DELDVARS          = $D091 ; Deletes dimensioned variables
0241+  0000             DEL_DIM_VARS      = $D09C ; Deletes dimensioned variables if program and variable memory overlap C=1
0242+  0000             BCD_Y2ARX         = $D14F ; Pass BCD number pointed to by Y-Reg to AR-X
0243+  0000             XFRLINE2INBUF     = $D2D0 ; Transfer line pointed to by X-Reg to Input Buffer
0244+  0000             LINESEARCH        = $D2EA ; Searches for line number according to U-Reg from start of program.
0245+  0000             SRCHPRGLINE       = $D2EC ; Searches program line in U-REG from X-REG
0246+  0000             DELU_FROMX        = $D3C4 ; Deletes (U + 1) bytes from X-Reg.
0247+  0000             DEC2HEX           = $D3D5 ; Convert from decimal to hexadecimal.
0248+  0000             BCMD_PEEK         = $D993 ; Basic commands PEEK/PEEK#
0249+  0000             BCMD_NOT          = $D99E ; Basic command NOT
0250+  0000             BCMD_INKY         = $D9AA ; Basic command INKEY$
0251+  0000             BCMD_CHR          = $D9B1 ; Basic command CHR$
0252+  0000             BCMD_STR          = $D9CF ; Basic command STR$
0253+  0000             BCMD_LEN          = $D9D7 ; Basic command LEN / ASC
0254+  0000             ARUINT2ARX        = $D9E7 ; Transfers U-Reg as an integer to AR-X in the format '82 UH UL '.
0255+  0000             BCMD_RLM_STR      = $D9F3 ; Basic commands RIGHT$ / LEFT$ / MID$
0256+  0000             BCMD_STATUS       = $DA44 ; Basic command STATUS
0257+  0000             BCMD_MEM          = $DA5D ; Basic command MEM
0258+  0000             MULT16B           = $DA71 ; 16-Bit Multiplication: X-Reg=Y-Reg*U-Reg.
0259+  0000             TWOSCOMP          = $DAA8 ; Forms two's complement of U-Reg.
0260+  0000             EVAL_USING        = $DAB2 ; Evaluation of USING paramters from Y-Reg
0261+  0000             ISARXBCD          = $DB87 ; Check AR-X for BCD format
0262+  0000             LOAD_NEXT         = $DCD4 ; Load next Token / character
0263+  0000             BCMD_TIME         = $DE82 ; Basic command TIME
0264+  0000             XREG2STRBUF       = $DFA1 ; Inserts string pointed to by X-Reg into string buffer. Jump if overflow.
0265+  0000             STRBUF_OK         = $DFB4 ; Checks if string buffer can hold #chars in Accumulator. No C=1.
0266+  0000             ARX2STRBUF        = $DFC4 ; Loads AR-X with a pointer to the string buffer.
0267+  0000             U_MINUS_X         = $DFE2 ; U-Reg = U-Reg - X-Reg. If overflow occurs C=0 and UH=16
0268+  0000             MEM_IN_UREG       = $DFEE ; Calculates the available memory space (MEM) in U-Reg.
0269+  0000             PRGST2XREG        = $DFF3 ; X-Reg = Program Start Address. U-Reg = STATUS 1-2
0270+  0000             RESET             = $E000 ; Reset-Routine
0271+  0000             IO_INT            = $E153 ; Initializes I/O module with table from E168.
0272+  0000             IO_TBL            = $E168 ; Paramaters for I/O init. (Byte table)
0273+  0000             ISR_HANDLER       = $E171 ; Maskable Interrupt Routine
0274+  0000             NMI_HANDLER       = $E22B ; Non-Maskable Interrupt Routine
0275+  0000             TIMER_ISR         = $E22C ; Timer Interrupt
0276+  0000             PVBANK            = $E234 ; PV banking. Using status of bit 0 in 7900. If 0, PV=1.
0277+  0000             WAITNOKEYS        = $E23D ; Waits until no more keys are pressed.
0278+  0000             WAIT4KB           = $E243 ; Waiting for character input from keyboard. Accumulator=character
0279+  0000             AUTO_OFF          = $E33F ; Auto-Power-Off routine
0280+  0000             ISKEY_1           = $E418 ; Keyboard query. Z=1 if no key pressed.
0281+  0000             ISKEY_0           = $E41A ; Keyboard query. Z=0 if no key pressed.
0282+  0000             KEY2ASCII         = $E42C ; Return ASCII code of key pressed in Accumulator. If no key: C=1.
0283+  0000             CHK_BRK           = $E451 ; Checks whether Break was pressed. Yes: Z=0, no Z=1.
0284+  0000             STR_COMP          = $E4A0 ; Compare two strings: pointer in Y-Reg and AR-Y. AR-X=1 is true.
0285+  0000             TOK_TABL_SRCH     = $E4A8 ; Searches for token table below C000. CE-158 C=1, UH-1. CE-150 C=1, UH=2
0286+  0000             BCMD_INPUTNUM     = $E4E7 ; Basic command INPUT#
0287+  0000             BCMD_PRINT        = $E4EB ; Basic command PRINT
0288+  0000             WRITE2CLOCK       = $E52B ; Write to clock  chip.
0289+  0000             TIMEMODE          = $E573 ; Timer mode select according to Accumulator
0290+  0000             ARX2TIME          = $E59A ; Write TIME from AR-X to clock chip
0291+  0000             TIME2ARX          = $E5B4 ; Read TIME from clock chip into AR-X.
0292+  0000             BEEP_ON-OFF       = $E655 ; Beep ON/OFF. Beep on/off pointer 7868 80=1 beep off, 80=0 beep on.
0293+  0000             BCMD_BEEP_STD     = $E669 ; Basic command BEEP - Standard beep.
0294+  0000             BCMD_BEEP         = $E66F ; Basic command BEEP - Duration in X-Reg, Pitch in UL.
0295+  0000             BCMD_PAUSE        = $E6A5 ; Basic command PAUSE
0296+  0000             BCMD_GPRINT       = $E7AC ; Basic command GPRINT
0297+  0000             BCMD_GCURSOR      = $E83E ; Basic command GCURSOR
0298+  0000             BCMD_CURSOR       = $E846 ; Basic command CURSOR
0299+  0000             BCMD_CLS          = $E865 ; Basic command CLS
0300+  0000             BCMD_WAIT         = $E86A ; Basic command WAIT
0301+  0000             TIMEDELAY         = $E88C ; Time delay 15.625 ms * number in U-Reg. BREAK is possible.
0302+  0000             PRGMDISP          = $E8CA ; Display program.
0303+  0000             STATUSCHK         = $E9EB ; Checks display and input status.
0304+  0000             USING_FRMT        = $EA78 ; USING formatting. If error C = 1.
0305+  0000             ARX2ASCII         = $EB40 ; Converts AR-X to ASCII according to USING parameters.
0306+  0000             TRUNCDEC          = $EC2F ; Truncation of the decimal places
0307+  0000             BCMD_DEC9         = $EC3C ; Checks if value in AR-X can be represented in 9 decimal places. If not, C=1.
0308+  0000             X_STROUT          = $EC5C ; Transfers string in X-Reg to output buffer. If error C=1.
0309+  0000             IF_ARX2BCD        = $EC6C ; If AR-X numerical convert to BCD. C=0. If CSI contine w/Distance Address D1.
0310+  0000             ARXBCD2ASCII      = $EC74 ; Converts AR-X from BCD to ASCII and transfers to output buffer.
0311+  0000             XP_STROUT         = $EC82 ; Transmits string X-Reg points to into output buffer. C=1 if buffer full
0312+  0000             CLRNOCURSOR       = $EC9C ; Clears LCD if cursor not allowed and sets the matrix column pointer to 00.
0313+  0000             INIT_CURS         = $ECAE ; Initializes cursor parameters.
0314+  0000             INIT_MTRX         = $ECB2 ; Initializes matrix column pointer (0).
0315+  0000             ARX2OUTBUF        = $ECB7 ; Transfers value in AR-X to output buffer.
0316+  0000             ARX2OUTBUF_F      = $ECD6 ; Tranfer AR-X foramtted to Ouput Buffer
0317+  0000             ARXASCII2OUTBUF   = $ECE3 ; Convert AR-X to ASCII and sent to Output Buffer
0318+  0000             USING_PARAM       = $ECEB ; Determine and transer USING paramaters
0319+  0000             OUTBUF2LCD        = $ECFA ; Output 26 characters in Output Buffer to LCD
0320+  0000             TEXTUREG_A        = $ED00 ; Output of text on LCD. U-Reg=start address; A=length.
0321+  0000             TEXTUREG_XL       = $ED3B ; Outputs text from U-Reg. XL = number of characters
0322+  0000             CHAR2COL          = $ED4D ; Output character at next matrix column
0323+  0000             CHARA2COL         = $ED57 ; Output character in A to next matrix column.
0324+  0000             CHARA2COLX        = $ED5B ; Output character in A to matrix column X-Reg points to.
0325+  0000             A2HEX             = $ED7D ; Convert character in A to HEX nibble
0326+  0000             ASCII2HEX         = $ED95 ; Convert two ASCII characters from X-Reg into HEX
0327+  0000             MTRXNRANGE        = $EDAB ; Checks if matrix pointer still in permissible range 0-155. No, C=1
0328+  0000             MTRXINC           = $EDB1 ; Increase matrix pointer if in permissible range 0-155. No, C=1
0329+  0000             LCDCACHE          = $EDC1 ; Cache LCD display of 7810-7BFF
0330+  0000             BCMD_BFF          = $EDD8 ; Retrieve LCD display of 7610-7BFF
0331+  0000             HEX2COL           = $EDEF ; Output HEX value from A to next matrix column
0332+  0000             GPRNT_A_2LCD      = $EDF6 ; Output of A as a GRPRINT (bit pattern) on LCD 
0333+  0000             MATRIX_PTR2XREG   = $EE1F ; Calculates matrix column address from matrix pointer, to X-Reg.
0334+  0000             MATRIX_A2XREG     = $EE22 ; Calculated matrix column address from A, to X-Reg
0335+  0000             CHAR2ADDR         = $EE48 ; Retrive address in Character Set Table for characters in A
0336+  0000             LCDCLR            = $EE71 ; Clears the LCD display.
0337+  0000             LCDCLRRNG         = $EE78 ; Clears the range from (UH00-UH40).
0338+  0000             SAVELCD2BUF       = $EE80 ; Save LCD to buffer
0339+  0000             BUF2LCD           = $EE99 ; Transfer buffer to LCD
0340+  0000             LCDCHRLEFT        = $EEB0 ; Determines number of empty characters left on LCD, to A.
0341+  0000             BCMD_POINT        = $EECB ; Basic command POINT
0342+  0000             CURSOR_OFF        = $EF00 ; Turns off blinking cursor.
0343+  0000             USING2STK         = $EF05 ; Saves USING parameters on processor stack (7895-7897)
0344+  0000             ARX2STRNG         = $EF1B ; Convert AR-X to string
0345+  0000             STK2USING         = $EF35 ; Get USING parameters from processor stack.
0346+  0000             TXT2LCD           = $EF44 ; Output text on LCD display.
0347+  0000             TXT2LCD_ARY       = $EF5B ; Output text on LCD from AR-Y to 7AXL
0348+  0000             PREPLCDOUT        = $EF67 ; Prepare the LCD output
0349+  0000             OUTBUFCLR         = $EF81 ; Clear output buffer.
0350+  0000             SUBTR             = $EFB6 ; AR-X = AR-X - AR-Y (Subtraction).
0351+  0000             ADDIT             = $EFBA ; AR-X = AR-X + AR-Y (Addition).
0352+  0000             PC1500_DIV_RESET  = $F004 ; PC1500_DIVIDER_RESET (CE1)
0353+  0000             PC1500_UREG_OUTP  = $F005 ; PC1500_U_REG_OUTPUT (CE1)
0354+  0000             PC1500_SER_XFR    = $F006 ; PC1500_SERIAL_XFR (CE1)
0355+  0000             PC1500_F_REG      = $F007 ; PC1500_F_REG_LD/DIV (CE1)
0356+  0000             PC1500_PRT_C      = $F008 ; PC1500_PRT_C (CE1)
0357+  0000             PC1500_G_REG      = $F009 ; PC1500_G_REG (CE1)
0358+  0000             PC1500_MSK_REG    = $F00A ; PC1500_MSK_REG (CE1)
0359+  0000             PC1500_IF_REG     = $F00B ; PC1500_IF_REG (CE1)
0360+  0000             PC1500_PRT_A_DIR  = $F00C ; PC1500_PRT_A_DIR (CE1)
0361+  0000             PC1500_PRT_B_DIR  = $F00D ; PC1500_PRT_B_DIR (CE1)
0362+  0000             PC1500_PRT_A      = $F00E ; PC1500_PRT_A (CE1)
0363+  0000             PC1500_PRT_B      = $F00F ; PC1500_PRT_B (CE1)
0364+  0000             SQUARE            = $F019 ; AR-X = AR-X * AR-X (Square)
0365+  0000             MULTIPLY          = $F01A ; AR-X = AR-X * AR-Y (Multiplication)
0366+  0000             ADDMANY           = $F067 ; Add multiple ARs to AR-X if proper bit set in A
0367+  0000             RECIPRICAL        = $F080 ; AR-X = 1 /AR- X (Reciprocal)
0368+  0000             DIVISION          = $F084 ; AR-X = AR-X / AR-Y (Division)
0369+  0000             SQR_ROOT          = $F0E9 ; AR-X = SQR (AR-X) (Square Root)
0370+  0000             BCMD_LN           = $F161 ; Basic command LN, AR-X = LN (AR-X)
0371+  0000             BCMD_LOG          = $F165 ; Basic command LOG, AR-X = LOG (AR-X)
0372+  0000             BCMD_EXP          = $F1CB ; Basic command EXP
0373+  0000             EXPONENT          = $F1D4 ; AR-X = 10 ^ AR-X
0374+  0000             BCMD_COS          = $F391 ; Basic command COS
0375+  0000             BCMD_TAN          = $F39E ; Basic command TAN
0376+  0000             BCMD_SIN          = $F3A2 ; Basic command SIN
0377+  0000             BCMD_ACS          = $F492 ; Basic command ACS
0378+  0000             BCMD_ATN          = $F496 ; Basic command ATN
0379+  0000             BCMD_ASN          = $F49A ; Basic command ASN
0380+  0000             BCMD_DEG          = $F531 ; Basic command DEG
0381+  0000             BCMD_DMS          = $F564 ; Basic command DMS
0382+  0000             BCMD_ABS          = $F597 ; Basic command ABS
0383+  0000             BCMD_SGN          = $F590 ; Basic command SGN
0384+  0000             BCMD_PI           = $F5B5 ; Basic command PI (in AR-Y)
0385+  0000             BCMD_INT          = $F5BE ; Basic command INT
0386+  0000             BCMD_RND          = $F5D0 ; Basic command RND
0387+  0000             RANDGEN           = $F5EB ; Generates randon number in AR-X
0388+  0000             ARX_              = $F63C ; Sets digits 11 and 12 in AR-X to 00. Used at end of (5C)
0389+  0000             BCMD_RANDOM       = $F641 ; Basic command RANDOM
0390+  0000             ARX2BCD_ABS       = $F65D ; Converts AR-X into BCD form.
0391+  0000             ARX2BCD           = $F663 ; Converts the result in the AR-X into the correct BCD format.
0392+  0000             XFER_DEC_ARX2ARY  = $F6B4 ; Transfers decimal places from AR-X to AR-Y.
0393+  0000             SIGN_TEST         = $F6E6 ; Push result of sign combination (AR-X and AR-Y) on the stack.
0394+  0000             LDA_SGN_ARX       = $F6FB ; Load A with sign from AR-X, clears signs AR-X.
0395+  0000             XFER_ARY2ARS      = $F701 ; Transfer AR-Y to AR-S
0396+  0000             XFER_ARX2ARS      = $F707 ; Transfer AR-X to AR-S.
0397+  0000             XFER_ARX2ARY      = $F70D ; Transfer AR-X to AR-Y.
0398+  0000             XFER_ARS2ARY      = $F715 ; Transfer AR-S to AR-Y.
0399+  0000             XFER_SM_ARY2ARX   = $F71B ; Transfer sign and mantissa from AR-Y to AR-X.
0400+  0000             XFER_SM_ARZ2ARX   = $F71F ; Transfer sign and mantissa from AR-Z to AR-X.
0401+  0000             XFER_SM_ARY2ARZ   = $F725 ; Transfer sign and mantissa from AR-Y to AR-Z.
0402+  0000             XFER_SM_ARX2ARY   = $F729 ; Transfer sign and mantissa from AR-X to AR-Y
0403+  0000             XFER_SM_ARX2ARZ   = $F72F ; Transfer sign and mantissa from AR-X to AR-Z (7A09 - 7A0F).
0404+  0000             XREG2YREG         = $F733 ; Block shift 7 bytes from X-Reg to Y-Reg.
0405+  0000             XFER_ARS2ARX      = $F737 ; Transfer AR-S to AR-X.
0406+  0000             XFER_ARY2ARX      = $F73D ; Transfer AR-Y to AR-X.
0407+  0000             CLR_SM_ARY        = $F747 ; Clear sign and mantissa of AR-Y.
0408+  0000             CLR_SM_ARZ        = $F74B ; Clear sign and mantissa of AR-Z.
0409+  0000             CLR_SM_ARW        = $F74F ; Clear sign and mantissa of AR-W.
0410+  0000             CLR_ARY           = $F753 ; Clear AR-Y
0411+  0000             CLR_ARX           = $F757 ; Clear AR-X.
0412+  0000             CLR_ARZ           = $F75B ; Clear AR-Z.
0413+  0000             CLR_SM_XREG       = $F75F ; Clear sign and mantissa in AR-X
0414+  0000             CLR_7_XREG        = $F761 ; Clear 7 bytes from X-Reg.
0415+  0000             CLR_N_XREG        = $F763 ; Clear UL + 1 byte from X-Reg.
0416+  0000             ARW_SHR_4BITS     = $F769 ; Shift AR-W one nibble right (/10)
0417+  0000             ARZ_SHR_4BITS     = $F76D ; Shift AR-Z one nibb;e right (/10)
0418+  0000             ARY_SHR_4BITS     = $F771 ; Shift AR-Y one nibble right (/10)
0419+  0000             ARX_SHR_4BITS     = $F775 ; Shift AR-X one nibble right (/10)
0420+  0000             X_REG_SHR_4BITS   = $F777 ; Shift X-Reg one nibble right (/10)
0421+  0000             ARS_SHL_4BITS     = $F78C ; Shift AR-S one nibble left (*10).
0422+  0000             ARW_SHL_4BITS     = $F794 ; Shift AR-W one nibble left (*10).
0423+  0000             ARZ_SHL_4BITS     = $F798 ; Shift AR-Z one nibble left (*10).
0424+  0000             ARX_SHL_4BITS     = $F79C ; Shift AR-X one nibble left (*10).
0425+  0000             RND2ARX           = $F7A7 ; Transfer random number from RND to AR-X.
0426+  0000             SET_HB_XYREGS     = $F7B0 ; Set high bytes in X-Reg and Y-Reg to 7A (to AR register).
0427+  0000             SWAP_AARX_ARY     = $F7B5 ; Swap AR-X with AR-S.
0428+  0000             SWAP_ARX_ARY      = $F7B9 ; Swap AR-X with AR-Y.
0429+  0000             SWAP_BYTES        = $F7BF ; Swap bytes (UL+1)
0430+  0000             ADD_ARU_ARX       = $F7C8 ; AR-X = AR-X + AR-U.
0431+  0000             TOKENIZE_INBUF    = $F957 ; Tokenizer. Convert input buffer to program line.
0432+  0000             VAR_TYPE          = $F97B ; Convert input buffer into tokens and use formula interpreter
0433+  0000             DEC_OPN           = $FA58 ; Decrement the OPN byte in A in 2K steps
0434+  0000             SET_PV            = $FA65 ; Sets PV bit and PV byte according to Carry flag
0435+  0000             TOKEN_CHECK       = $FA74 ; Checks if token table exists, right-shifted HB address in A. No, C=0.
0436+  0000             TOKEN_PROCESS     = $FA89 ; Processes tokens according to data bytes.
0437+  0000             PVBANK_A          = $FB2A ; Performs PV banking according to A (79D0).
0438+  0000             TRACE             = $FB9D ; Trace
0439+  0000             STRXFR            = $FBCB ; Save string to output buffer or output to string buffer
0440+  0000             AUX_CONST         = $FBE9 ; Auxiliary constants for arithmetic routines
0441+  0000             CHARSET           = $FCA0 ; Character set table
0442+  0000             KB_LAYOUT_NORM    = $FE80 ; Keyborad layout (standard function)
0443+  0000             KB_LAYOUT_SH      = $FEC0 ; Keyborad layout (shifted function)
0444+  0000             CALL_VECTORS      = $FF00 ; Table for CALL vectors
0008   0000             #INCLUDE    "lib/CE-158.lib"
0001+  0000              ; CE-158 library file
0002+  0000             OUTSTAT_REG       = $7850 ; CE-158 OUTSTAT value
0003+  0000             CONSOLE_REG       = $7851 ; CE-158 CONSOLE. Number of characters/line. Default=0=unlimited
0004+  0000             CONSOLE2          = $7852 ; CE-158 Console 1 (//)
0005+  0000             CE158_UNDEF1      = $7853 ; CE-158 Undefined
0006+  0000             CE158_UNDEF2      = $7854 ; CE-158 Undefined
0007+  0000             CRLF_REG          = $7855 ; CE-158 EOL Character(s) used i.e. CR/LF. HB for LPT, LB for COM
0008+  0000             ZONE_REG          = $7856 ; CE-158 ZONE
0009+  0000             SETDEV_REG        = $7857 ; CE-158 SETDEV value
0010+  0000             SETCOM_REG        = $7858 ; CE-158 SETCOM
0011+  0000             CE158_7859_UNDEF  = $7859 ; CE-158 Undefined
0012+  0000             CE158_785A_UNDEF  = $785A ; CE-158 Undefined
0013+  0000             CE158_REG_79DD    = $79DD ; Used for BPD command flags
0014+  0000             CE158_REG_79DE    = $79DE ; Unknown use
0015+  0000             CE158_REG_79DF    = $79DF ; Used for CLOAD/CSAVE BUSY annunciator blink counter
0016+  0000             CE158_REG_79FA    = $79FA ; Used by CE-158
0017+  0000             CE158_REG_79FB    = $79FB ; Used by CE-158
0018+  0000             CE158_REG_79FC    = $79FC ; Used by CE-158
0019+  0000             CE158_REG_79FD    = $79FD ; Used by CE-158
0020+  0000             CE158_REG_79FE    = $79FE ; Used by CE-158
0021+  0000             CE158_7B08        = $7B08 ; Used in CE-158 Low Bank
0022+  0000             CE158_DIV_RESET   = $D004 ; CE158_DIVIDER_RESET (ME1)
0023+  0000             CE158_UREG_OUTP   = $D005 ; CE158_U_REG_OUTPUT  (ME1)
0024+  0000             CE158_SER_XFR     = $D006 ; CE158_SERIAL_XFR  (ME1)
0025+  0000             CE158_FREG_LDIV   = $D007 ; CE158_F_REG_LD/DIV  (ME1)
0026+  0000             CE158_PRT_C       = $D008 ; CE158_PRT_C  (ME1)
0027+  0000             CE158_G_REG       = $D009 ; CE158_G_REG  (ME1)
0028+  0000             CE158_MSK_REG     = $D00A ; CE158_MSK_REG  (ME1)
0029+  0000             CE158_IF_REG      = $D00B ; CE158_IF_REG  (ME1)
0030+  0000             CE158_PRT_A_DIR   = $D00C ; CE158_PRT_A_DIR  (ME1)
0031+  0000             CE158_PRT_B_DIR   = $D00D ; CE158_PRT_B_DIR  (ME1)
0032+  0000             CE158_PRT_A       = $D00E ; CE158_PRT_A  (ME1)
0033+  0000             CE158_PRT_B       = $D00F ; CE158_PRT_B  (ME1)
0034+  0000             CE158_UART_DATAW  = $D200 ; UART_DATA_W
0035+  0000             CE158_UART_REGW   = $D201 ; UART_REG_W
0036+  0000             CE158_UART_DATAR  = $D202 ; UART_DATA_R
0037+  0000             CE158_UART_REGR   = $D203 ; UART_REG_R
0038+  0000             CE-158_IR_PING    = $DC00 ; PC-1500 pings this address every ISR cycle (does nothing)
0039+  0000             CE158_IR_REG      = $DE00 ; Interrupt ID register, Bit 7 0 = INT, 1 = No INT.
0009   0000             ;#INCLUDE    "lib/CE-158N.lib"
0010   0000             #INCLUDE    "lib/CE-150.lib"
0001+  0000              ; CE-150 library file
0002+  0000             USER_CTRX_H       = $79E0 ; CE-150, USER COUNTER X (Counter for X coord. of pen) (H)
0003+  0000             USER_CTRX_L       = $79E1 ; CE-150, USER COUNTER X (Counter for X coord. of pen) (L)
0004+  0000             USER_CTRY_H       = $79E2 ; CE-150, USER COUNTER Y (Counter for Y coord. of pen) (H)
0005+  0000             USER_CTRY_L       = $79E3 ; CE-150, USER COUNTER Y (Counter for Y coord. of pen) (L)
0006+  0000             SCIS_CTRY_H       = $79E4 ; CE-150, SCISSORING COUNTER Y (Y dir scissoring counter) (H)
0007+  0000             SCIS_CTRY_L       = $79E5 ; CE-150, SCISSORING COUNTER Y (Y dir scissoring counter) (L)
0008+  0000             ABS_POSX          = $79E6 ; CE-150, ABSOLUTE POSITION X (X dir absolute point counter)
0009+  0000             SCIS_EXTY_H       = $79E7 ; CE-150, SCISSORING COUNTER X (X dir scissoring counter) (H)
0010+  0000             SCIS_EXTY_L       = $79E8 ; CE-150, SCISSORING COUNTER X (X dir scissoring counter) (L)
0011+  0000             PEN_UPDOWN        = $79E9 ; CE-150, Pen UP/DOWN
0012+  0000             LINE_TYPE         = $79EA ; CE-150, LINE TYPE (0 to 9), GRAPH mode
0013+  0000             DOT_LINE_CTR      = $79EB ; CE-150, Dotted line counter
0014+  0000             CURR_PEN          = $79EC ; CE-150, Current Pen position: 00=up, 01=down
0015+  0000             XMTR_HLD_CTR      = $79ED ; CE-150, X-motor hold counter
0016+  0000             MTR_PHASE         = $79EE ; CE-150, Motor Phase: stored in Port C
0017+  0000             YMTR_HLD_CTR      = $79EF ; CE-150, Y-Motor hold counter
0018+  0000             PRNT_MODE         = $79F0 ; CE-150, Print Mode: 00=TEXT, FF=GRAPH
0019+  0000             PRNT_DISABLE      = $79F1 ; CE-150, Printer disable
0020+  0000             PRNT_ROTATE       = $79F2 ; CE-150, ROTATE setting (0 to 3)
0021+  0000             PRNT_COLOR        = $79F3 ; CE-150, COLOR setting (0 to 3)
0022+  0000             PRNT_CSIZE        = $79F4 ; CE-150, CSIZE setting (0 to 3)
0023+  0000             PRNT_LLPARAM      = $79F5 ; CE-150, LPRINT/LLIST Parameter
0024+  0000             PRNT_TEMPM        = $79F6 ; CE-150, LINE=dir. param. LLIST=determine LF. COLOR=Pen location.
0025+  0000             PRNT_DTYPE        = $79F7 ; CE-150, Type of data LRPINTed: 00=numeric, FF=character string
0026+  0000             PRNT_TEMPP        = $79F8 ; CE-150, Temp storage of Pen location during paper feed
0027+  0000             PRNT_PWRINT       = $79F9 ; CE-150, Flag indicating power up/interrupt in progress
0028+  0000             PRNT_VEC          = $A000 ; CE-150 Character vectors (A000-A28A)
0029+  0000             PRNT_VEC_SIZE     = $028B ; 
0030+  0000             MGP1_150          = $A28B ; Start of MGP 1 program block
0031+  0000             COLDES            = $A519 ; CE-150 Color Designation
0032+  0000             MOTOFF            = $A769 ; CE-150 Printer motor OFF
0033+  0000             PRINT_150         = $A781 ; CE-150 Print ASCII character (no LF)
0034+  0000             MOTDRV            = $A8DD ; CE-150 Motor Drive, move pen
0035+  0000             LFEED             = $A951 ; CE-150 Line Feed
0036+  0000             NLFEED            = $AA04 ; CE-150 send #n line feeds to printer
0037+  0000             PENUPDOWN         = $AAE3 ; CE-150 Pen Up/Down
0038+  0000             GRPHPREP          = $ABEF ; CE-150 Switch from tect to graphics mode
0039+  0000             TEXT              = $ACA6 ; CE-150 TEXT
0040+  0000             TEXTPREP          = $ACD3 ; CE-150 Text mode preperation
0041+  0000             GRAPH             = $ACD3 ; CE-150 GRAPH
0042+  0000             CE150_MSK_REG     = $B00A ; (ME1)
0043+  0000             CE150_IF_REG      = $B00B ; (ME1)
0044+  0000             CE150_PRT_A_DIR   = $B00C ; (ME1)
0045+  0000             CE150_PRT_B_DIR   = $B00D ; (ME1)
0046+  0000             CE150_PRT_A       = $B00E ; (ME1)
0047+  0000             CE150_PRT_B       = $B00F ; (ME1)
0048+  0000             SORGN             = $B153 ; CE-150 SORGN
0049+  0000             ROTATE            = $B15A ; CE-150 ROTATE
0050+  0000             COLOR             = $B16A ; CE-150 COLOR
0051+  0000             CSIZE             = $B180 ; CE-150 CSIZE
0052+  0000             GLCURSOR          = $B191 ; CE-150 GLCURSOR
0053+  0000             LF                = $B1B4 ; CE-150 LF
0054+  0000             LINE              = $B222 ; CE-150 LINE
0055+  0000             RLINE             = $B224 ; CE-150 RLINE
0056+  0000             LPRINT_150        = $B2EC ; CE-150 LPRINT
0057+  0000             LLIST_150         = $B754 ; CE-150 LLIST
0058+  0000             CMT_PNAME         = $B800 ; CMT Periph name (B800-B809), 55 01 43 4D 54 0D 0D 0D 0D 0D, U CMT /CR
0059+  0000             SBRA4             = $B888 ; SBR A4 Start of program block CMT 2
0060+  0000             SBRA8             = $B88B ; SBR A8
0061+  0000             SBRAA             = $B88E ; SBR AA
0062+  0000             SBRAE             = $B891 ; SBR AE
0063+  0000             SBRB0             = $B894 ; SBR B0
0064+  0000             SBRB2             = $B897 ; SBR B2
0065+  0000             SBRB4             = $B89A ; SBR B4
0066+  0000             SBRB6             = $B89D ; SBR B6
0067+  0000             SBRB8             = $B8A0 ; SBR B8
0068+  0000             PCJUMP01          = $B8A3 ; Direct PC load from &E524
0069+  0000             CSAVE_150         = $B8A6 ; CE-150 CSAVE
0070+  0000             CLOAD_150         = $B8F9 ; CE-150 CLOAD
0071+  0000             MERGE_150         = $B994 ; CE-150 MERGE
0072+  0000             CHAIN_150         = $BB6A ; CE-150 CHAIN
0073+  0000             HEADERCREATE      = $BBD6 ; CE-150 Write tape synchronisation header
0074+  0000             TERMCMTIO         = $BBF5 ; CE-150 Finalisation of tape I/O control
0075+  0000             HEADERIO          = $BCE8 ; CE-150 Read tape synchronisation feader / Searh for filename
0076+  0000             FILETRSF          = $BD3C ; CE-150 Read / Write file to tape
0077+  0000             SAVEONECHR        = $BDCC ; CE-150 Send a character to tape
0078+  0000             LOADONECHR        = $BDF0 ; CE-150 Read a character from tape
0079+  0000             RMT               = $BEF9 ; CE-150 RMT
0080+  0000             REMOTEON          = $BF11 ; CE-150 Remote ON
0081+  0000             REMOTEOFF         = $BF43 ; CE-150 Remote OFF
0011   0000             #INCLUDE    "lib/PC-1500_Macros.lib"
0001+  0000             ; PC-1500 Macros
0002+  0000             ;------------------------------------------------------------------------------------------------------------
0003+  0000             ; Assembly macros used to encode arguments for lh5801 'macros' that take arguments inline after CALL
0004+  0000             
0005+  0000             #define EQU .EQU
0006+  0000             .MSFIRST
0007+  0000             
0008+  0000             COMMA:      EQU $2C                         ; ',' used for macros
0009+  0000             CR:         EQU $0D                         ; '/CR' used for macros
0010+  0000             DASH:       EQU $2D                         ; '-' used for macros
0011+  0000             EQUALS:     EQU $3D                         ; '-' used for macros
0012+  0000             HASH:       EQU $23                         ; '#' used for macros
0013+  0000             SEMI:       EQU $3B                         ; ';' used for macros
0014+  0000             QUOTE:      EQU $22                         ; '-' used for macros
0015+  0000             DOLLAR:     EQU $24                         ; '#' used for macros
0016+  0000             PERCENT:    EQU $25                         ; ';' used for macros
0017+  0000             
0018+  0000             
0019+  0000             TOK_OFF:    EQU $F19E                       ; OFF   command token
0020+  0000             TOK_ON:     EQU $F19C                       ; ON    command token
0021+  0000             TOK_TAB:    EQU $F0BB                       ; TAB   command token
0022+  0000             TOK_USING:  EQU $F085                       ; USING command token
0023+  0000             
0024+  0000             
0025+  0000             #define ABRF(n8)        .BYTE n8 - $ - 1    ; calculate forward branch
0026+  0000             #define ABYT(n8)        .BYTE n8            ; use byte verbatium
0027+  0000             #define ABYTL(n16)      .BYTE n16 & $FF     ; use byte verbatium
0028+  0000             #define ACHR(ch)        .BYTE ch            ; character
0029+  0000             #define AWRD(n16)       .WORD n16           ; use word value verbatum
0030+  0000             #define CNIB(n81,n82)   .BYTE ((n81 & $F0) | (n82 & $0F))   ; calculates control nibble
0031+  0000             #define HB(n16)         (n16 >> 8)          ; Return HB of 16bit value
0032+  0000             #define LB(n16)         (n16 & $FF)         ; Return HB of 16bit value
0033+  0000             #define HBO(n16,n8)     ((n16 + n8) >> 8)   ; Return HB of 16bit value
0034+  0000             #define LBO(n16,n8)     ((n16 + n8) & $FF)  ; Return HB of 16bit value
0035+  0000             
0036+  0000             ; CE-158 related
0037+  0000             #define HIGH_BANK       SPU \ SPV           ; Switch to High Bank
0038+  0000             #define LOW_BANK        RPU \ SPV           ; Switch to High Bank
0039+  0000             #define SETCOM_M        LDI A,$F9 \ STA (SETCOM_REG)    ; SETDEV to 2400,8,N,1
0040+  0000             #define SETDEV_M(n8)    LDI A,n8 \ STA (SETDEV_REG)     ; SETCOM to device passed
0041+  0000             #define SETOPN_M(n8)    LDI A,n8 \ STA (OPN)            ; Set OPN to n8 table
0042+  0000             
0043+  0000             KI:                 EQU $01                     ;
0044+  0000             DO:                 EQU $02                     ;
0045+  0000             PO:                 EQU $04                     ;
0046+  0000             CI:                 EQU $08                     ;
0047+  0000             CO:                 EQU $10                     ;
0048+  0000             U1:                 EQU $20                     ; U1, use UART 1 (Bit5=0=UART0, Bit5=1=UART1)
0049+  0000             PN:                 EQU $40                     ; PN, LPT port to input
0050+  0000             BP:                 EQU $80                     ; BP, enable BDP mode with U0
0051+  0000             
0052+  0000             #define ADDRCHK(add,location)        #if ($ > add)    ; check address
0053+  0000             #DEFCONT                     \!over_run
0054+  0000             #DEFCONT                     \.ECHO location
0055+  0000             #DEFCONT                     \.ECHO " address over run by "
0056+  0000             #DEFCONT                     \.ECHO ($ - add)
0057+  0000             #DEFCONT                     \.ECHO " bytes\r\n"
0058+  0000             #DEFCONT                     \#endif
0012   0000             
0013   0000             ; IWS Videointerface RAM map
0014   0000             COLORRAM = $6000 ; $6000~$67FF ME1
0015   0000             GRAPHRAM = $6800 ; $6800~$67FF ME1
0016   0000             VIDEORAM = $7000 ; $7000-$77FF ME1
0017   0000             CRTCTRL  = $7800 ; $7800-$7801 ME1
0018   0000             NOTUSED  = $7802 ; $7802~$7FFF ME1
0019   0000             
0020   8000             .ORG $8000
0021   8000             
0022   8000             ;------------------------------------------------------------------------------------------------------------
0023   8000             ; BASIC Command Table 8000
0024   8000             ;------------------------------------------------------------------------------------------------------------
0025   8000             ;% B_TBL_8000 START
0026   8000             B_TBL_8000:
0027   8000 55              .BYTE  $55                                          ; Marker that BASIC Table follows 
0028   8001             
0029   8001             B_TBL_8000_TNUM:
0030   8001 05              .BYTE  $05                                          ; Table number
0031   8002             
0032   8002             B_TBL_8000_NAME:
0033   8002 43 52 54 0D     .TEXT  "CRT\r" \ .BYTE $9A,$9A,$9A,$9A              ; Table name
0033   8006 9A 9A 9A 9A 
0034   800A             
0035   800A             B_TBL_8000_INIT:
0036   800A BA 8D C1        JMP     TBL_INIT                                    ; $8DC1 - Table initilization vector
0037   800D             
0038   800D             B_TBL_8000_INPUT_NUM:
0039   800D BA 92 D6        JMP     JMP_92D6 ; $92D6                            ; 82C5 - Table INPUT# vector
0040   8010             
0041   8010             B_TBL_8000_PRINT_NUM:
0042   8010 BA 92 D6        JMP     JMP_92D6 ; $92D6                            ; 82C9 - Table PRINT# vector
0043   8013             
0044   8013             B_TBL_8000_JMPS:
0045   8013 9A 9A 9A 9A     .BYTE  $9A,$9A,$9A,$9A,$9A,$9A,$9A,$9A,$9A,$9A      ; Unused jumps 
0045   8017 9A 9A 9A 9A 
0045   801B 9A 9A 
0046   801D             
0047   801D             B_TBL_8000_TRACE:
0048   801D 93 50 FF        .BYTE $93,$50,$FF                                   ; Unusual
0049   8020             
0050   8020             B_TBL_8000_A_KW:
0051   8020 00 00           .WORD $0000                                         ;
0052   8022             
0053   8022             B_TBL_8000_B_KW:
0054   8022 80 56           .WORD LET_B                                         ; $8056
0055   8024             
0056   8024             B_TBL_8000_C_KW:
0057   8024 80 61           .WORD LET_C                                         ; $8061
0058   8026             
0059   8026             B_TBL_8000_D_KW:
0060   8026 80 95           .WORD LET_D                                         ; $8095
0061   8028             
0062   8028             B_TBL_8000_E_KW:
0063   8028 80 A5           .WORD LET_E                                         ; $80A5
0064   802A             
0065   802A             B_TBL_8000_F_KW:
0066   802A 00 00           .WORD $0000                                         ;
0067   802C             
0068   802C             B_TBL_8000_G_KW:
0069   802C 80 BE           .WORD LET_G                                         ; $80BE
0070   802E             
0071   802E             B_TBL_8000_H_KW:
0072   802E 80 E0           .WORD LET_H                                         ; $80E0
0073   8030             
0074   8030             B_TBL_8000_I_KW:
0075   8030 81 02           .WORD LET_I                                         ; $8102
0076   8032             
0077   8032             B_TBL_8000_J_KW:
0078   8032 00 00           .WORD $0000                                         ; 
0079   8034             
0080   8034             B_TBL_8000_K_KW:
0081   8034 81 0C           .WORD LET_K                                         ; $810C
0082   8036             
0083   8036             B_TBL_8000_L_KW:
0084   8036 81 14           .WORD LET_L                                         ; $8114
0085   8038             
0086   8038             B_TBL_8000_M_KW:
0087   8038 81 26           .WORD LET_M                                         ; $8126
0088   803A             
0089   803A             B_TBL_8000_N_KW:
0090   803A 00 00           .WORD $0000                                         ; 
0091   803C             
0092   803C             B_TBL_8000_O_KW:
0093   803C 00 00           .WORD $0000                                         ; 
0094   803E             
0095   803E             B_TBL_8000_P_KW:
0096   803E 81 3B           .WORD LET_P                                         ; $813B
0097   8040             
0098   8040             B_TBL_8000_Q_KW:
0099   8040 00 00           .WORD $0000                                         ; 
0100   8042             
0101   8042             B_TBL_8000_R_KW:
0102   8042 81 45           .WORD LET_R                                         ; $8145
0103   8044             
0104   8044             B_TBL_8000_S_KW:
0105   8044 81 5B           .WORD LET_S                                         ; $815B
0106   8046             
0107   8046             B_TBL_8000_T_KW:
0108   8046 81 6E           .WORD LET_T                                         ; $816E
0109   8048             
0110   8048             B_TBL_8000_U_KW:
0111   8048 00 00           .WORD $0000                                         ; 
0112   804A             
0113   804A             B_TBL_8000_V_KW:
0114   804A 81 78           .WORD LET_V                                         ; $8178
0115   804C             
0116   804C             B_TBL_8000_W_KW:
0117   804C 00 00           .WORD $0000                                         ; 
0118   804E             
0119   804E             B_TBL_8000_X_KW:
0120   804E 00 00           .WORD $0000                                         ; 
0121   8050             
0122   8050             B_TBL_8000_Y_KW:
0123   8050 00 00           .WORD $0000                                         ; 
0124   8052             
0125   8052             B_TBL_8000_Z_KW:
0126   8052 00 00           .WORD $0000                                         ; 
0127   8054             
0128   8054             B_TBL_8000_CMD_LST:     ;Token LB < 80 command is function, else is proceedure
0129   8054             ;Ctrl nibble    Ctrl nib calc            Name              Token  Vector
0130   8054             LET_B:  EQU ($ + 2) ; First keyword starting with 'B'. LET_B = Address of 'A' in BACKGR
0131   8054             CN1:    EQU $D6 \ CNIB($96,CN1)     \ .TEXT "BACKGR"    \ .WORD $F0DE, $9023        ; $8054
0131   8054 96          
0131   8055 42 41 43 4B 
0131   8059 47 52 
0131   805B F0 DE 90 23 
0132   805F             
0133   805F             LET_C:  EQU ($ + 2) ; First keyword starting with 'C'. LET_C = Address of 'L' in CLS
0134   805F             CN2:    EQU $C3 \ CNIB(CN1,CN2)     \ .TEXT "CLS"       \ .WORD $F088, $8974        ; $805F
0134   805F D3          
0134   8060 43 4C 53    
0134   8063 F0 88 89 74 
0135   8067             CN3:    EQU $A5 \ CNIB(CN2,CN3)     \ .TEXT "CHAIN"     \ .WORD $F0B2, $92DC        ; $8067
0135   8067 C5          
0135   8068 43 48 41 49 
0135   806C 4E 
0135   806D F0 B2 92 DC 
0136   8071             CN4:    EQU $C6 \ CNIB(CN3,CN4)     \ .TEXT "COLORV"    \ .WORD $F0EB, $914F        ; $8071
0136   8071 A6          
0136   8072 43 4F 4C 4F 
0136   8076 52 56 
0136   8078 F0 EB 91 4F 
0137   807C             CN5:    EQU $C7 \ CNIB(CN4,CN5)     \ .TEXT "CONSOLE"   \ .WORD $F0B1, $89B5        ; $807C
0137   807C C7          
0137   807D 43 4F 4E 53 
0137   8081 4F 4C 45 
0137   8084 F0 B1 89 B5 
0138   8088             CN6:    EQU $D6 \ CNIB(CN5,CN6)     \ .TEXT "CURSOR"    \ .WORD $F084, $8A49        ; $8088
0138   8088 C6          
0138   8089 43 55 52 53 
0138   808D 4F 52 
0138   808F F0 84 8A 49 
0139   8093             
0140   8093             LET_D:  EQU ($ + 2) ; First keyword starting with 'D'. LET_D = Address of 'EI' in DIR
0141   8093             CN7:    EQU $C3 \ CNIB(CN6,CN7)     \ .TEXT "DIR"       \ .WORD $F0E0, $92CA        ; $8093
0141   8093 D3          
0141   8094 44 49 52    
0141   8097 F0 E0 92 CA 
0142   809B             CN8:    EQU $53 \ CNIB(CN7,CN8)     \ .TEXT "DEC"       \ .WORD $F070, $914C        ; $809B
0142   809B C3          
0142   809C 44 45 43    
0142   809F F0 70 91 4C 
0143   80A3             
0144   80A3             LET_E:  EQU ($ + 2) ; First keyword starting with 'E'. LET_E = Address of 'D' in EDIT
0145   80A3             CN9:    EQU $C4 \ CNIB(CN8,CN9)     \ .TEXT "EDIT"      \ .WORD $F0C7, $914F        ; $80A3
0145   80A3 54          
0145   80A4 45 44 49 54 
0145   80A8 F0 C7 91 4F 
0146   80AC             CN10:   EQU $C3 \ CNIB(CN9,CN10)    \ .TEXT "ERL"       \ .WORD $F053, $9088        ; $80AC
0146   80AC C3          
0146   80AD 45 52 4C    
0146   80B0 F0 53 90 88 
0147   80B4             CN11:   EQU $D3 \ CNIB(CN10,CN11)   \ .TEXT "ERN"       \ .WORD $F052, $9082        ; $80B4
0147   80B4 C3          
0147   80B5 45 52 4E    
0147   80B8 F0 52 90 82 
0148   80BC             
0149   80BC             LET_G:  EQU ($ + 2) ; First keyword starting with 'G'. LET_G = Address of 'C' in GCLS
0150   80BC             CN12:   EQU $C4 \ CNIB(CN11,CN12)   \ .TEXT "GCLS"      \ .WORD $F0E1, $9107        ; $80BC
0150   80BC D4          
0150   80BD 47 43 4C 53 
0150   80C1 F0 E1 91 07 
0151   80C5             CN13:   EQU $C8 \ CNIB(CN12,CN13)   \ .TEXT "GVCURSOR"  \ .WORD $F0E8, $914F        ; $80C5
0151   80C5 C8          
0151   80C6 47 56 43 55 
0151   80CA 52 53 4F 52 
0151   80CE F0 E8 91 4F 
0152   80D2             CN14:   EQU $D7 \ CNIB(CN13,CN14)   \ .TEXT "GVPRINT"   \ .WORD $F0E9, $914F        ; $80D2
0152   80D2 C7          
0152   80D3 47 56 50 52 
0152   80D7 49 4E 54 
0152   80DA F0 E9 91 4F 
0153   80DE             
0154   80DE             LET_H:  EQU ($ + 2) ; First keyword starting with 'H'. LET_H = Address of 'C' in HCURSOR
0155   80DE             CN15:   EQU $C7 \ CNIB(CN14,CN15)   \ .TEXT "HCURSOR"   \ .WORD $F054, $8EFD        ; $80DE
0155   80DE D7          
0155   80DF 48 43 55 52 
0155   80E3 53 4F 52 
0155   80E6 F0 54 8E FD 
0156   80EA             CN16:   EQU $C8 \ CNIB(CN15,CN16)   \ .TEXT "HPCURSOR"  \ .WORD $F055, $8F04        ; $80EA
0156   80EA C8          
0156   80EB 48 50 43 55 
0156   80EF 52 53 4F 52 
0156   80F3 F0 55 8F 04 
0157   80F7             CN17:   EQU $B4 \ CNIB(CN16,CN17)   \ .TEXT "HEX$"      \ .WORD $F071, $8981        ; $80F7
0157   80F7 C4          
0157   80F8 48 45 58 24 
0157   80FC F0 71 89 81 
0158   8100             
0159   8100             LET_I:  EQU ($ + 2) ; First keyword starting with 'I'. LET_I = Address of 'N' in INPUT
0160   8100             CN18:   EQU $D5 \ CNIB(CN17,CN18)   \ .TEXT "INPUT"     \ .WORD $F091, $8C89        ; $8100
0160   8100 B5          
0160   8101 49 4E 50 55 
0160   8105 54 
0160   8106 F0 91 8C 89 
0161   810A             
0162   810A             LET_K:  EQU ($ + 2) ; First keyword starting with 'K'. LET_K = Address of 'E' in KEY
0163   810A             CN19:   EQU $D3 \ CNIB(CN18,CN19)   \ .TEXT "KEY"       \ .WORD $F0E2, $9308        ; $810A
0163   810A D3          
0163   810B 4B 45 59    
0163   810E F0 E2 93 08 
0164   8112             
0165   8112             LET_L:  EQU ($ + 2) ; First keyword starting with 'L'. LET_L = Address of 'I' in LIST
0166   8112             CN20:   EQU $C4 \ CNIB(CN19,CN20)   \ .TEXT "LIST"      \ .WORD $F090, $8F16        ; $8112
0166   8112 D4          
0166   8113 4C 49 53 54 
0166   8117 F0 90 8F 16 
0167   811B             CN21:   EQU $D4 \ CNIB(CN20,CN21)   \ .TEXT "LOAD"      \ .WORD $F080, $9244        ; $811B
0167   811B C4          
0167   811C 4C 4F 41 44 
0167   8120 F0 80 92 44 
0168   8124             
0169   8124             LET_M:  EQU ($ + 2) ; First keyword starting with 'M'. LET_M = Address of 'O' in MONITOR
0170   8124             CN22:   EQU $C7 \ CNIB(CN21,CN22)   \ .TEXT "MONITOR"   \ .WORD $F0E4, $8EE1        ; $8124
0170   8124 D7          
0170   8125 4D 4F 4E 49 
0170   8129 54 4F 52 
0170   812C F0 E4 8E E1 
0171   8130             CN23:   EQU $D4 \ CNIB(CN22,CN23)   \ .TEXT "MODE"      \ .WORD $F0DF, $91D3        ; $8130
0171   8130 C4          
0171   8131 4D 4F 44 45 
0171   8135 F0 DF 91 D3 
0172   8139             
0173   8139             LET_P:  EQU ($ + 2) ; First keyword starting with 'P'. LET_P = Address of 'R' in PRINT
0174   8139             CN24:   EQU $D5 \ CNIB(CN23,CN24)   \ .TEXT "PRINT"     \ .WORD $F097, $91A7        ; $8139
0174   8139 D5          
0174   813A 50 52 49 4E 
0174   813E 54 
0174   813F F0 97 91 A7 
0175   8143             
0176   8143             LET_R:  EQU ($ + 2) ; First keyword starting with 'R'. LET_R = Address of 'E' in REPKEY
0177   8143             CN25:   EQU $C6 \ CNIB(CN24,CN25)   \ .TEXT "REPKEY"    \ .WORD $F0C3, $90F1        ; $8143
0177   8143 D6          
0177   8144 52 45 50 4B 
0177   8148 45 59 
0177   814A F0 C3 90 F1 
0178   814E             CN26:   EQU $D6 \ CNIB(CN25,CN26)   \ .TEXT "REPROG"    \ .WORD $F0C5, $914F        ; $814E
0178   814E C6          
0178   814F 52 45 50 52 
0178   8153 4F 47 
0178   8155 F0 C5 91 4F 
0179   8159             
0180   8159             LET_S:  EQU ($ + 2) ; First keyword starting with 'S'. LET_S = Address of 'A' in SAVE
0181   8159             CN27:   EQU $C4 \ CNIB(CN26,CN27)   \ .TEXT "SAVE"      \ .WORD $F081, $9234        ; $8159
0181   8159 D4          
0181   815A 53 41 56 45 
0181   815E F0 81 92 34 
0182   8162             CN28:   EQU $D5 \ CNIB(CN27,CN28)   \ .TEXT "SLEEP"     \ .WORD $F0E7, $90AA        ; $8162
0182   8162 C5          
0182   8163 53 4C 45 45 
0182   8167 50 
0182   8168 F0 E7 90 AA 
0183   816C             
0184   816C             LET_T:  EQU ($ + 2) ; First keyword starting with 'T'. LET_T = Address of 'E' in TESTV
0185   816C             CN29:   EQU $D5 \ CNIB(CN28,CN29)   \ .TEXT "TESTV"     \ .WORD $F0EA, $914F        ; $816C
0185   816C D5          
0185   816D 54 45 53 54 
0185   8171 56 
0185   8172 F0 EA 91 4F 
0186   8176             
0187   8176             LET_V:  EQU ($ + 2) ; First keyword starting with 'V'. LET_V = Address of 'E' in VERIFYQ
0188   8176             CN30:   EQU $C7 \ CNIB(CN29,CN30)   \ .TEXT "VERIFYQ"   \ .WORD $F083, $92D9        ; $8176
0188   8176 D7          
0188   8177 56 45 52 49 
0188   817B 46 59 51 
0188   817E F0 83 92 D9 
0189   8182             CN31:   EQU $C7 \ CNIB(CN30,CN31)   \ .TEXT "VCURSOR"   \ .WORD $F056, $8EE4        ; $8182
0189   8182 C7          
0189   8183 56 43 55 52 
0189   8187 53 4F 52 
0189   818A F0 56 8E E4 
0190   818E             CN32:   EQU $C8 \ CNIB(CN31,CN32)   \ .TEXT "VPCURSOR"  \ .WORD $F050, $8EEB        ; $818E
0190   818E C8          
0190   818F 56 50 43 55 
0190   8193 52 53 4F 52 
0190   8197 F0 50 8E EB 
0191   819B             
0192   819B             CN33:  EQU $D0 \ .BYTE CN33
0192   819B D0          
0193   819C             
0194   819C             B_TBL_8000_END:
0195   819C             ;% B_TBL_8000 END
0196   819C             
0197   819C             
0198   819C             FILLER: ; $819C
0199   819C 00 38           .BYTE $00,$38
0200   819E             
0201   819E             ;------------------------------------------------------------------------------------------------------------
0202   819E             ; $81DE XCHR_INPUT - External Character Input Routine
0203   819E             ; Called from: BR $826F, $827C, LIST:$8F8F
0204   819E             ; Arguments: 
0205   819E             ; Outputs: 
0206   819E             ; RegMod: 
0207   819E             ;------------------------------------------------------------------------------------------------------------
0208   819E             ;% LB_XCHR_INPUT START
0209   819E             XCHR_INPUT:
0210   819E FD 98           PSH  Y                          ; 
0211   81A0 FD A5 77 D9     LDA  #(VIDEORAM + $07D9)        ; $77D9
0212   81A4 B7 01           CPI  A,$01                      ; 
0213   81A6 89 0A           BZR  BR_81B2                    ; A <> $01
0214   81A8 B5 40           LDI  A,$40                      ; Set OPEN to $40 
0215   81AA AE 79 D1        STA  (OPN)                      ; OPN device code: 60=LCD, 5C=CMT, 58=MGP. C4=LPRT, C0=COM
0216   81AD FD EB 77 D9     ORI  #(VIDEORAM + $07D9),$02    ; $77D9 - Set Bit 1
0216   81B1 02 
0217   81B2             
0218   81B2             BR_81B2: ; BR $81A6
0219   81B2 E9 79 D4 00     ANI  (KB_BYPASS),$00            ; $79D4 - Turn off keyboard bypass
0220   81B6 14              LDA  YL                         ; 
0221   81B7 FD AE 77 D4     STA  #(VIDEORAM + $07D4)        ; $77D4
0222   81BB A5 78 80        LDA  (DISPARAM)                 ; $7880 - Display Parameter: determines display at READY
0223   81BE B7 02           CPI  A,$02                      ; Bit 1: Program waits for Enter after a print command
0224   81C0 8B 6D           BZS  BR_822F                    ; A == $02
0225   81C2             
0226   81C2 FD A5 77 D3     LDA  #(VIDEORAM + $07D3)        ; $77D3
0227   81C6 B7 19           CPI  A,$19                      ; 
0228   81C8 89 05           BZR  BR_81CF                    ; A <> $19
0229   81CA             
0230   81CA BE 8C 57        SJP  (JMP_8C57)                 ; $8C57
0231   81CD 83 60           BCS  BR_822F                    ; Branch if JMP_8C57 returns fail (Carry set)
0232   81CF             
0233   81CF             BR_81CF: ; BR $81C8
0234   81CF BE 88 EB        SJP  (JMP_88EB)                 ; $88EB
0235   81D2 B7 19           CPI  A,$19                      ; 
0236   81D4 81 03           BCR  BR_81D9                    ; A < $19
0237   81D6 BE 84 D7        SJP  (JMP_84D7)                 ; $84D7
0238   81D9             
0239   81D9             BR_81D9: ; BR $81D4
0240   81D9 FD A5 77 D3     LDA  #(VIDEORAM + $07D3)        ; $77D3 
0241   81DD B7 09           CPI  A,$09                      ; 
0242   81DF 89 08           BZR  BR_81E9                    ; A <> $09
0243   81E1 BE 89 29        SJP  (JMP_8929)                 ; $8929
0244   81E4 81 49           BCR  BR_822F                    ; JMP_8929 returned success (Carry reset)
0245   81E6 BE 84 66        SJP  (BR_8466)                  ; $8466
0246   81E9             
0247   81E9             BR_81E9: ; BR $81DF
0248   81E9 FD A5 77 D3     LDA  #(VIDEORAM + $07D3)        ; $77D3
0249   81ED B7 0D           CPI  A,$0D                      ; 
0250   81EF 89 03           BZR  BR_81F4                    ; A <> $0D
0251   81F1 BE 87 CC        SJP  (JMP_87CC)                 ; $87CC
0252   81F4             
0253   81F4             BR_81F4: ; BR $81EF
0254   81F4 BE 88 EB        SJP  (JMP_88EB)                 ; $88EB
0255   81F7 B7 19           CPI  A,$19                      ; 
0256   81F9 81 03           BCR  BR_81FE                    ; A < $19
0257   81FB BE 84 D7        SJP  (JMP_84D7)                 ; $84D7
0258   81FE             
0259   81FE             BR_81FE: ; BR $81F9
0260   81FE FD A5 77 D2     LDA  #(VIDEORAM + $07D2)        ; $77D2
0261   8202 18              STA  YH                         ; 
0262   8203 5A 01           LDI  YL,$01                     ; 
0263   8205 FD A5 77 D8     LDA  #(VIDEORAM + $07D8)        ; $77D8
0264   8209 B7 01           CPI  A,$01                      ; 
0265   820B 89 08           BZR  BR_8215                    ; A <> $01
0266   820D A5 77 4E        LDA  (STRING_VARS + $FE)        ; $774E in DISPLAY BUFFER, Y cursor position
0267   8210 18              STA  YH                         ; 
0268   8211 A5 77 4F        LDA  (STRING_VARS + $FF)        ; $774F in DISPLAY BUFFER, X cursor position
0269   8214 1A              STA  YL                         ; 
0270   8215             
0271   8215             BR_8215: ; BR $820B
0272   8215 BE 8D 6B        SJP  (JMP_8D6B)                 ; $8D6B
0273   8218 FD 18           LDX  Y                          ; 
0274   821A 58 7B           LDI  YH,HB(IN_BUF)              ; $7B
0275   821C 5A B0           LDI  YL,LB(IN_BUF)              ; $B0
0276   821E FD E9 77 D6     ANI  #(VIDEORAM + $07D6),$00    ; $77D6
0276   8222 00 
0277   8223 BE 85 2C        SJP  (JMP_852C)                 ; $852C
0278   8226 BE 86 63        SJP  (JMP_8663)                 ; $8663
0279   8229 BE 84 56        SJP  (JMP_8456)                 ; $8456
0280   822C BE 87 21        SJP  (JMP_8721)                 ; $8721
0281   822F             
0282   822F             BR_822F: ; BR $81C0, $81CD, $81E4
0283   822F E9 7B 0A 00     ANI  (APOW_CTR_H),$00           ; Auto power down counter (H)
0284   8233 E9 7B 0B 00     ANI  (APOW_CTR_M),$00           ; Auto power down counter (M)
0285   8237 E9 7B 0C 00     ANI  (APOW_CTR_L),$00           ; Auto power down counter (L)
0286   823B BE 91 50        SJP  (JMP_9150)                 ; $9150
0287   823E BE 90 DE        SJP  (JMP_90DE)                 ; $90DE
0288   8241 BE 89 63        SJP  (CRTC_CSR_STRT)                 ; $8963
0289   8244 FD C8           PSH  A                          ; 
0290   8246 A5 76 4E        LDA  (DISP_BUFF + $4E)          ; 
0291   8249 BB F7           ORI  A,$F7                      ; 
0292   824B B7 FF           CPI  A,$FF                      ; 
0293   824D 8B 03           BZS  BR_8252                    ; A == $FF
0294   824F BA 82 71        JMP  BR_8271                    ; $8271
0295   8252             
0296   8252             BR_8252: ; BR $824D
0297   8252 FD 88           PSH  X                          ; Save register modified by KEY2ACII
0298   8254 FD 98           PSH  Y                          ; 
0299   8256 FD A8           PSH  U                          ; 
0300   8258 BE E4 2C        SJP  (KEY2ASCII)                ; Return ASCII code of key pressed in Accumulator. If no key: C=1.
0301   825B FD 2A           POP  U                          ; Restore saved registers
0302   825D FD 1A           POP  Y                          ; 
0303   825F FD 0A           POP  X                          ; 
0304   8261 B7 09           CPI  A,$09                      ; 
0305   8263 89 0C           BZR  BR_8271                    ; A <> $$09
0306   8265 EB 76 4E 04     ORI  (DISP_BUFF + $4E),$04      ; 
0307   8269 E9 76 4E F7     ANI  (DISP_BUFF + $4E),$F7      ; 
0308   826D FD 8A           POP  A                          ; 
0309   826F 9E D3           BCH  XCHR_INPUT                 ; $819E
0310   8271             
0311   8271             BR_8271: ; BR $824F, $8263
0312   8271 FD 8A           POP  A                          ; 
0313   8273 B7 1A           CPI  A,$1A                      ; 
0314   8275 89 07           BZR  BR_827E                    ; A <> $1A
0315   8277 BE 8D 41        SJP  (JMP_8D41)                 ; $8D41
0316   827A FD 1A           POP  Y                          ; 
0317   827C 9E E0           BCH  XCHR_INPUT                 ; $819E
0318   827E             
0319   827E             BR_827E: ; BR $8275
0320   827E B7 0B           CPI  A,$0B                      ; 
0321   8280 89 17           BZR  BR_8299                    ; A <> $0B
0322   8282 FD A5 77 D1     LDA  #(VIDEORAM + $07D1)        ; $77D1
0323   8286 B7 28           CPI  A,$28                      ; 
0324   8288 89 0D           BZR  BR_8297                    ; A <> $28
0325   828A FD A5 77 D2     LDA  #(VIDEORAM + $07D2)        ; $77D2
0326   828E B7 03           CPI  A,$03                      ; 
0327   8290 81 05           BCR  BR_8297                    ; A < $03
0328   8292 FD EF 77 D2     ADI  #(VIDEORAM + $07D2),$FF    ; $77D2
0328   8296 FF 
0329   8297             
0330   8297             BR_8297: ; BR $8288, $8290
0331   8297 B5 0B           LDI  A,$0B                      ; 
0332   8299             
0333   8299             BR_8299: ; BR $8280
0334   8299 B7 0B           CPI  A,$0B                      ; 
0335   829B 89 4D           BZR  BR_82EA                    ; A <> $0B
0336   829D FD C8           PSH  A                          ; 
0337   829F BE 86 E4        SJP  (JMP_86E4)                 ; $86E4
0338   82A2 83 05           BCS  BR_82A9                    ; JMP_86E4 returned failure (Carry set)
0339   82A4 FD EF 77 D2     ADI  #(VIDEORAM + $07D2),$01    ; 
0339   82A8 01 
0340   82A9             
0341   82A9             BR_82A9: ; BR $82A2
0342   82A9 FD 8A           POP  A                          ; 
0343   82AB FD EB 77 DF     ORI  #(VIDEORAM + $07DF),$01    ; $77DF
0343   82AF 01 
0344   82B0 B5 0A           LDI  A,$0A                      ; 
0345   82B2 FD AE 78 00     STA  #(CRTCTRL)                 ; 
0346   82B6 FD A5 77 DA     LDA  #(VIDEORAM + $07DA)        ; $77DA
0347   82BA FD AE 78 01     STA  #(CRTCTRL + $01)           ; 
0348   82BE FD EF 77 D2     ADI  #(VIDEORAM + $07D2),$FF    ; $77D2
0348   82C2 FF 
0349   82C3 FD A5 77 D2     LDA  #(VIDEORAM + $07D2)        ; $77D2
0350   82C7 B7 00           CPI  A,$00                      ; 
0351   82C9 89 08           BZR  BR_82D3                    ; A <> $00
0352   82CB BE 91 89        SJP  (JMP_9189)                 ; $9189
0353   82CE FD EF 77 D2     ADI  #(VIDEORAM + $07D2),$01    ; $77D2
0353   82D2 01 
0354   82D3             
0355   82D3             BR_82D3: ; BR $82C9
0356   82D3 FD A5 77 D9     LDA  #(VIDEORAM + $07D9)        ; $77D9
0357   82D7 B7 99           CPI  A,$99                      ; 
0358   82D9 89 0B           BZR  BR_82E6                    ; A <> $99
0359   82DB FD EF 77 D2     ADI  #(VIDEORAM + $07D2),$01    ; $77D2
0359   82DF 01 
0360   82E0 B5 02           LDI  A,$02                      ; 
0361   82E2 FD AE 77 D9     STA  #(VIDEORAM + $07D9)        ; $77D9
0362   82E6             
0363   82E6             BR_82E6: ; BR $82D9
0364   82E6 B5 0B           LDI  A,$0B                      ; 
0365   82E8 8E D1           BCH  BR_83BB                    ; $83BB
0366   82EA             
0367   82EA             BR_82EA: ; BR $829B
0368   82EA B7 0A           CPI  A,$0A                      ; 
0369   82EC 89 29           BZR  BR_8317                    ; A <> $0A
0370   82EE FD A5 77 D1     LDA  #(VIDEORAM + $07D1)        ; $77D1
0371   82F2 B7 28           CPI  A,$28                      ; 
0372   82F4 89 1F           BZR  BR_8315                    ; A <> $28
0373   82F6 FD A5 77 D2     LDA  #(VIDEORAM + $07D2)        ; $77D2
0374   82FA B7 17           CPI  A,$17                      ; 
0375   82FC 81 12           BCR  BR_8310                    ; A < $17
0376   82FE BE 84 D7        SJP  (JMP_84D7)                 ; $84D7
0377   8301 FD EF 77 D2     ADI  #(VIDEORAM + $07D2),$FF    ; $77D2
0377   8305 FF 
0378   8306 FD EF 77 D2     ADI  #(VIDEORAM + $07D2),$FF    ; $77D2
0378   830A FF 
0379   830B FD EF 77 D2     ADI  #(VIDEORAM + $07D2),$FF    ; $77D2
0379   830F FF 
0380   8310             
0381   8310             BR_8310: ; BR $82FC
0382   8310 FD EF 77 D2     ADI  #(VIDEORAM + $07D2),$01    ; 
0382   8314 01 
0383   8315             
0384   8315             BR_8315: ; BR $82F4
0385   8315 B5 0A           LDI  A,$0A                      ; 
0386   8317             
0387   8317             BR_8317: ; BR $82EC
0388   8317 B7 0A           CPI  A,$0A                      ; 
0389   8319 89 13           BZR  BR_832E                    ; A <> $0A
0390   831B FD C8           PSH  A                          ; 
0391   831D BE 86 FA        SJP  (JMP_86FA)                 ; $86FA
0392   8320 83 05           BCS  BR_8327                    ; JMP_86FA returned failure (Carry set)
0393   8322 FD EF 77 D2     ADI  #(VIDEORAM + $07D2),$FF    ; $77D2
0393   8326 FF 
0394   8327             
0395   8327             BR_8327: ; BR $8320
0396   8327 FD 8A           POP  A                          ; 
0397   8329 FD EB 77 DF     ORI  #(VIDEORAM + $07DF),$01    ; $77DF
0397   832D 01 
0398   832E             
0399   832E             BR_832E: ; BR $8319
0400   832E B7 0C           CPI  A,$0C                      ; 
0401   8330 89 11           BZR  BR_8343                    ; A <> $0C
0402   8332 FD ED 77 DF     BII  #(VIDEORAM + $07DF),$01    ; $77DF
0402   8336 01 
0403   8337 8B 0A           BZS  BR_8343                    ; A == $
0404   8339 FD E9 77 DF     ANI  #(VIDEORAM + $07DF),$00    ; $77DF
0404   833D 00 
0405   833E FD EF 77 D2     ADI  #(VIDEORAM + $07D2),$FF    ; $77D2
0405   8342 FF 
0406   8343             
0407   8343             BR_8343: ; BR $8330, $8337
0408   8343 B7 08           CPI  A,$08                      ; 
0409   8345 89 11           BZR  BR_8358                    ; A <> $08
0410   8347 FD ED 77 DF     BII  #(VIDEORAM + $07DF),$01    ; $77DF 
0410   834B 01 
0411   834C 8B 0A           BZS  BR_8358                    ; Bit 0 of #$77DF was set
0412   834E FD E9 77 DF     ANI  #(VIDEORAM + $07DF),$00    ; Clear $77DF
0412   8352 00 
0413   8353 FD EF 77 D2     ADI  #(VIDEORAM + $07D2),$FF    ; Set $77D2 to $FF
0413   8357 FF 
0414   8358             
0415   8358             BR_8358: ; BR $8345, $834C
0416   8358 B7 0E           CPI  A,$0E                      ; 
0417   835A 89 05           BZR  BR_8361                    ; A <> $0E
0418   835C FD E9 77 D8     ANI  #(VIDEORAM + $07D8),$00    ; $77D8
0418   8360 00 
0419   8361             
0420   8361             BR_8361: ; BR $835A
0421   8361 B7 1F           CPI  A,$1F                      ; 
0422   8363 89 02           BZR  BR_8367                    ; A <> $1F
0423   8365 8E 04           BCH  BR_836B                    ; $836B
0424   8367             
0425   8367             BR_8367: ; BR $8363
0426   8367 B7 1E           CPI  A,$1E                      ; 
0427   8369 89 09           BZR  BR_8374                    ; A <> $1E
0428   836B             
0429   836B             BR_836B: ; BR $8365
0430   836B FD C8           PSH  A                          ; 
0431   836D BE 8D 41        SJP  (JMP_8D41)                 ; $8D41
0432   8370 FD 8A           POP  A                          ; 
0433   8372 8E 47           BCH  BR_83BB                    ; $83BB
0434   8374             
0435   8374             BR_8374: ; BR $8369
0436   8374 B7 0E           CPI  A,$0E                      ; 
0437   8376 83 09           BCS  BR_8381                    ; A >= $0E
0438   8378 B7 0A           CPI  A,$0A                      ; 
0439   837A 81 05           BCR  BR_8381                    ; A < $0A
0440   837C BE 83 C6        SJP  (JMP_83C6)                 ; $83C6
0441   837F 8E 3A           BCH  BR_83BB                    ; $83BB
0442   8381             
0443   8381             BR_8381: ; BR $8376,$837A
0444   8381 1A              STA  YL                         ; 
0445   8382 FD A5 77 D3     LDA  #(VIDEORAM + $07D3)        ; $77D3
0446   8386 B7 0D           CPI  A,$0D                      ; 
0447   8388 89 03           BZR  BR_838D                    ; A <> $0D
0448   838A BE 84 2D        SJP  (JMP_842D)                 ; $842D
0449   838D             
0450   838D             BR_838D: ; BR $8388
0451   838D FD A5 77 D3     LDA  #(VIDEORAM + $07D3)        ; $77D3
0452   8391 B7 0A           CPI  A,$0A                      ; 
0453   8393 89 03           BZR  BR_8398                    ; A <> $0A
0454   8395 BE 84 3B        SJP  (JMP_843B)                 ; $843B
0455   8398             
0456   8398             BR_8398: ; BR $8393
0457   8398 B7 0B           CPI  A,$0B                      ; 
0458   839A 89 03           BZR  BR_839F                    ; A <> $0B
0459   839C BE 84 3B        SJP  (JMP_843B)                 ; $843B
0460   839F                 
0461   839F             BR_839F:   
0462   839F 14              LDA  YL                         ; 
0463   83A0 E9 7B 0E FD     ANI  (CURS_CTRL),$FD            ; 
0464   83A4 FD C8           PSH  A                          ; 
0465   83A6 B5 55           LDI  A,$55                      ; 
0466   83A8 FD A7 77 E2     CPA  #(VIDEORAM + $07E2)        ; $77E2
0467   83AC 89 0B           BZR  BR_83B9                    ; A <> $77E2
0468   83AE FD 88           PSH  X                          ; 
0469   83B0 FD A8           PSH  U                          ; 
0470   83B2 BE E6 69        SJP  (BCMD_BEEP_STD)            ; 
0471   83B5 FD 2A           POP  U                          ; 
0472   83B7 FD 0A           POP  X                          ; 
0473   83B9             
0474   83B9             BR_83B9: ; BR $83AC
0475   83B9 FD 8A           POP  A                          ; 
0476   83BB             
0477   83BB             BR_83BB: ; BR $82E8,$8372,$837F
0478   83BB FD 1A           POP  Y                          ;
0479   83BD FD AE 77 D3     STA  #(VIDEORAM + $07D3)        ; $77D3
0480   83C1 EB 79 D4 55     ORI  (KB_BYPASS),$55            ; Set KB bypass
0481   83C5 9A              RTN                             ; Done
0482   83C6             ;% LB_xxxx_INPUT END
0483   83C6             ;------------------------------------------------------------------------------------------------------------
0484   83C6             
0485   83C6             
0486   83C6             
0487   83C6             ;------------------------------------------------------------------------------------------------------------
0488   83C6             ; $83C6- xxxx - 
0489   83C6             ; Called from: $837C
0490   83C6             ; Arguments: A
0491   83C6             ; Outputs: 
0492   83C6             ; RegMod: A, YL
0493   83C6             ;------------------------------------------------------------------------------------------------------------
0494   83C6             ;% LB_xxxx START
0495   83C6             JMP_83C6:
0496   83C6 1A              STA  YL                         ; 
0497   83C7 B5 3E           LDI  A,$3E                      ; '>'
0498   83C9 A7 7B B0        CPA  (IN_BUF)                   ; $7BB0
0499   83CC 8B 49           BZS  BR_8417                    ; $3E == IN_BUF
0500   83CE B5 0D           LDI  A,$0D                      ; '/CR'
0501   83D0 FD A7 77 D3     CPA  #(VIDEORAM + $07D3)        ; $77D3
0502   83D4 89 0F           BZR  BR_83E5                    ; $0D <> ($77D3)
0503   83D6 FD A5 77 D1     LDA  #(VIDEORAM + $07D1)        ; $77D1
0504   83DA B7 50           CPI  A,$50                      ; 'P'
0505   83DC 8B 12           BZS  BR_83F0                    ; A == $50
0506   83DE FD EF 77 D2     ADI  #(VIDEORAM + $07D2),$01    ; $77D2
0506   83E2 01 
0507   83E3 8E 32           BCH  BR_8417                    ; $8417
0508   83E5                 
0509   83E5             BR_83E5:   
0510   83E5 16              CPA  YL                         ; A == #(VIDEORAM + $07D3) $77D3, YL == original A
0511   83E6 8B 31           BZS  BR_8419                    ; A == YL
0512   83E8 5E 08           CPI  YL,$08                     ; 
0513   83EA 8B 33           BZS  BR_841F                    ; YL == $08
0514   83EC 5E 0C           CPI  YL,$0C                     ; 
0515   83EE 8B 2F           BZS  BR_841F                    ; YL == $3C
0516   83F0             
0517   83F0             BR_83F0: ; BR $83DC,$841D,$8425,$8428,$844D,$8454
0518   83F0 FD EF 77 D2     ADI  #(VIDEORAM + $07D2),$01    ; $77D2 (pp) = (pp) + n (ME1)
0518   83F4 01 
0519   83F5 FD A5 77 D1     LDA  #(VIDEORAM + $07D1)        ; $77D1
0520   83F9 B7 28           CPI  A,$28                      ; 
0521   83FB 89 1A           BZR  BR_8417                    ; A <> $28
0522   83FD FD 98           PSH  Y                          ; 
0523   83FF FD A5 77 D2     LDA  #(VIDEORAM + $07D2)        ; $77D2
0524   8403 DF              DEC  A                          ; 
0525   8404 18              STA  YH                         ;
0526   8405 5A 28           LDI  YL,$28                     ;
0527   8407 BE 8D 6B        SJP  (JMP_8D6B)                 ; $8D6B
0528   840A FD 15           LDA  #(Y)                       ;
0529   840C FD 1A           POP  Y                          ;
0530   840E B7 0E           CPI  A,$0E                      ; 
0531   8410 81 05           BCR  BR_8417                    ; A < $0E
0532   8412 FD EF 77 D2     ADI  #(VIDEORAM + $07D2),$01    ; $77D2
0532   8416 01 
0533   8417             
0534   8417             BR_8417: ; BR $83CC,$83E3,$83FB,$8410,$842B,$8442,$844B,$8452
0535   8417 14              LDA  YL                         ;
0536   8418 9A              RTN                             ; Done
0537   8419             
0538   8419             BR_8419: ; BR $83E6
0539   8419 5E 0D           CPI  YL,$0D                     ;
0540   841B 8B 02           BZS  BR_841F                    ; YL == $0D
0541   841D 9E 2F           BCH  BR_83F0                    ; $83F0
0542   841F             
0543   841F             BR_841F: ; BR $841B
0544   841F FD A5 77 D3     LDA  #(VIDEORAM + $07D3)        ; $77D3
0545   8423 B7 0A           CPI  A,$0A                      ; 
0546   8425 9B 37           BZS  BR_83F0                    ; A == $0A
0547   8427 B7 0B           CPI  A,$0B                      ; 
0548   8429 9B 3B           BZS  BR_83F0                    ; A == $0B
0549   842B 9E 16           BCH  BR_8417                    ; $8417
0550   842D             
0551   842D             JMP_842D: ; BR $838A
0552   842D B5 3E           LDI  A,$3E                      ; '>'
0553   842F A7 7B B0        CPA  (IN_BUF)                   ; $7BB0
0554   8432 89 01           BZR  BR_8435                    ; A == $3E <> (IN_BUF)
0555   8434 9A              RTN                             ; Done
0556   8435             
0557   8435             BR_8435: ; BR $8432
0558   8435 FD EF 77 D2     ADI  #(VIDEORAM + $07D2),$01    ; $77D2
0558   8439 01 
0559   843A 9A              RTN                             ; Done
0560   843B             ;% LB_xxxx END
0561   843B             ;------------------------------------------------------------------------------------------------------------
0562   843B             
0563   843B             
0564   843B             
0565   843B             ;------------------------------------------------------------------------------------------------------------
0566   843B             ; $843B- xxxx - 
0567   843B             ; Called from: $8395,$839C
0568   843B             ; Arguments: 
0569   843B             ; Outputs: 
0570   843B             ; RegMod: 
0571   843B             ;------------------------------------------------------------------------------------------------------------
0572   843B             ;% LB_xxxx START
0573   843B             JMP_843B:
0574   843B A5 76 4F        LDA  (DISP_BUFF + $4F)          ; $764F
0575   843E B9 20           ANI  A,$20                      ; A = A & n
0576   8440 B7 20           CPI  A,$20                      ; 
0577   8442 99 2D           BZR  BR_8417                    ; Bit 5 of $764F was set
0578   8444 5E 0A           CPI  YL,$0A                     ; 
0579   8446 89 07           BZR  BR_844F                    ; YL <> $0A
0580   8448 BE 86 FA        SJP  (JMP_86FA)                 ; $86FA
0581   844B 91 36           BCR  BR_8417                    ; $8417
0582   844D 9E 5F           BCH  BR_83F0                    ; $83F0
0583   844F             
0584   844F             BR_844F:  ; BR $8446
0585   844F BE 86 E4        SJP  (JMP_86E4)                 ; $86E4
0586   8452 91 3D           BCR  BR_8417                    ; $8417
0587   8454 9E 66           BCH  BR_83F0                    ; $83F0
0588   8456             
0589   8456             JMP_8456: ; BR $8229
0590   8456 A5 7B B0        LDA  (IN_BUF)                   ; 
0591   8459 B7 3E           CPI  A,$3E                      ; 
0592   845B 8B 01           BZS  BR_845E                    ; A <> $3E
0593   845D 9A              RTN                             ; Done
0594   845E             
0595   845E             BR_845E:  ; BR $845B
0596   845E A5 78 7B        LDA  (CURS_BLNK_POS)            ; $787B - Position of blink character in display, plus 8
0597   8461 B7 09           CPI  A,$09                      ; 
0598   8463 81 01           BCR  BR_8466                    ; A < $09
0599   8465 9A              RTN                             ; Done
0600   8466             
0601   8466             BR_8466: ; BR $81E6,$8463,$8949
0602   8466 FD A5 77 D2     LDA  #(VIDEORAM + $07D2)        ; $77D2
0603   846A 18              STA  YH                         ; 
0604   846B 5A 01           LDI  YL,$01                     ; 
0605   846D BE 8D 6B        SJP  (JMP_8D6B)                 ; $8D6B
0606   8470             
0607   8470 FD 88           PSH  X                          ; 
0608   8472 48 8E           LDI  XH,HB(CONFIG_TBL + $24)    ; $8EB3 In mystery table
0609   8474 4A B3           LDI  XL,LB((CONFIG_TBL) + $24)  ; ($5255)
0610   8476 68 0D           LDI  UH,$0D                     ; 
0611   8478 B5 40           LDI  A,$40                      ; 
0612   847A A9 76 4F        AND  (DISP_BUFF + $4F)          ; $764F 
0613   847D B7 40           CPI  A,$40                      ; (DISP_BUFF + $4F) == $40
0614   847F 89 13           BZR  BR_8494                    ; A <> $40
0615   8481 FD ED 77 F3     BII  #(VIDEORAM + $07F3),$01    ; FLAGS = (pp) & n (ME1)
0615   8485 01 
0616   8486 83 05           BCS  BR_848D                    ; $848D
0617   8488 FD EF 77 D2     ADI  #(VIDEORAM + $07D2),$01    ; $77D2
0617   848C 01 
0618   848D             
0619   848D             BR_848D: ; BR $8486
0620   848D FD E9 77 F3     ANI  #(VIDEORAM + $07F3),$00    ; $77F3
0620   8491 00 
0621   8492 8E 27           BCH  BR_84BB                    ; $84BB
0622   8494             
0623   8494             BR_8494: ; BR $847F
0624   8494 FD E9 77 F3     ANI  #(VIDEORAM + $07F3),$00    ; $77F3
0624   8498 00 
0625   8499 B5 20           LDI  A,$20                      ; 
0626   849B A9 76 4F        AND  (DISP_BUFF + $4F)          ; 
0627   849E B7 20           CPI  A,$20                      ; 
0628   84A0 8B 19           BZS  BR_84BB                    ; $84BB
0629   84A2 B5 10           LDI  A,$10                      ; 
0630   84A4 A9 76 4F        AND  (DISP_BUFF + $4F)          ; 
0631   84A7 B7 10           CPI  A,$10                      ; 
0632   84A9 89 29           BZR  BR_84D4                    ; $84D4
0633   84AB B5 06           LDI  A,$06                      ; 
0634   84AD FD CA           ADR  X                          ; X = X + A + Carry
0635   84AF 6A 0D           LDI  UL,$0D                     ; 
0636   84B1 BE 88 FD        SJP  (JMP_88FD)                 ; $88FD
0637   84B4 FD EF 77 D2     ADI  #(VIDEORAM + $07D2),$01    ; $77D2
0637   84B8 01 
0638   84B9 8E 0A           BCH  BR_84C5                    ; $84C5
0639   84BB             
0640   84BB             BR_84BB:  ; BR $8492,$84A0
0641   84BB B7 20           CPI  A,$20                      ; 
0642   84BD 89 04           BZR  BR_84C3                    ; $84C3
0643   84BF B5 03           LDI  A,$03                      ; 
0644   84C1 FD CA           ADR  X                          ; X = X + A + Carry
0645   84C3             
0646   84C3             BR_84C3: ; BR $84BD
0647   84C3 6A 02           LDI  UL,$02                     ; 
0648   84C5             
0649   84C5             BR_84C5: ; BR $84B9
0650   84C5 B5 3E           LDI  A,$3E                      ; 
0651   84C7 FD 1E           STA  #(Y)                       ; 
0652   84C9 54              INC  Y                          ; 
0653   84CA BE 8D 64        SJP  (CPY_X2Y)                  ; $8D64 - Copies UL bytes from X to Y
0654   84CD BE 89 63        SJP  (CRTC_CSR_STRT)                 ; $8963
0655   84D0 54              INC  Y                          ; 
0656   84D1 A4              LDA  UH                         ; 
0657   84D2 FD 1E           STA  #(Y)                       ; 
0658   84D4             
0659   84D4             BR_84D4: ; BR $84A9
0660   84D4 FD 0A           POP  X                          ;
0661   84D6 9A              RTN                             ; Done
0662   84D7             ;% LB_XCHR_INPUT END
0663   84D7             ;------------------------------------------------------------------------------------------------------------
0664   84D7             
0665   84D7             
0666   84D7             
0667   84D7             ;------------------------------------------------------------------------------------------------------------
0668   84D7             ; $84D7- xxxx - Block copies video RAM?
0669   84D7             ; Called from: 
0670   84D7             ; Arguments: 
0671   84D7             ; Outputs: 
0672   84D7             ; RegMod: 
0673   84D7             ;------------------------------------------------------------------------------------------------------------
0674   84D7             ;% LB_xxxx START
0675   84D7             JMP_84D7: ; BR $819D6,$81FB,$82FE,$875F,$87C8,$8890,$8BA7,$8BEA
0676   84D7 1A              STA  YL
0677   84D8 FD A5 77 D1     LDA  #(VIDEORAM + $07D1)        ; $77D1
0678   84DC B7 28           CPI  A,$28                      ; 
0679   84DE 8B 06           BZS  BR_84E6                    ; If A == $28
0680   84E0 5E 19           CPI  YL,$19                     ; 
0681   84E2 89 02           BZR  BR_84E6                    ; If A <> $19
0682   84E4 14              LDA  YL                         ; 
0683   84E5 9A              RTN                             ; Done
0684   84E6             
0685   84E6             BR_84E6: ; BR $84DE,$84E2
0686   84E6 BE 8E 5F        SJP  (Y2_VIDRAM)                ; $8E5F - Sets Yreg to point to Video RAM $7000
0687   84E9 FD 18           LDX  Y                          ; X = Y
0688   84EB FD CA           ADR  X                          ; X = X + A + Carry 
0689   84ED B7 28           CPI  A,$28                      ; 
0690   84EF 89 0C           BZR  BR_84FD                    ; If A <> $28
0691   84F1 FD A5 77 D2     LDA  #(VIDEORAM + $07D2)        ; $77D2
0692   84F5 B7 19           CPI  A,$19                      ; 
0693   84F7 8B 04           BZS  BR_84FD                    ; If A == $19
0694   84F9 B5 28           LDI  A,$28                      ; 
0695   84FB FD CA           ADR  X                          ; X = X + A + Carry
0696   84FD             
0697   84FD             BR_84FD: ; BR $84EF,$84F7
0698   84FD 68 07           LDI  UH,$07                     ; Loop counter
0699   84FF 6A 80           LDI  UL,$80                     ; 
0700   8501             
0701   8501             BR_8501: ; BR $8507,$850B
0702   8501 FD 05           LDA  #(X)                       ; 
0703   8503 FD 1E           STA  #(Y)                       ; 
0704   8505 44              INC  X                          ; 
0705   8506 54              INC  Y                          ; 
0706   8507 88 08           LOP  UL,BR_8501                 ; UL = UL - 1, loop back 'e' if Borrow Flag not set
0707   8509 FD 62           DEC  UH                         ; 
0708   850B 93 0C           BCS  BR_8501                    ; Loop back if not zero
0709   850D                 
0710   850D B5 00           LDI  A,$00                      ; 
0711   850F 6A 4F           LDI  UL,$4F                     ; 
0712   8511             
0713   8511             BR_8511: ; BR $8514
0714   8511 FD 1E           STA  #(Y)                       ; 
0715   8513 54              INC  Y                          ;
0716   8514 88 05           LOP  UL,BR_8511                 ; $8511
0717   8516 FD A5 77 D1     LDA  #(VIDEORAM + $07D1)        ; $77D1
0718   851A B7 28           CPI  A,$28                      ; 
0719   851C 89 04           BZR  BR_8522                    ; A <> $28
0720   851E B5 18           LDI  A,$18                      ; 
0721   8520 8E 02           BCH  BR_8524                    ; $8524
0722   8522             
0723   8522             BR_8522: ; BR $851c
0724   8522 B5 19           LDI  A,$19                      ; 
0725   8524             
0726   8524             BR_8524: ; BR $8520
0727   8524 FD AE 77 D2     STA  #(VIDEORAM + $07D2)        ; $77D2
0728   8528 AE 77 4E        STA  (STRING_VARS + $FE)        ; $774E in DISPLAY BUFFER, Y cursor position
0729   852B 9A              RTN                             ; Done
0730   852C             ;% LB_xxxx END
0731   852C             ;------------------------------------------------------------------------------------------------------------
0732   852C             
0733   852C             
0734   852C             
0735   852C             ;------------------------------------------------------------------------------------------------------------
0736   852C             ; $825C xxxx - 
0737   852C             ; Called from: $8223
0738   852C             ; Arguments: 
0739   852C             ; Outputs: 
0740   852C             ; RegMod: 
0741   852C             ;------------------------------------------------------------------------------------------------------------
0742   852C             ;% LB_xxxx START
0743   852C             JMP_852C: 
0744   852C 68 00           LDI  UH,$00                     ; U == $004F
0745   852E 6A 4F           LDI  UL,$4F                     ; 
0746   8530 FD E9 77 D7     ANI  #(VIDEORAM + $07D7),$00    ; Clear $77D7
0746   8534 00 
0747   8535             
0748   8535             BR_8535: ; BR $85B3,$8600
0749   8535 BE 88 54        SJP  (JMP_8854)                 ; $8854
0750   8538 14              LDA  YL                         ; 
0751   8539 FD A7 77 D4     CPA  #(VIDEORAM + $07D4)        ; $77D4
0752   853D 89 17           BZR  BR_8556                    ; A <> ($77D4)
0753   853F FD A5 77 D6     LDA  #(VIDEORAM + $07D6)        ; $77D5
0754   8543 B7 00           CPI  A,$00                      ; 
0755   8545 89 0F           BZR  BR_8556                    ; A == $00
0756   8547 84              LDA  XH                         ; 
0757   8548 FD AE 77 D4     STA  #(VIDEORAM + $07D4)        ; $77D4
0758   854C 04              LDA  XL                         ; 
0759   854D FD AE 77 D5     STA  #(VIDEORAM + $07D5)        ; $77D5
0760   8551 FD EB 77 D6     ORI  #(VIDEORAM + $07D6),$01    ; $77D6
0760   8555 01 
0761   8556             
0762   8556             BR_8556: ; BR $853D,$8545
0763   8556 FD A8           PSH  U                          ; 
0764   8558 C0              VEJ  (C0)                       ; (C0) Load next character/token into U-REG
0765   8559 81 60           BCR  BR_85BB                    ; $85BB
0766   855B FD 98           PSH  Y                          ; 
0767   855D FD 88           PSH  X                          ; 
0768   855F 58 7B           LDI  YH,HB(RND_VAL)             ; $7B
0769   8561 5A 00           LDI  YL,LB(RND_VAL)             ; $00
0770   8563 FD 98           PSH  Y                          ; 
0771   8565 CD 1C           VMJ  ($1C) \ ABYT($02)          ; (1C) Processes tokens corresponding to data bytes
0771   8567 02          
0772   8568 BE 86 56        SJP  (BR_8656)                  ; $8656
0773   856B FD 0A           POP  X                          ; 
0774   856D 59 00           ANI  (Y),$00                    ; 
0775   856F B7 00           CPI  A,$00                      ; 
0776   8571 89 03           BZR  BR_8576                    ; A <> $00
0777   8573 B5 FE           LDI  A,$FE                      ; 
0778   8575 0E              STA  (X)                        ; 
0779   8576             
0780   8576             BR_8576: ; BR $8571
0781   8576 14              LDA  YL                         ; 
0782   8577 2A              STA  UL                         ; 
0783   8578 FD 1A           POP  Y                          ; 
0784   857A             
0785   857A             BR_857A: ; BR $85A4
0786   857A 45              LIN  X                          ; 
0787   857B FD 1E           STA  #(Y)                       ; 
0788   857D 54              INC  Y                          ; 
0789   857E FD C8           PSH  A                          ; 
0790   8580 FD A5 77 D8     LDA  #(VIDEORAM + $07D8)        ; $77D8
0791   8584 B7 01           CPI  A,$01                      ;
0792   8586 8B 04           BZS  BR_858C                    ; A == $01
0793   8588 FD 8A           POP  A                          ; 
0794   858A 8E 09           BCH  BR_8595                    ; $8595
0795   858C             
0796   858C             BR_858C: ; BR $8586
0797   858C FD 8A           POP  A                          ; 
0798   858E B7 0D           CPI  A,$0D                      ; 
0799   8590 89 03           BZR  BR_8595                    ; A <> $0D
0800   8592 F9              REC                             ; 
0801   8593 8E 21           BCH  BR_85B6                    ; $85B6
0802   8595             
0803   8595             BR_8595: ; BR $858A,$8590
0804   8595 FD EF 77 D7     ADI  #(VIDEORAM + $07D7),$01    ; $77D7
0804   8599 01 
0805   859A BE 87 E7        SJP  (JMP_87E7)                 ; $87E7
0806   859D 83 17           BCS  BR_85B6                    ; JMP_87E7 rerturned failer (Carry set)
0807   859F B7 FF           CPI  A,$FF                      ; 
0808   85A1 89 01           BZR  BR_85A4                    ; A <> $FF
0809   85A3 56              DEC  Y                          ; 
0810   85A4             
0811   85A4             BR_85A4: ; BR $85A1
0812   85A4 88 2C           LOP  UL,BR_857A                 ; $857A
0813   85A6 FD 62           DEC  UH                         ; 
0814   85A8 FD 62           DEC  UH                         ; 
0815   85AA A4              LDA  UH                         ; 
0816   85AB FD 18           LDX  Y                          ; 
0817   85AD FD 1A           POP  Y                          ; 
0818   85AF FD 2A           POP  U                          ; 
0819   85B1 DD              INC  A                          ; 
0820   85B2 2A              STA  UL                         ; 
0821   85B3 88 80           LOP  UL,BR_8535                 ; $8535
0822   85B5 9A              RTN                             ; Done
0823   85B6             
0824   85B6             BR_85B6: ; BR $8593,$859D
0825   85B6 FD 1A           POP  Y                          ; 
0826   85B8 FD 2A           POP  U                          ; 
0827   85BA 9A              RTN                             ; Done
0828   85BB             
0829   85BB             BR_85BB: ; BR $8559
0830   85BB FD 2A           POP  U                          ; 
0831   85BD 6E 4B           CPI  UL,$4B                     ;
0832   85BF 81 03           BCR  BR_85C4                    ; UL < $4B
0833   85C1 BE 86 04        SJP  (BR_8604)                  ; $8604
0834   85C4             
0835   85C4             BR_85C4: ; BR $85BF
0836   85C4 FD 0E           STA  #(X)                       ; 
0837   85C6 44              INC  X                          ; 
0838   85C7 FD C8           PSH  A                          ; 
0839   85C9 FD A5 77 D8     LDA  #(VIDEORAM + $07D8)        ; $77D8
0840   85CD B7 01           CPI  A,$01                      ; 
0841   85CF 8B 04           BZS  BR_85D5                    ; A == $01
0842   85D1 FD 8A           POP  A                          ; 
0843   85D3 8E 1B           BCH  BR_85F0                    ; $85F0
0844   85D5             
0845   85D5             BR_85D5: ; BR $85CF
0846   85D5 FD 8A           POP  A                          ; 
0847   85D7 B7 0D           CPI  A,$0D                      ; 
0848   85D9 89 15           BZR  BR_85F0                    ; A <> $0D
0849   85DB FD A5 77 D3     LDA  #(VIDEORAM + $07D3)        ; $77D3
0850   85DF B7 18           CPI  A,$18                      ; 
0851   85E1 8B 06           BZS  BR_85E9                    ; A == $18
0852   85E3 46              DEC  X                          ; 
0853   85E4 46              DEC  X                          ; 
0854   85E5 BE 88 BF        SJP  (JMP_88BF)                 ; $88BF
0855   85E8 9A              RTN                             ; Done
0856   85E9             
0857   85E9             BR_85E9: ; BR $85E1
0858   85E9 FD 05           LDA  #(X)                       ; 
0859   85EB B7 0E           CPI  A,$0E                      ; 
0860   85ED 83 01           BCS  BR_85F0                    ; A >= $0E
0861   85EF 9A              RTN                             ; Done
0862   85F0             
0863   85F0             BR_85F0: ; BR $85D3,$85D9
0864   85F0 FD EF 77 D7     ADI  #(VIDEORAM + $07D7),$01    ; $77D7
0864   85F4 01 
0865   85F5 BE 87 E7        SJP  (JMP_87E7)                 ; $87E7
0866   85F8 81 01           BCR  BR_85FB                    ; JMP_87E7 returned success (Carry clear)
0867   85FA 9A              RTN                             ; Done
0868   85FB             
0869   85FB             BR_85FB: ; BR $85F8
0870   85FB B7 FF           CPI  A,$FF                      ; 
0871   85FD 89 01           BZR  BR_8600                    ; A <> $FF
0872   85FF 46              DEC  X                          ; 
0873   8600             
0874   8600             BR_8600: ; BR $85FD
0875   8600 88 CD           LOP  UL,BR_8535                 ; $8535
0876   8602 F9              REC                             ; 
0877   8603 9A              RTN                             ; Done
0878   8604             ;% LB_xxxx END
0879   8604             ;------------------------------------------------------------------------------------------------------------
0880   8604             
0881   8604             
0882   8604             
0883   8604             ;------------------------------------------------------------------------------------------------------------
0884   8604             ; $86E4 - xxxx - 
0885   8604             ; Called from: BR $829F,$844F
0886   8604             ; Arguments: UH, UL, A
0887   8604             ; Outputs: 
0888   8604             ; RegMod: UH
0889   8604             ;------------------------------------------------------------------------------------------------------------
0890   8604             ;% LB_xxxx START
0891   8604             BR_8604: ; BR $85C1
0892   8604 6C FF           CPI  UH,$FF                     ; 
0893   8606 89 01           BZR  BR_8609                    ; UH <> $FF
0894   8608 9A              RTN                             ; Done
0895   8609             
0896   8609             BR_8609: ; BR $8606
0897   8609 B7 3A           CPI  A,$3A                      ; 
0898   860B 81 03           BCR  BR_8610                    ; A < $3A
0899   860D             
0900   860D             BR_860D: ; BR $8612,$861F,$862A
0901   860D 68 FF           LDI  UH,$FF                     ; 
0902   860F 9A              RTN                             ; Done
0903   8610             
0904   8610             BR_8610: ; BR $860B
0905   8610 B7 30           CPI  A,$30                      ; 
0906   8612 91 07           BCR  BR_860D                    ; A < $30
0907   8614 FD C8           PSH  A                          ; 
0908   8616 B5 40           LDI  A,$40                      ; Bit 6: The display program shows from (Y-Reg)
0909   8618 A7 78 80        CPA  (DISPARAM)                 ; $7880 - Display Parameter: determines display at READY
0910   861B 89 04           BZR  BR_8621                    ; A <> DISPARAM
0911   861D FD 8A           POP  A                          ; 
0912   861F 9E 14           BCH  BR_860D                    ; $860D
0913   8621             
0914   8621             BR_8621: ; BR $861B
0915   8621 B5 20           LDI  A,$20                      ; Bit 5: Result from AR-X is displayed
0916   8623 A7 78 80        CPA  (DISPARAM)                 ; Display Parameter: determines display at READY
0917   8626 89 04           BZR  BR_862C                    ; DISPARAM <> $20
0918   8628 FD 8A           POP  A                          ; 
0919   862A 9E 1F           BCH  BR_860D                    ; $860D
0920   862C             
0921   862C             BR_862C: ; BR $8626
0922   862C B5 50           LDI  A,$50                      ; 
0923   862E FB              SEC                             ; Set Carry Flag
0924   862F 20              SBC  UL                         ; A = A - UL. Subtract with Carry
0925   8630 FD A8           PSH  U                          ; 
0926   8632 68 7A           LDI  UH,HB(ARZ)                 ; $7A
0927   8634 6A 08           LDI  UL,LB(ARZ)                 ; $08
0928   8636 FD EA           ADR  U                          ; A = A - UL. Subtract with Carry
0929   8638 25              LDA  (U)                        ; 
0930   8639 FD 2A           POP  U                          ; 
0931   863B B7 3A           CPI  A,$3A                      ; 
0932   863D 8B 07           BZS  BR_8646                    ; A <> $3A
0933   863F B7 20           CPI  A,$20                      ; 
0934   8641 8B 03           BZS  BR_8646                    ; A <> $20
0935   8643 FD 8A           POP  A                          ; 
0936   8645 9A              RTN                             ; Done
0937   8646             
0938   8646             BR_8646: ; BR $863D,$8641
0939   8646 28              STA  UH                         ; 
0940   8647 FD 8A           POP  A                          ; 
0941   8649 FD 0E           STA  #(X)                       ; 
0942   864B FD EF 77 D7     ADI  #(VIDEORAM + $07D7),$01    ; $77D7
0942   864F 01 
0943   8650 44              INC  X                          ; 
0944   8651 62              DEC  UL                         ; 
0945   8652 A4              LDA  UH                         ; 
0946   8653 68 FF           LDI  UH,$FF                     ; 
0947   8655 9A              RTN                             ; Done
0948   8656             
0949   8656             BR_8656:
0950   8656 FD 48           LDX  S                          ; 
0951   8658 FD C8           PSH  A                          ; 
0952   865A B5 0A           LDI  A,$0A                      ; 
0953   865C FD CA           ADR  X                          ; 
0954   865E 05              LDA  (X)                        ; 
0955   865F 28              STA  UH                         ; 
0956   8660 FD 8A           POP  A                          ; 
0957   8662 9A              RTN                             ; Done
0958   8663             
0959   8663             JMP_8663: ; BR $8226
0960   8663 A5 78 80        LDA  (DISPARAM)                 ; Display Parameter: determines display at READY
0961   8666 B7 80           CPI  A,$80                      ; Bit 7: Error message is in the display
0962   8668 89 03           BZR  BR_866D                    ; $866D
0963   866A BA 89 63        JMP  CRTC_CSR_STRT                   ; $8963
0964   866D             
0965   866D             BR_866D: ; BR $8668
0966   866D B7 A0           CPI  A,$A0                      ; Bit 7: Error message is in the display, Bit 5: Result from AR-X is displayed
0967   866F 89 03           BZR  BR_8674                    ; A <> $A0
0968   8671 BA 89 63        JMP  CRTC_CSR_STRT                   ; $8963
0969   8674             
0970   8674             BR_8674: ; BR $866F
0971   8674 B7 01           CPI  A,$01                      ; Bit 0: The input buffer was temporarily stored. A system message or a reserve text is shown in the display
0972   8676 89 03           BZR  BR_867B                    ; A <> $01
0973   8678 BA 89 63        JMP  CRTC_CSR_STRT                   ; $8963
0974   867B             
0975   867B             
0976   867B             BR_867B: ; BR $8676
0977   867B FD A5 77 D4     LDA  #(VIDEORAM + $07D4)        ; $77D4
0978   867F 18              STA  YH                         ; 
0979   8680 FD A5 77 D5     LDA  #(VIDEORAM + $07D5)        ; $77D5
0980   8684 1A              STA  YL                         ; 
0981   8685 B5 0E           LDI  A,$0E                      ; 
0982   8687 FD AE 78 00     STA  #(CRTCTRL)                 ; 
0983   868B 94              LDA  YH                         ; 
0984   868C FD AE 78 01     STA  #(CRTCTRL + $01)           ; 
0985   8690 B5 0F           LDI  A,$0F                      ; 
0986   8692 FD AE 78 00     STA  #(CRTCTRL)                 ; 
0987   8696 14              LDA  YL                         ; 
0988   8697 FD AE 78 01     STA  #(CRTCTRL + $01)           ; 
0989   869B FD A5 77 DA     LDA  #(VIDEORAM + $07DA)        ; $77DA
0990   869F FD 88           PSH  X                          ; 
0991   86A1 FD C8           PSH  A                          ; 
0992   86A3 48 8E           LDI  XH,$8E                     ; CONFIG_TBL: ; 8E8F
0993   86A5 4A A1           LDI  XL,$A1                     ; 
0994   86A7 B5 1C           LDI  A,$1C                      ; 
0995   86A9 FD CA           ADR  X                          ; X = X + A + Carry
0996   86AB ED 78 7C 01     BII  (CURSOR_BLNK),$01          ; 
0997   86AF 8B 05           BZS  BR_86B6                    ; $86B6
0998   86B1 FD EB 77 DA     ORI  #(VIDEORAM + $07DA),$40    ; $77DA
0998   86B5 40 
0999   86B6             
1000   86B6             BR_86B6: ; BR $8668
1001   86B6 ED 78 7C 01     BII  (CURSOR_BLNK),$01          ; 
1002   86BA 89 05           BZR  BR_86C1                    ; $86C1
1003   86BC FD E9 77 DA     ANI  #(VIDEORAM + $07DA),$BF    ; $77DA
1003   86C0 BF 
1004   86C1             
1005   86C1             BR_86C1: ; BR $86BA
1006   86C1 B5 0A           LDI  A,$0A                      ; 
1007   86C3 FD AE 78 00     STA  #(CRTCTRL)                 ; 
1008   86C7 FD A5 77 DA     LDA  #(VIDEORAM + $07DA)        ; $77DA
1009   86CB FD AE 78 01     STA  #(CRTCTRL + $01)           ; 
1010   86CF B5 0B           LDI  A,$0B                      ; 
1011   86D1 FD AE 78 00     STA  #(CRTCTRL)                 ; 
1012   86D5 FD A5 77 DB     LDA  #(VIDEORAM + $07DB)        ; $77DB
1013   86D9 B9 1F           ANI  A,$1F                      ; 
1014   86DB FD AE 78 01     STA  #(CRTCTRL + $01)           ; 
1015   86DF FD 8A           POP  A                          ; 
1016   86E1 FD 0A           POP  X                          ; 
1017   86E3 9A              RTN                             ; Done
1018   86E4             ;% LB_xxxx END
1019   86E4             ;------------------------------------------------------------------------------------------------------------
1020   86E4             
1021   86E4             
1022   86E4             
1023   86E4             ;------------------------------------------------------------------------------------------------------------
1024   86E4             ; $86E4 - xxxx - Finds start of program?
1025   86E4             ; Called from: BR $829F,$844F
1026   86E4             ; Arguments: 
1027   86E4             ; Outputs: 
1028   86E4             ; RegMod: 
1029   86E4             ;------------------------------------------------------------------------------------------------------------
1030   86E4             ;% LB_xxxx START
1031   86E4             JMP_86E4: 
1032   86E4 A5 78 65        LDA  (BASPRG_ST_H)              ; Start of Basic program in RAM (H)
1033   86E7 A7 78 A6        CPA  (SRCH_ADD_H)               ; Address of linefound during search (H)
1034   86EA 8B 02           BZS  BR_86EE                    ; If A == SRCH_ADD_H
1035   86EC FB              SEC                             ; 
1036   86ED 9A              RTN                             ; Done
1037   86EE             
1038   86EE             BR_86EE: ; BR $86EA
1039   86EE A5 78 66        LDA  (BASPRG_ST_L)              ; Start of Basic program in RAM (L)
1040   86F1 A7 78 A7        CPA  (SRCH_ADD_L)               ; Address of linefound during search (L)
1041   86F4 8B 02           BZS  BR_86F8                    ; If A == SRCH_ADD_L
1042   86F6 FB              SEC                             ; Carry set indicates no match
1043   86F7 9A              RTN                             ; Done
1044   86F8             
1045   86F8             BR_86F8: ; BR $86F4
1046   86F8 F9              REC                             ; Carry clear indicates match
1047   86F9 9A              RTN                             ; Done
1048   86FA             ;% LB_xxxx END
1049   86FA             ;------------------------------------------------------------------------------------------------------------
1050   86FA             
1051   86FA             
1052   86FA             
1053   86FA             ;------------------------------------------------------------------------------------------------------------
1054   86FA             ; $86FA xxxx - 
1055   86FA             ; Called from: 
1056   86FA             ; Arguments: 
1057   86FA             ; Outputs: 
1058   86FA             ; RegMod: A
1059   86FA             ;------------------------------------------------------------------------------------------------------------
1060   86FA             ;% LB_xxxx START
1061   86FA             JMP_86FA: ; BR $831D,$8448
1062   86FA FD 88           PSH  X                          ; 
1063   86FC A5 78 A6        LDA  (SRCH_ADD_H)               ; Address of line found during search (H)
1064   86FF 08              STA  XH                         ; 
1065   8700 A5 78 A7        LDA  (SRCH_ADD_L)               ; Address of line found during search (L)
1066   8703 0A              STA  XL                         ; 
1067   8704 44              INC  X                          ; 
1068   8705 44              INC  X                          ; 
1069   8706 45              LIN  X                          ; A = (X) then INC X
1070   8707 FD CA           ADR  X                          ; X = X + A + Carry
1071   8709 A5 78 67        LDA  (BASPRG_END_H)             ; End of Basic program in RAM (H)
1072   870C 86              CPA  XH                         ; Is search at end of program HB??
1073   870D 8B 04           BZS  BR_8713                    ; A == XH
1074   870F FD 0A           POP  X                          ; 
1075   8711 FB              SEC                             ; Failure
1076   8712 9A              RTN                             ; Done
1077   8713             
1078   8713             BR_8713: ; BR $870D
1079   8713 A5 78 68        LDA  (BASPRG_END_L)             ; End of Basic program in RAM (L)
1080   8716 06              CPA  XL                         ; Is search at end of program LB??
1081   8717 8B 04           BZS  BR_871D                    ; A == XL
1082   8719 FD 0A           POP  X                          ; 
1083   871B FB              SEC                             ; 
1084   871C 9A              RTN                             ; Done
1085   871D             
1086   871D             BR_871D: ; BR $8717
1087   871D FD 0A           POP  X                          ; 
1088   871F F9              REC                             ; 
1089   8720 9A              RTN                             ; Done
1090   8721             ;% LB_xxxx END
1091   8721             ;------------------------------------------------------------------------------------------------------------
1092   8721             
1093   8721             
1094   8721             
1095   8721             ;------------------------------------------------------------------------------------------------------------
1096   8721             ; xxxx
1097   8721             ; Called from: 
1098   8721             ; Arguments: 
1099   8721             ; Outputs: 
1100   8721             ; RegMod: 
1101   8721             ;------------------------------------------------------------------------------------------------------------
1102   8721             ;% LB_xxxx START
1103   8721             JMP_8721: ; BR $822C
1104   8721 A5 78 80        LDA  (DISPARAM)                 ; $7880 - Display Parameter: determines display at READY
1105   8724 FD C8           PSH  A                          ; 
1106   8726 B7 20           CPI  A,$20                      ; Bit 5: Result from AR-X is displayed
1107   8728 8B 28           BZS  BR_8752                    ; A == $20
1108   872A B7 80           CPI  A,$80                      ; Bit 7: Error message is in the display
1109   872C 8B 24           BZS  BR_8752                    ; A == $80
1110   872E B7 A0           CPI  A,$A0                      ; Bit 7: Error message is in the display, Bit 5: Result from AR-X is displayed
1111   8730 8B 20           BZS  BR_8752                    ; A == $A0
1112   8732 B7 01           CPI  A,$01                      ; Bit 1: Program waits for Enter after a print command
1113   8734 8B 1C           BZS  BR_8752                    ; A == $01
1114   8736 FD 8A           POP  A                          ; 
1115   8738 FD A5 77 D3     LDA  #(VIDEORAM + $07D3)        ; $77D3
1116   873C B7 0D           CPI  A,$0D                      ; 
1117   873E 8B 01           BZS  BR_8741                    ; A == $0D
1118   8740 9A              RTN                             ; Done
1119   8741             
1120   8741             BR_8741: ; BR $873E
1121   8741 FD A5 77 D1     LDA  #(VIDEORAM + $07D1)        ; $77D1
1122   8745 B7 28           CPI  A,$28                      ; 
1123   8747 8B 01           BZS  BR_874A                    ; A == $28
1124   8749 9A              RTN                             ; Done
1125   874A             
1126   874A             BR_874A: ; BR $8747
1127   874A A5 7B D7        LDA  (IN_BUF + $27)             ; 
1128   874D B7 0D           CPI  A,$0D                      ; CR?
1129   874F 89 6A           BZR  BR_87BB                    ; A <> $0D
1130   8751 9A              RTN                             ; Done
1131   8752             
1132   8752             BR_8752: ; BR $8728,$872C,$8730,$8734
1133   8752 FD EF 77 D2     ADI  #(VIDEORAM + $07D2),$01    ; $77D2
1133   8756 01 
1134   8757 FD A5 77 D2     LDA  #(VIDEORAM + $07D2)        ; $77D2
1135   875B B7 19           CPI  A,$19                      ; 
1136   875D 81 03           BCR  BR_8762                    ; A < $19
1137   875F BE 84 D7        SJP  (JMP_84D7)                 ; $84D7
1138   8762             
1139   8762             BR_8762: ; BR $875D
1140   8762 BE 87 D4        SJP  (JMP_87D4)                 ; $87D4
1141   8765 FD A5 77 D2     LDA  #(VIDEORAM + $07D2)        ; $77D2
1142   8769 18              STA  YH                         ; 
1143   876A 5A 01           LDI  YL,$01                     ; 
1144   876C BE 8D 6B        SJP  (JMP_8D6B)                 ; $8D6B
1145   876F 6A 4F           LDI  UL,$4F                     ; 
1146   8771 FD 8A           POP  A                          ; 
1147   8773 B7 20           CPI  A,$20                      ; 
1148   8775 89 06           BZR  BR_877D                    ; $877D
1149   8777 48 7B           LDI  XH,HB(OUT_BUF)             ; $7B
1150   8779 4A 60           LDI  XL,LB(OUT_BUF)             ; $60
1151   877B 8E 0C           BCH  BR_8789                    ; $8789
1152   877D             
1153   877D             BR_877D: ; BR $8775
1154   877D 48 7A           LDI  XH,$7A                     ; ARZ?
1155   877F 4A 10           LDI  XL,$10                     ; 
1156   8781 6A 19           LDI  UL,$19                     ; Loop counter?
1157   8783 B5 0D           LDI  A,$0D                      ; 
1158   8785 FD AE 77 D3     STA  #(VIDEORAM + $07D3)        ; $77D3
1159   8789             
1160   8789             BR_8789: ; BR $877B
1161   8789 68 00           LDI  UH,$00                     ; 
1162   878B             
1163   878B             BR_878B: ; BR $
1164   878B 45              LIN  X                          ; 
1165   878C B7 00           CPI  A,$00                      ; 
1166   878E 8B 0D           BZS  BR_879D                    ; A == $00
1167   8790 6C 02           CPI  UH,$02                     ; 
1168   8792 8B 09           BZS  BR_879D                    ; A == $02
1169   8794 68 01           LDI  UH,$01                     ; 
1170   8796 FD 1E           STA  #(Y)                       ; 
1171   8798 54              INC  Y                          ; 
1172   8799             
1173   8799             BR_8799: ; BR $8799
1174   8799 88 10           LOP  UL,BR_878B                 ; $878B
1175   879B 8E 08           BCH  BR_87A5                    ; $87A5
1176   879D             
1177   879D             BR_879D: ; BR $878E,$8792
1178   879D 6C 01           CPI  UH,$01                     ; 
1179   879F 89 02           BZR  BR_87A3                    ; A <> $01
1180   87A1 FD 60           INC  UH                         ;
1181   87A3             
1182   87A3             BR_87A3: ; BR $879F
1183   87A3 9E 0C           BCH  BR_8799                    ; $8799
1184   87A5             
1185   87A5             BR_87A5: ; BR $879B
1186   87A5 FD A5 77 D1     LDA  #(VIDEORAM + $07D1)        ; $77D1
1187   87A9 B7 28           CPI  A,$28                      ;
1188   87AB 8B 01           BZS  BR_87AE                    ; A == $28
1189   87AD 9A              RTN                             ; Done
1190   87AE             
1191   87AE             BR_87AE: ; BR $87AB
1192   87AE 4C 7B           CPI  XH,$7B                     ; 
1193   87B0 8B 01           BZS  BR_87B3                    ; XH == $7B
1194   87B2 9A              RTN                             ; Done
1195   87B3             
1196   87B3             BR_87B3: ; BR $87B0                 
1197   87B3 A5 7B 87        LDA  (OUT_BUF + $27)            ; 
1198   87B6 B7 00           CPI  A,$00                      ; 
1199   87B8 89 01           BZR  BR_87BB                    ; A <> $00
1200   87BA 9A              RTN                             ; Done
1201   87BB             
1202   87BB             BR_87BB: ; BR $874F,$87B8,$8791,$87E5
1203   87BB FD EF 77 D2     ADI  #(VIDEORAM + $07D2),$01    ; $77D2
1203   87BF 01 
1204   87C0 FD A5 77 D2     LDA  #(VIDEORAM + $07D2)        ; $77D2
1205   87C4 B7 19           CPI  A,$19                      ; 
1206   87C6 81 03           BCR  BR_87CB                    ; A < $19
1207   87C8 BE 84 D7        SJP  (JMP_84D7)                 ; $84D7
1208   87CB             
1209   87CB             BR_87CB: ; BR $87C6
1210   87CB 9A              RTN                             ; Done
1211   87CC             
1212   87CC             
1213   87CC             JMP_87CC: ; BR $81F1
1214   87CC A5 7B B0        LDA  (IN_BUF)                   ; 
1215   87CF B7 3E           CPI  A,$3E                      ; 
1216   87D1 9B 18           BZS  BR_87BB                    ; A == $3E
1217   87D3 9A              RTN                             ; Done
1218   87D4             
1219   87D4             JMP_87D4: ; BR $8762
1220   87D4 FD A5 77 D1     LDA  #(VIDEORAM + $07D1)        ; $77D1
1221   87D8 B7 28           CPI  A,$28                      ; 
1222   87DA 8B 01           BZS  BR_87DD                    ; A == $28
1223   87DC 9A              RTN                             ; Done
1224   87DD             
1225   87DD             BR_87DD: ; BR $87DA
1226   87DD A5 7B D8        LDA  (IN_BUF + $28)             ; 
1227   87E0 B7 0D           CPI  A,$0D                      ; 
1228   87E2 89 01           BZR  BR_87E5                    ; A <> $0D
1229   87E4 9A              RTN                             ; Done
1230   87E5             
1231   87E5             BR_87E5: ; BR $87E2
1232   87E5 9E 2C           BCH  BR_87BB                    ; $87BB
1233   87E7             ;% LB_xxxx END
1234   87E7             ;------------------------------------------------------------------------------------------------------------
1235   87E7             
1236   87E7             
1237   87E7             
1238   87E7             ;------------------------------------------------------------------------------------------------------------
1239   87E7             ; xxxx
1240   87E7             ; Called from: 
1241   87E7             ; Arguments: 
1242   87E7             ; Outputs: 
1243   87E7             ; RegMod: 
1244   87E7             ;------------------------------------------------------------------------------------------------------------
1245   87E7             ;% LB_xxxx START
1246   87E7             JMP_87E7: ; BR $859A,$85F5
1247   87E7 FD A5 77 D7     LDA  #(VIDEORAM + $07D7)        ; $77D7
1248   87EB B7 50           CPI  A,$50                      ; 
1249   87ED 83 01           BCS  BR_87F0                    ; A >= $50
1250   87EF 9A              RTN                             ; Done
1251   87F0             
1252   87F0             BR_87F0: ; BR $87ED
1253   87F0 A5 78 80        LDA  (DISPARAM)                 ; $7880 - Display Parameter: determines display at READY
1254   87F3 B7 50           CPI  A,$50                      ; Bit 6: The display program shows from (Y-Reg), 
1255   87F5 8B 06           BZS  BR_87FD                    ; If A == $50
1256   87F7 B7 54           CPI  A,$54                      ; Bit 4: Program line is displayed
1257   87F9 8B 02           BZS  BR_87FD                    ; If A == $54
1258   87FB FB              SEC                             ; 
1259   87FC 9A              RTN                             ; Done
1260   87FD             
1261   87FD             BR_87FD: ; BR $87F5,$87F9
1262   87FD FD A5 77 D6     LDA  #(VIDEORAM + $07D6)        ; $77D6
1263   8801 B7 01           CPI  A,$01                      ; 
1264   8803             
1265   8803             BR_8803: ; BR $91C1
1266   8803 89 02           BZR  BR_8807                    ; If A <> $01
1267   8805 FB              SEC                             ; 
1268   8806 9A              RTN                             ; Done
1269   8807             
1270   8807             BR_8807: ; BR $8803
1271   8807 FD 88           PSH  X                          ; 
1272   8809 FD 98           PSH  Y                          ; 
1273   880B FD A8           PSH  U                          ; 
1274   880D FD A5 77 D2     LDA  #(VIDEORAM + $07D2)        ; $77D2
1275   8811 18              STA  YH                         ; 
1276   8812 5A 01           LDI  YL,$01                     ; 
1277   8814 FD A5 77 D8     LDA  #(VIDEORAM + $07D8)        ; $77D8
1278   8818 B7 01           CPI  A,$01                      ; 
1279   881A 89 08           BZR  BR_8824                    ; If A <> $01
1280   881C A5 77 4E        LDA  (STRING_VARS + $FE)        ; $774E in DISPLAY BUFFER, Y cursor position
1281   881F 18              STA  YH                         ; 
1282   8820 A5 77 4F        LDA  (STRING_VARS + $FF)        ; $774F in DISPLAY BUFFER
1283   8823 1A              STA  YL                         ; 
1284   8824             
1285   8824             BR_8824: ; BR $881A
1286   8824 BE 8D 6B        SJP  (JMP_8D6B)                 ; $8D6B
1287   8827 48 7B           LDI  XH,HB(IN_BUF)              ; $7B
1288   8829 4A B0           LDI  XL,LB(IN_BUF)              ; $B0
1289   882B 6A 4F           LDI  UL,$4F                     ; 
1290   882D                 
1291   882D             BR_882D:   
1292   882D 45              LIN  X                          ; 
1293   882E 54              INC  Y                          ; 
1294   882F B7 30           CPI  A,$30                      ; 
1295   8831 81 06           BCR  BR_8839                    ; If A < $30
1296   8833 B7 3A           CPI  A,$3A                      ; 
1297   8835 83 02           BCS  BR_8839                    ; If A >= $3A
1298   8837 88 0C           LOP  UL,BR_882D                 ; 
1299   8839             
1300   8839             BR_8839: ; BR $8331,$8335
1301   8839 FD 18           LDX  Y                          ; 
1302   883B 54              INC  Y                          ; 
1303   883C 62              DEC  UL                         ; 
1304   883D             
1305   883D             BR_883D: ; BR $8843
1306   883D FD 15           LDA  #(Y)                       ; 
1307   883F 54              INC  Y                          ; 
1308   8840 FD 0E           STA  #(X)                       ; 
1309   8842 44              INC  X                          ; 
1310   8843 88 08           LOP  UL,BR_883D                 ; $883D
1311   8845 FD 2A           POP  U                          ; 
1312   8847 FD 1A           POP  Y                          ; 
1313   8849 FD 0A           POP  X                          ; 
1314   884B FD EF 77 D7     ADI  #(VIDEORAM + $07D7),$FF    ; $77
1314   884F FF 
1315   8850 B5 FF           LDI  A,$FF                      ; 
1316   8852 F9              REC                             ; 
1317   8853 9A              RTN                             ; Done
1318   8854             
1319   8854             
1320   8854             JMP_8854: ; BR $8835
1321   8854 FD A5 77 D8     LDA  #(VIDEORAM + $07D8)        ; $77D8
1322   8858 B7 01           CPI  A,$01                      ; 
1323   885A 8B 01           BZS  BR_885D                    ; If A == $01
1324   885C 9A              RTN                             ; Done
1325   885D             
1326   885D             BR_885D: ; BR $885A
1327   885D A5 77 4E        LDA  (STRING_VARS + $FE)        ; $774E in DISPLAY BUFFER, Y cursor position
1328   8860 B7 16           CPI  A,$16                      ; 
1329   8862 83 01           BCS  BR_8865                    ; If A >= $16
1330   8864 9A              RTN                             ; Done
1331   8865             
1332   8865             BR_8865: ; BR $8862
1333   8865 FD 98           PSH  Y                          ; 
1334   8867 FD A8           PSH  U                          ; 
1335   8869 FD 88           PSH  X                          ; 
1336   886B 04              LDA  XL                         ; 
1337   886C FB              SEC                             ; 
1338   886D A1 70 01        SBC  (SHADOW_RAM + $01)         ; $7001
1339   8870 0A              STA  XL                         ; 
1340   8871 84              LDA  XH                         ; 
1341   8872 A1 70 00        SBC  (SHADOW_RAM)               ; $7000
1342   8875 08              STA  XH                         ; 
1343   8876 FD A5 77 D1     LDA  #(VIDEORAM + $07D1)        ; $77D1
1344   887A B7 50           CPI  A,$50                      ; 
1345   887C 89 08           BZR  BR_8886                    ; If A <> $50
1346   887E 4C 07           CPI  XH,$07                     ; 
1347   8880 89 02           BZR  BR_8884                    ; If A <> $50
1348   8882 4E D0           CPI  XL,$D0                     ; 
1349   8884             
1350   8884             BR_8884: ; BR $8880
1351   8884 8E 06           BCH  BR_888C                    ; $888C
1352   8886             
1353   8886             BR_8886: ; BR $887C
1354   8886 4C 03           CPI  XH,$03                     ;
1355   8888 89 02           BZR  BR_888C                    ; If A <> $03
1356   888A 4E E8           CPI  XL,$E8                     ;
1357   888C             
1358   888C             BR_888C: ; BR $8884,$8888
1359   888C 81 20           BCR  BR_88AE                    ; $88AE
1360   888E B5 1A           LDI  A,$1A                      ; 
1361   8890 BE 84 D7        SJP  (JMP_84D7)                 ; $84D7
1362   8893 A5 77 4E        LDA  (STRING_VARS + $FE)        ; $774E DISPLAY BUFFER, Y cursor position
1363   8896 18              STA  YH                         ;
1364   8897 5A 01           LDI  YL,$01                     ;
1365   8899 BE 8D 6B        SJP  (JMP_8D6B)                 ; $8D6B
1366   889C FD 0A           POP  X                          ; 
1367   889E FD 98           PSH  Y                          ; 
1368   88A0 BE 88 B5        SJP  (JMP_88B5)                 ; $88B5
1369   88A3 FD A5 77 D1     LDA  #(VIDEORAM + $07D1)        ; $77D1
1370   88A7 B7 50           CPI  A,$50                      ;
1371   88A9 8B 03           BZS  BR_88AE                    ; If A == $50
1372   88AB BE 88 B5        SJP  (JMP_88B5)                 ; $88B5
1373   88AE             
1374   88AE             BR_88AE: ; BR $888C,$88A9
1375   88AE FD 0A           POP  X                          ; 
1376   88B0 FD 2A           POP  U                          ; 
1377   88B2 FD 1A           POP  Y                          ; 
1378   88B4 9A              RTN                             ; Done
1379   88B5             ;% LB_xxxx END
1380   88B5             ;------------------------------------------------------------------------------------------------------------
1381   88B5             
1382   88B5             
1383   88B5             
1384   88B5             ;------------------------------------------------------------------------------------------------------------
1385   88B5             ; $88B5 xxxx - Sets $77D2 (ME1) and $774E (ME0) to $FF
1386   88B5             ; Called from: $88A0,$88AB
1387   88B5             ; Arguments: 
1388   88B5             ; Outputs: 
1389   88B5             ; RegMod: 
1390   88B5             ;------------------------------------------------------------------------------------------------------------
1391   88B5             ;% LB_xxxx START
1392   88B5             JMP_88B5: 
1393   88B5 FD EF 77 D2     ADI  #(VIDEORAM + $07D2),$FF    ; $77D2, (pp) = (pp) + n (ME1) 
1393   88B9 FF 
1394   88BA EF 77 4E FF     ADI  (STRING_VARS + $FE),$FF    ; $774E in DISPLAY BUFFER, Y cursor position, (pp) = (pp) + n (ME0)
1395   88BE 9A              RTN                             ; Done
1396   88BF             ;% LB_xxxx END
1397   88BF             ;------------------------------------------------------------------------------------------------------------
1398   88BF             
1399   88BF             
1400   88BF             
1401   88BF             ;------------------------------------------------------------------------------------------------------------
1402   88BF             ; $88BF xxxx
1403   88BF             ; Called from: $85E5,$8C17
1404   88BF             ; Arguments: 
1405   88BF             ; Outputs: 
1406   88BF             ; RegMod: 
1407   88BF             ;------------------------------------------------------------------------------------------------------------
1408   88BF             ;% LB_xxxx START
1409   88BF             JMP_88BF: 
1410   88BF 04              LDA  XL                         ; 
1411   88C0 FB              SEC                             ; 
1412   88C1 A1 70 01        SBC  (SHADOW_RAM + $01)         ; $7001
1413   88C4 0A              STA  XL                         ; 
1414   88C5 84              LDA  XH                         ; 
1415   88C6 A1 70 00        SBC  (SHADOW_RAM)               ; $7000
1416   88C9 08              STA  XH                         ; 
1417   88CA 6A 01           LDI  UL,$01                     ; 
1418   88CC             
1419   88CC             BR_88CC: ; BR $88E3
1420   88CC 60              INC  UL                         ; 
1421   88CD FD A5 77 D1     LDA  #(VIDEORAM + $07D1)        ; $77D1
1422   88D1 4C 00           CPI  XH,$00                     ; 
1423   88D3 89 05           BZR  BR_88DA                    ; If A <> $00
1424   88D5 06              CPA  XL                         ; 
1425   88D6 8B 02           BZS  BR_88DA                    ; If A == XL
1426   88D8 83 0B           BCS  BR_88E5                    ; If A >= XL
1427   88DA             
1428   88DA             BR_88DA: ; BR $88D3,$88D6
1429   88DA 28              STA  UH                         ; 
1430   88DB 04              LDA  XL                         ; 
1431   88DC FB              SEC                             ; 
1432   88DD A0              SBC  UH                         ; 
1433   88DE 0A              STA  XL                         ; 
1434   88DF 84              LDA  XH                         ; 
1435   88E0 B1 00           SBI  A,$00                      ;
1436   88E2 08              STA  XH                         ; 
1437   88E3 9E 19           BCH  BR_88CC                    ; $88CC
1438   88E5             
1439   88E5             BR_88E5: ; BR $88D8
1440   88E5 24              LDA  UL
1441   88E6 FD AE 77 D2     STA  #(VIDEORAM + $07D2)        ; $77D2
1442   88EA 9A              RTN                             ; Done
1443   88EB             ;% LB_xxxx END
1444   88EB             ;------------------------------------------------------------------------------------------------------------
1445   88EB             
1446   88EB             
1447   88EB             
1448   88EB             ;------------------------------------------------------------------------------------------------------------
1449   88EB             ; xxxx
1450   88EB             ; Called from: 
1451   88EB             ; Arguments: 
1452   88EB             ; Outputs: 
1453   88EB             ; RegMod: 
1454   88EB             ;------------------------------------------------------------------------------------------------------------
1455   88EB             ;% LB_xxxx START
1456   88EB             JMP_88EB: ; BR $81CF,$81F4
1457   88EB FD A5 77 D8     LDA  #(VIDEORAM + $07D8)        ; $77D8
1458   88EF B7 01           CPI  A,$01                      ; 
1459   88F1 89 05           BZR  BR_88F8                    ; If A == $01
1460   88F3 A5 77 4E        LDA  (STRING_VARS + $FE)        ; $774E  DISPLAY BUFFER, Y cursor position
1461   88F6 8E 04           BCH  BR_88FC                    ; $88FC
1462   88F8             
1463   88F8             BR_88F8: ; BR $88F1
1464   88F8 FD A5 77 D2     LDA  #(VIDEORAM + $07D2)        ; $77D2
1465   88FC             
1466   88FC             BR_88FC: ; BR $88F6
1467   88FC 9A              RTN                             ; Done
1468   88FD             ;% LB_xxxx END
1469   88FD             ;------------------------------------------------------------------------------------------------------------
1470   88FD             
1471   88FD             
1472   88FD             
1473   88FD             ;------------------------------------------------------------------------------------------------------------
1474   88FD             ; xxxx
1475   88FD             ; Called from: 
1476   88FD             ; Arguments: 
1477   88FD             ; Outputs: 
1478   88FD             ; RegMod: 
1479   88FD             ;------------------------------------------------------------------------------------------------------------
1480   88FD             ;% LB_xxxx START
1481   88FD             JMP_88FD: ; BR $84B1
1482   88FD 68 33           LDI  UH,$33                     ; 
1483   88FF B5 10           LDI  A,$10                      ; 
1484   8901 A9 76 4E        AND  (DISP_BUFF + $4E)          ; 
1485   8904 B7 10           CPI  A,$10                      ; 
1486   8906 89 01           BZR  BR_8909                    ; If A <> $10
1487   8908 9A              RTN                             ; 
1488   8909             
1489   8909             BR_8909: ; BR $8906
1490   8909 FD 62           DEC  UH                         ;
1491   890B B5 20           LDI  A,$20                      ; 
1492   890D A9 76 4E        AND  (DISP_BUFF + $4E)          ; 
1493   8910 B7 20           CPI  A,$20                      ; 
1494   8912 89 01           BZR  BR_8915                    ; If A <> $20
1495   8914 9A              RTN                             ; 
1496   8915             
1497   8915             BR_8915: ; BR $8912
1498   8915 FD 62           DEC  UH                         ;
1499   8917 B5 40           LDI  A,$40                      ; 
1500   8919 A9 76 4E        AND  (DISP_BUFF + $4E)          ; 
1501   891C B7 40           CPI  A,$40                      ; 
1502   891E 89 06           BZR  BR_8926                    ; If A <> $40
1503   8920 FD E9 77 DF     ANI  #(VIDEORAM + $07DF),$00    ; $77DF
1503   8924 00 
1504   8925 9A              RTN                             ; 
1505   8926             
1506   8926             BR_8926: ; BR $891E
1507   8926 68 0D           LDI  UH,$0D                     ; 
1508   8928 9A              RTN                             ; 
1509   8929             ;% LB_xxxx END
1510   8929             ;------------------------------------------------------------------------------------------------------------
1511   8929             
1512   8929             
1513   8929             
1514   8929             ;------------------------------------------------------------------------------------------------------------
1515   8929             ; xxxx
1516   8929             ; Called from: BR $8241,$84CD,$866A,$8671,$8678,$8A98
1517   8929             ; Arguments: 
1518   8929             ; Outputs: 
1519   8929             ; RegMod: 
1520   8929             ;------------------------------------------------------------------------------------------------------------
1521   8929             ;% LB_xxxx START
1522   8929             JMP_8929: ; BR $81E1
1523   8929 FD E9 77 DF     ANI  #(VIDEORAM + $07DF),$00    ; $77DF
1523   892D 00 
1524   892E A5 76 4F        LDA  (DISP_BUFF + $4F)          ; 
1525   8931 BF 10           BII  A,$10                      ; 
1526   8933 8B 19           BZS  BR_894E                    ; If Bit 6 of A was not set
1527   8935 A5 78 80        LDA  (DISPARAM)                 ; $7880 - Display Parameter: determines display at READY
1528   8938 B9 01           ANI  A,$01                      ; 
1529   893A B7 01           CPI  A,$01                      ; Bit 0: The input buffer was temporarily stored. A system message or a reserve text is shown in the display.
1530   893C 8B 02           BZS  BR_8940                    ; If A == $01
1531   893E FB              SEC                             ; 
1532   893F 9A              RTN                             ; Done
1533   8940             
1534   8940             BR_8940: ; BR $893C
1535   8940 A5 78 80        LDA  (DISPARAM)                 ; $7880 - Display Parameter: determines display at READY
1536   8943 B9 01           ANI  A,$01                      ; 
1537   8945 B7 01           CPI  A,$01                      ; Bit 0: The input buffer was temporarily stored. A system message or a reserve text is shown in the display.
1538   8947 89 05           BZR  BR_894E                    ; If A <> $01
1539   8949 BE 84 66        SJP  (BR_8466)                  ; $8466
1540   894C F9              REC                             ; 
1541   894D 9A              RTN                             ; Done
1542   894E             
1543   894E             BR_894E: ; BR $8933,$8947
1544   894E A5 78 80        LDA  (DISPARAM)                 ; $7880 - Display Parameter: determines display at READY
1545   8951 B9 01           ANI  A,$01                      ; 
1546   8953 B7 00           CPI  A,$00                      ; Nothing but Bit 0 was set
1547   8955 89 02           BZR  BR_8959                    ; If A <> $00
1548   8957 FB              SEC                             ;  
1549   8958 9A              RTN                             ; Done
1550   8959             
1551   8959             BR_8959:
1552   8959 BE 8C 57        SJP  (JMP_8C57)                 ; $8C57
1553   895C FD EF 77 D2     ADI  #(VIDEORAM + $07D2),$FF    ; $77D2
1553   8960 FF 
1554   8961 F9              REC                             ; 
1555   8962 9A              RTN                             ; Done
1556   8963             ;% LB_xxxx END
1557   8963             ;------------------------------------------------------------------------------------------------------------
1558   8963             
1559   8963             
1560   8963             
1561   8963             ;------------------------------------------------------------------------------------------------------------
1562   8963             ; $8963 CRTC_CSR_STRT - CRTC - Cursor start raster register
1563   8963             ; Called from: BR $8241,$84CD,$866A,$8671,$8678,$8A98
1564   8963             ; Arguments: 
1565   8963             ; Outputs: 
1566   8963             ; RegMod: 
1567   8963             ;------------------------------------------------------------------------------------------------------------
1568   8963             ;% LB_CRTC_CSR_STRT START
1569   8963             CRTC_CSR_STRT:
1570   8963 FD C8           PSH  A                          ; 
1571   8965 B5 0A           LDI  A,$0A                      ; CRTC - Cursor start raster register
1572   8967 FD AE 78 00     STA  #(CRTCTRL)                 ; &7800
1573   896B B5 20           LDI  A,$20                      ;
1574   896D FD AE 78 01     STA  #(CRTCTRL + $01)           ; $7801
1575   8971 FD 8A           POP  A                          ; 
1576   8973 9A              RTN                             ; 
1577   8974             ;% LB_CRTC_CSR_STRT START
1578   8974             ;------------------------------------------------------------------------------------------------------------
1579   8974             
1580   8974             
1581   8974             
1582   8974             ;------------------------------------------------------------------------------------------------------------
1583   8974             ; $8974 CLS - 
1584   8974             ; Called from: CONSOLE:$8A05,$8A25,$8A36,$8A44 
1585   8974             ; Arguments: 
1586   8974             ; Outputs: 
1587   8974             ; RegMod: 
1588   8974             ;------------------------------------------------------------------------------------------------------------
1589   8974             ;% LB_CLS START
1590   8974             CLS: 
1591   8974 FD 98           PSH  Y                          ; 
1592   8976 BE 8D 41        SJP  (JMP_8D41)                 ; $8D41
1593   8979 FD E9 77 D3     ANI  #(VIDEORAM + $07D3),$00    ; $77D3
1593   897D 00 
1594   897E FD 1A           POP  Y                          ; 
1595   8980 E2              VEJ  (E2)                       ; (E2) - BASIC interpreter: Y-Reg points to command or line end
1596   8981             
1597   8981 BE DF B4        SJP  ($DFB4)                    ; $DFB4 (STRBUF_OK)
1598   8984 D0              VEJ  (D0) \ 
1598   8985             
1599   8985 00                  ABYT($00) \ ABRF(BR_89A0)   ; (D0) Convert AR-X to Integer & load in U-Reg. Area check by D1, if exceeded branch
1599   8986 19          
1600   8987 6C 00           CPI  UH,$00                     ; 
1601   8989 8B 04           BZS  BR_898F                    ; UH == $00
1602   898B A4              LDA  UH                         ; 
1603   898C BE 89 A1        SJP  (BR_8981)                  ; $89A1
1604   898F             
1605   898F             BR_898F:
1606   898F 24              LDA  UL                         ; 
1607   8990 BE 89 A1        SJP  (BR_8981)                  ; $89A1
1608   8993 6A 04           LDI  UL,$04                     ; 
1609   8995 6C 00           CPI  UH,$00                     ; 
1610   8997 89 02           BZR  BR_899B                    ; UH == $00
1611   8999 6A 02           LDI  UL,$02                     ; 
1612   899B             
1613   899B             BR_899B:
1614   899B BE DF C5        SJP  (ARX2STRBUF+1)             ; $DFC5
1615   899E 68 00           LDI  UH,$00                     ; 
1616   89A0             
1617   89A0             BR_89A0: 
1618   89A0 9A              RTN                             ; Done
1619   89A1             
1620   89A1             BR_8981: ; Entry for HEX$? HEX$ Num.Exp
1621   89A1 FD C8           PSH  A                          ; 
1622   89A3 F1              AEX                             ; Accumulator High nibble & low nibble swapped
1623   89A4 BE 89 A9        SJP  (BR_89A9)                  ; $89A9
1624   89A7 FD 8A           POP  A                          ; 
1625   89A9             
1626   89A9             BR_89A9:
1627   89A9 B9 0F           ANI  A,$0F                      ; 
1628   89AB BB 30           ORI  A,$30                      ; 
1629   89AD B7 3A           CPI  A,$3A                      ;
1630   89AF 81 02           BCR  BR_89B3                    ; A >= 3A
1631   89B1 B3 06           ADI  A,$06                      ; 
1632   89B3             
1633   89B3             BR_89B3: 
1634   89B3 51              SIN  Y                          ; (Y) = A. Then Y = Y + 1
1635   89B4 9A              RTN                             ;
1636   89B5             ;% LB_CLS END
1637   89B5             ;------------------------------------------------------------------------------------------------------------
1638   89B5             
1639   89B5             
1640   89B5             
1641   89B5             ;------------------------------------------------------------------------------------------------------------
1642   89B5             ; CONSOLE - 
1643   89B5             ; Called from 
1644   89B5             ; Arguments: 
1645   89B5             ; Outputs: 
1646   89B5             ; RegMod: 
1647   89B5             ;------------------------------------------------------------------------------------------------------------
1648   89B5             ;% LB_CONSOLE START
1649   89B5             CONSOLE:
1650   89B5 15              LDA  (Y)                        ; 
1651   89B6 B7 49           CPI  A,$49                      ; 
1652   89B8 89 0A           BZR  BR_89C4                    ; A <> $49 'I'
1653   89BA FD EB 77 F4     ORI  #(VIDEORAM + $07F4),$02    ; $77F4
1653   89BE 02 
1654   89BF BE 8A 38        SJP  (JMP_8A38)                 ; $8A38
1655   89C2 54              INC  Y                          ;
1656   89C3 E2              VEJ  (E2)                       ; (E2) - BASIC interpreter: Y-Reg points to command or line end
1657   89C4             
1658   89C4             BR_89C4:
1659   89C4 B7 4E           CPI  A,$4E                      ; 
1660   89C6 89 0A           BZR  BR_89D2                    ; A <> $4E 'N'
1661   89C8 FD E9 77 F4     ANI  #(VIDEORAM + $07F4),$05    ; $77F4
1661   89CC 05 
1662   89CD BE 8A 38        SJP  (JMP_8A38)                 ; $8A38
1663   89D0 54              INC  Y                          ; 
1664   89D1 E2              VEJ  (E2)                       ; (E2) - BASIC interpreter: Y-Reg points to command or line end
1665   89D2             
1666   89D2             BR_89D2:
1667   89D2 DE              VEJ  (DE) \ ABRF(BR_8A48)       ; (DE) Calculates formula pointed to by Y-Reg, passes the result to AR-X. 
1667   89D3 74          
1668   89D4 D0              VEJ  (D0) \ 
1668   89D5             
1669   89D5 06                  ABYT($06) \ ABRF(BR_8A48 )  ; (D0) Convert AR-X to Integer & load in U-Reg. Area check by D1, if exceeded branch
1669   89D6 71          
1670   89D7 24              LDA  UL                         ; 
1671   89D8 B7 01           CPI  A,$01                      ; 
1672   89DA 89 09           BZR  BR_89E5                    ; A <> $01
1673   89DC FD E9 77 F4     ANI  #(VIDEORAM + $07F4),$03    ; $77F4
1673   89E0 03 
1674   89E1 BE 8A 38        SJP  (JMP_8A38)                 ; $8A38
1675   89E4 E2              VEJ  (E2)                       ; (E2) - BASIC interpreter: Y-Reg points to command or line end
1676   89E5             
1677   89E5             BR_89E5:
1678   89E5 B7 02           CPI  A,$02                      ; 
1679   89E7 89 09           BZR  BR_89F2                    ; A <> $02
1680   89E9 FD EB 77 F4     ORI  #(VIDEORAM + $07F4),$04    ; $77F4
1680   89ED 04 
1681   89EE BE 8A 38        SJP  (JMP_8A38)                 ; $8A38
1682   89F1 E2              VEJ  (E2)                       ; (E2) - BASIC interpreter: Y-Reg points to command or line end
1683   89F2             
1684   89F2             BR_89F2:
1685   89F2 B7 00           CPI  A,$00                      ; 
1686   89F4 89 11           BZR  BR_8A07                    ; A <> $07
1687   89F6 FD E9 77 F4     ANI  #(VIDEORAM + $07F4),$00    ; $77F4
1687   89FA 00 
1688   89FB BE 8A 38        SJP  (JMP_8A38)                 ; $8A38
1689   89FE 48 8E           LDI  XH,$8E                     ; ***In unknown table
1690   8A00 4A A1           LDI  XL,$A1                     ; 
1691   8A02 BE 8D A8        SJP  (CRTC_INIT)                 ; $8DA8
1692   8A05 9E 93           BCH  CLS                        ; 
1693   8A07             
1694   8A07             BR_8A07:
1695   8A07 24              LDA  UL                         ; 
1696   8A08 B7 50           CPI  A,$50                      ; 
1697   8A0A 8B 1B           BZS  BR_8A27                    ; A <> $50
1698   8A0C B7 28           CPI  A,$28                      ; 
1699   8A0E 89 36           BZR  BR_8A46                    ; A <> $28
1700   8A10 FD EB 77 F4     ORI  #(VIDEORAM + $07F4),$01    ; $77F4
1700   8A14 01 
1701   8A15 BE 8A 38        SJP  (JMP_8A38)                 ; $8A38
1702   8A18 48 8E           LDI  XH,$8E                     ; *** start of unknown table
1703   8A1A 4A 8F           LDI  XL,$8F                     ; 
1704   8A1C BE 8D A8        SJP  (CRTC_INIT)                 ; $8DA8
1705   8A1F B5 28           LDI  A,$28                      ; 
1706   8A21 FD AE 77 D1     STA  #(VIDEORAM + $07D1)        ; $77D1
1707   8A25 9E B3           BCH  CLS                        ; 
1708   8A27             
1709   8A27             BR_8A27:
1710   8A27 FD E9 77 F4     ANI  #(VIDEORAM + $07F4),$06    ; $77F4
1710   8A2B 06 
1711   8A2C BE 8A 38        SJP  (JMP_8A38)                 ; $8A38
1712   8A2F 48 8E           LDI  XH,$8E                     ; *** in unknown table
1713   8A31 4A A1           LDI  XL,$A1                     ; 
1714   8A33 BE 8D A8        SJP  (CRTC_INIT)                 ; $8DA8
1715   8A36 9E C4           BCH  CLS                        ; 
1716   8A38             
1717   8A38             JMP_8A38:
1718   8A38 FD A5 77 F4     LDA  #(VIDEORAM + $07F4)        ; $77F4
1719   8A3C FD AE D4 00     STA  #($D400)                   ; ***
1720   8A40 9A              RTN                             ; 
1721   8A41             
1722   8A41             ;$8A41: 
1723   8A41 BE 8D A8        SJP  (CRTC_INIT); $8DA8           ; Dead code?
1724   8A44 9E D2           BCH  CLS                        ;
1725   8A46             
1726   8A46             BR_8A46: ; BR $8A0E
1727   8A46 68 13           LDI  UH,$13                     ; 
1728   8A48             
1729   8A48             BR_8A48:
1730   8A48 E0              VEJ  (E0)                       ; (E0) Returns error message if UH is not 00
1731   8A49             ;% LB_CONSOLE ND
1732   8A49             ;------------------------------------------------------------------------------------------------------------
1733   8A49             
1734   8A49             
1735   8A49             
1736   8A49             ;------------------------------------------------------------------------------------------------------------
1737   8A49             ; CURSOR - Positions cursor on sreen
1738   8A49             ; Usage: CURSOR Num.Exp 1, Num.Exp 2
1739   8A49             ; Called from: 
1740   8A49             ; Arguments: Num.Exp_1 Specifies horizontal position (value:0-79 80col, 0-39 40col)
1741   8A49             ;            Num.Exp_2 Specified vertical position 
1742   8A49             ; Outputs: 
1743   8A49             ; RegMod: 
1744   8A49             ;------------------------------------------------------------------------------------------------------------
1745   8A49             ;% LB_CURSOR START
1746   8A49             CURSOR:
1747   8A49 DE              VEJ  (DE) \ ABRF(BR_8A8A)       ; (DE) Calculates formula pointed to by Y-Reg, passes the result to AR-X. 
1747   8A4A 3F          
1748   8A4B D0              VEJ  (D0) \ 
1748   8A4C             
1749   8A4C 0C                  ABYT($0C) \ ABRF(BR_8A8A)   ; (D0) Convert AR-X to Int, load in U-Reg. If range of D1 (80d) exceeded branch
1749   8A4D 3C          
1750   8A4E FD A5 77 D1     LDA  #(VIDEORAM + $07D1)        ; $77D1
1751   8A52 DF              DEC  A                          ; 
1752   8A53 26              CPA  UL                         ; U = X position?
1753   8A54 81 03           BCR  BR_8A59                    ; A < UL Error exit
1754   8A56 BA 8A 5D        JMP  JMP_8A5D                   ; $8A5D
1755   8A59             
1756   8A59             BR_8A59:
1757   8A59 68 13           LDI  UH,$13                     ; 
1758   8A5B 8E 2D           BCH  BR_8A8A                    ; $8A8A
1759   8A5D             
1760   8A5D             JMP_8A5D:
1761   8A5D 24              LDA  UL                         ; 
1762   8A5E DD              INC  A                          ; 
1763   8A5F FD C8           PSH  A                          ; Save new X position?
1764   8A61 C2              VEJ  (C2) \ 
1764   8A62             
1765   8A62 2C                  ACHR($2C) \ ABRF(BR_8A75)   ; Checks for $2C char. ',' (commma) If (not) found, branch to BR_8A75
1765   8A63 11          
1766   8A64 DE              VEJ  (DE) \ ABRF(BR_8A8A)       ; (DE) Calculates formula pointed to by Y-Reg, passes the result to AR-X. 
1766   8A65 24          
1767   8A66 D0              VEJ  (D0) \ 
1767   8A67             
1768   8A67 10                  ABYT($10) \ ABRF(BR_8A88)   ; (D0) Convert AR-X to Integer & load in U-Reg. If > 25d branch
1768   8A68 1F          
1769   8A69 24              LDA  UL                         ; UL = Y position?
1770   8A6A DD              INC  A                          ; 
1771   8A6B 2A              STA  UL                         ; 
1772   8A6C B7 1A           CPI  A,$1A                      ; 
1773   8A6E 89 03           BZR  BR_8A73                    ; A <> $1A
1774   8A70 68 13           LDI  UH,$13                     ; Error #19
1775   8A72 E0              VEJ  (E0)                       ; (E0) Returns error message if UH is not 00
1776   8A73             
1777   8A73             BR_8A73:
1778   8A73 8E 09           BCH  BR_8A7E                    ; $8A7E
1779   8A75             
1780   8A75             BR_8A75:
1781   8A75 56              DEC  Y                          ; 
1782   8A76 FD C8           PSH  A                          ; 
1783   8A78 A5 77 4E        LDA  (STRING_VARS + $FE)        ; $774E in DISPLAY BUFFER, Y cursor position
1784   8A7B 2A              STA  UL                         ; 
1785   8A7C FD 8A           POP  A                          ; 
1786   8A7E             
1787   8A7E             BR_8A7E:
1788   8A7E 24              LDA  UL                         ; 
1789   8A7F AE 77 4E        STA  (STRING_VARS + $FE)        ; $774E in DISPLAY BUFFER, Y cursor position
1790   8A82 FD 8A           POP  A                          ; 
1791   8A84 AE 77 4F        STA  (STRING_VARS + $FF)        ; $774F in DISPLAY BUFFER, X cursor position
1792   8A87 E2              VEJ  (E2)                       ; (E2) - BASIC interpreter: Y-Reg points to command or line end
1793   8A88             
1794   8A88             BR_8A88:
1795   8A88 FD 8A           POP  A                          ; 
1796   8A8A             
1797   8A8A             BR_8A8A:
1798   8A8A E0              VEJ  (E0)                       ; (E0) Returns error message if UH is not 00
1799   8A8B             ;% LB_CURSOR END
1800   8A8B             ;------------------------------------------------------------------------------------------------------------
1801   8A8B             
1802   8A8B             
1803   8A8B             
1804   8A8B             ;------------------------------------------------------------------------------------------------------------
1805   8A8B             ; $8A8B xxxx - 
1806   8A8B             ; Called from: PRINT:$91B8
1807   8A8B             ; Arguments: 
1808   8A8B             ; Outputs: 
1809   8A8B             ; RegMod: 
1810   8A8B             ;------------------------------------------------------------------------------------------------------------
1811   8A8B             ;% LB_xxxx START
1812   8A8B             JMP_8A8B:
1813   8A8B B5 60           LDI  A,$60                      ; 
1814   8A8D AE 78 8F        STA  (OUTBUF_PTR)               ; $788F Pointer into OUT_BUF
1815   8A90 BE 8C 4A        SJP  (JMP_8C4A)                 ; $8C4A
1816   8A93 FD EB 77 F3     ORI  #(VIDEORAM + $07F3),$01    ; $77F3 Set Bit 0
1816   8A97 01 
1817   8A98 BE 89 63        SJP  (CRTC_CSR_STRT)                 ; $8963
1818   8A9B B5 00           LDI  A,$00                      ; 
1819   8A9D 6A 4F           LDI  UL,$4F                     ; 
1820   8A9F 48 7B           LDI  XH,HB(OUT_BUF)             ; $7B X=$7B60 start of OUT_BUF
1821   8AA1 4A 60           LDI  XL,LB(OUT_BUF)             ; $60 
1822   8AA3             
1823   8AA3             BR_8AA3:
1824   8AA3 41              SIN  X                          ; (X) = A. Then X = X + 1 . Zero out OUT_BUF
1825   8AA4 88 03           LOP  UL,BR_8AA3                 ; UL = UL - 1, loop back 'e' if Borrow Flag not set
1826   8AA6             
1827   8AA6             BR_8AA6:
1828   8AA6 C0              VEJ  (C0)                       ; (C0) Load next character/token into U-REG
1829   8AA7 6C F0           CPI  UH,$F0                     ; 
1830   8AA9 89 02           BZR  BR_8AAD                    ; UH <> $F0
1831   8AAB 6E 85           CPI  UL,$85                     ; $F085 is USING token
1832   8AAD             
1833   8AAD             BR_8AAD:
1834   8AAD 8B 03           BZS  BR_8AB2                    ; UL == $85, is USING token
1835   8AAF C6              VEJ  (C6)                       ; (C6) Correct program pointer if token not USING
1836   8AB0 8E 04           BCH  BR_8AB6                    ; $8AB6
1837   8AB2             
1838   8AB2             BR_8AB2:
1839   8AB2 CD 9A           VMJ  ($9A)                      ; (9A) Determines and transmits USING parameters
1840   8AB4 C3 E0           VCS  ($E0)                      ; (E0) Gives an error message if UH is not "00".
1841   8AB6             
1842   8AB6             BR_8AB6:
1843   8AB6 15              LDA  (Y)                        ; Continues here if not USING token
1844   8AB7 B7 0D           CPI  A,$0D                      ; 
1845   8AB9 8B E3           BZS  BR_8B9E                    ; A == $0D
1846   8ABB             
1847   8ABB             BR_8ABB:
1848   8ABB 15              LDA  (Y)                        ; 
1849   8ABC B7 3A           CPI  A,$3A                      ; 
1850   8ABE 8B DE           BZS  BR_8B9E                    ; A == $3A
1851   8AC0 CD 2E           VMJ  ($2E) \ ABRF(BR_8AC5)      ; Calculates expression result to AR-X. Branch on error
1851   8AC2 02          
1852   8AC3 8E 03           BCH  BR_8AC8                    ; $8AC8
1853   8AC5             
1854   8AC5             BR_8AC5:
1855   8AC5 BA 8C 38        JMP  JMP_8C38                   ; Exit path
1856   8AC8             
1857   8AC8             BR_8AC8:
1858   8AC8 A5 7A 04        LDA  (ARX + $04)                ; 
1859   8ACB B7 C1           CPI  A,$C1                      ; 
1860   8ACD 8B 58           BZS  BR_8B27                    ; A == $C1
1861   8ACF B7 D0           CPI  A,$D0                      ; 
1862   8AD1 8B 54           BZS  BR_8B27                    ; A == $D0
1863   8AD3 A5 78 95        LDA  (USINGF)                   ; 
1864   8AD6 B7 00           CPI  A,$00                      ; 
1865   8AD8 89 1D           BZR  BR_8AF7                    ; A <> $00
1866   8ADA B5 10           LDI  A,$10                      ; 
1867   8ADC AE 78 94        STA  (STR_BUF_PTR_L)            ; 
1868   8ADF FD 98           PSH  Y                          ; 
1869   8AE1 BE D9 CF        SJP  (BCMD_STR)                 ; 
1870   8AE4 FD 1A           POP  Y                          ; 
1871   8AE6 6C 00           CPI  UH,$00                     ; 
1872   8AE8 99 25           BZR  BR_8AC5                    ; A <> $00
1873   8AEA A5 7A 01        LDA  (ARX + $01)                ; 
1874   8AED B7 00           CPI  A,$00                      ; 
1875   8AEF 89 04           BZR  BR_8AF5                    ; A <> $00
1876   8AF1 EF 78 8F 01     ADI  (OUTBUF_PTR),$01           ; $788F (pp) = (pp) + n (ME1)
1877   8AF5             
1878   8AF5             BR_8AF5:
1879   8AF5 8E 30           BCH  BR_8B27                    ; $8B27
1880   8AF7             
1881   8AF7             BR_8AF7:
1882   8AF7 FD 98           PSH  Y                          ; -1 hack as target calc 1 off
1883   8AF9 D2              VEJ  (D2) \                     ; If AR-X contains an integer value, convert it with (10) (DD2D) according to D2.  
1883   8AFA             
1884   8AFA 00                  ABRF(BR_8AFC-1) \ ABYT($80) ; If AR-X contains CSI, continue with Distance Address according to D1.
1884   8AFB 80          
1885   8AFC             
1886   8AFC             BR_8AFC:
1887   8AFC CD 96           VMJ  ($96)                      ; Format AR-X with Using and transfer to Output buffer
1888   8AFE 14              LDA  YL                         ; 
1889   8AFF F9              REC                             ; 
1890   8B00 00              SBC  XL                         ; 
1891   8B01 2A              STA  UL                         ; 
1892   8B02             
1893   8B02             BR_8B02:
1894   8B02 45              LIN  X                          ; A = (X) then INC X
1895   8B03 B7 20           CPI  A,$20                      ; 
1896   8B05 89 05           BZR  BR_8B0C                    ; A <> $20
1897   8B07 88 07           LOP  UL,BR_8B02                 ; $8B02
1898   8B09 68 01           LDI  UH,$01                     ;
1899   8B0B E0              VEJ  (E0)                       ; (E0) Returns error message if UH is not 00
1900   8B0C             
1901   8B0C             BR_8B0C:
1902   8B0C 46              DEC  X                          ; 
1903   8B0D A5 7A 01        LDA  (ARX + $01)                ; 
1904   8B10 B7 80           CPI  A,$80                      ; 
1905   8B12 8B 01           BZS  BR_8B15                    ;A == $80
1906   8B14 46              DEC  X                          ; 
1907   8B15             
1908   8B15             BR_8B15:
1909   8B15 14              LDA  YL                         ; 
1910   8B16 FB              SEC                             ; 
1911   8B17 DD              INC  A                          ; 
1912   8B18 00              SBC  XL                         ; 
1913   8B19 DD              INC  A                          ; 
1914   8B1A 2A              STA  UL                         ; 
1915   8B1B 58 7A           LDI  YH,HB(ARX)                 ; $7A
1916   8B1D 5A 05           LDI  YL,LB(ARX+5)               ; $05
1917   8B1F 84              LDA  XH                         ; 
1918   8B20 51              SIN  Y                          ; 
1919   8B21 04              LDA  XL                         ; 
1920   8B22 51              SIN  Y                          ; 
1921   8B23 24              LDA  UL                         ; 
1922   8B24 1E              STA  (Y)                        ; 
1923   8B25 FD 1A           POP  Y                          ; 
1924   8B27             
1925   8B27             BR_8B27:
1926   8B27 FD 98           PSH  Y                          ; 
1927   8B29 DC              VEJ  (DC)                       ; (DC) Load CSI from AR-X to X-Reg
1928   8B2A A5 78 97        LDA  (USING_CHR)                ; 
1929   8B2D B7 00           CPI  A,$00                      ; 
1930   8B2F 89 04           BZR  BR_8B35                    ; A <> $00
1931   8B31             
1932   8B31             BR_8B31:
1933   8B31 FD C8           PSH  A                          ; 
1934   8B33 8E 1D           BCH  BR_8B52                    ; $8B52
1935   8B35             
1936   8B35             BR_8B35:
1937   8B35 FD C8           PSH  A                          ; 
1938   8B37 A5 7A 04        LDA  (ARX + $04)                ; 
1939   8B3A B7 D0           CPI  A,$D0                      ; 
1940   8B3C 8B 06           BZS  BR_8B44                    ; A == $D0
1941   8B3E FD 8A           POP  A                          ; 
1942   8B40 B5 00           LDI  A,$00                      ; 
1943   8B42 9E 13           BCH  BR_8B31                    ; $8B31
1944   8B44             
1945   8B44             BR_8B44:
1946   8B44 FD 8A           POP  A                          ; 
1947   8B46 26              CPA  UL                         ; 
1948   8B47 83 05           BCS  BR_8B4E                    ; $8B4E
1949   8B49 2A              STA  UL                         ; 
1950   8B4A B5 00           LDI  A,$00                      ; 
1951   8B4C 9E 1D           BCH  BR_8B31                    ; $8B31
1952   8B4E             
1953   8B4E             BR_8B4E:
1954   8B4E FB              SEC                             ; 
1955   8B4F 20              SBC  UL                         ; 
1956   8B50 FD C8           PSH  A                          ; 
1957   8B52             
1958   8B52             BR_8B52:
1959   8B52 CD 94           VMJ  ($94)                      ; (94) Transfers string whose address is in the X-Reg to the output buffer (*VMJ diss is wrong)
1960   8B54 FD 8A           POP  A                          ; 
1961   8B56 B7 00           CPI  A,$00                      ; 
1962   8B58 8B 0F           BZS  BR_8B69                    ; A == $00
1963   8B5A 2A              STA  UL                         ; 
1964   8B5B B5 20           LDI  A,$20                      ; 
1965   8B5D 62              DEC  UL                         ; 
1966   8B5E 6E 50           CPI  UL,$50                     ; 
1967   8B60 83 07           BCS  BR_8B69                    ; UL >= $50
1968   8B62             
1969   8B62             BR_8B62:
1970   8B62 5E B0           CPI  YL,$B0                     ; 
1971   8B64 83 03           BCS  BR_8B69                    ; YL == $B0
1972   8B66 51              SIN  Y                          ; 
1973   8B67 88 07           LOP  UL,BR_8B62                 ; $8B62
1974   8B69             
1975   8B69             BR_8B69:
1976   8B69 14              LDA  YL                         ; 
1977   8B6A AE 78 8F        STA  (OUTBUF_PTR)               ; $788F
1978   8B6D FD 1A           POP  Y                          ;
1979   8B6F 55              LIN  Y                          ; A = (Y) then INC Y
1980   8B70 FD AE 77 D3     STA  #(VIDEORAM + $07D3)        ; $77D3
1981   8B74 B7 3B           CPI  A,$3B                      ; 
1982   8B76 9B D2           BZS  BR_8AA6                    ; A <> $3B
1983   8B78 B7 2C           CPI  A,$2C                      ; 
1984   8B7A 89 15           BZR  BR_8B91                    ; $8B91
1985   8B7C B5 11           LDI  A,$11                      ; 
1986   8B7E FB              SEC                             ; 
1987   8B7F A1 7A 07        SBC  (ARX + $07)                ; 
1988   8B82 B7 11           CPI  A,$11                      ; 
1989   8B84 81 02           BCR  BR_8B88                    ; A < $11
1990   8B86 B5 01           LDI  A,$01                      ; 
1991   8B88             
1992   8B88             BR_8B88:
1993   8B88 F9              REC                             ; 
1994   8B89 A3 78 8F        ADC  (OUTBUF_PTR)               ; $788F
1995   8B8C AE 78 8F        STA  (OUTBUF_PTR)               ; $788F
1996   8B8F 9E D6           BCH  BR_8ABB                    ; $8ABB
1997   8B91             
1998   8B91             BR_8B91:
1999   8B91 56              DEC  Y                          ; 
2000   8B92 B7 3A           CPI  A,$3A                      ; 
2001   8B94 8B 08           BZS  BR_8B9E                    ; A <> $3A
2002   8B96 B7 0D           CPI  A,$0D                      ; 
2003   8B98 8B 04           BZS  BR_8B9E                    ; A <> $0D
2004   8B9A 68 01           LDI  UH,$01                     ; 
2005   8B9C 8E 9A           BCH  JMP_8C38                   ; $8C38
2006   8B9E             
2007   8B9E             BR_8B9E:
2008   8B9E FD 98           PSH  Y                          ; 
2009   8BA0 A5 77 4E        LDA  (STRING_VARS + $FE)        ; $774E in DISPLAY BUFFER, Y cursor position
2010   8BA3 B7 19           CPI  A,$19                      ; 
2011   8BA5 81 03           BCR  BR_8BAA                    ; A < $19
2012   8BA7 BE 84 D7        SJP  (JMP_84D7)                 ; $84D7
2013   8BAA             
2014   8BAA             BR_8BAA:
2015   8BAA 18              STA  YH                         ; 
2016   8BAB A5 77 4F        LDA  (STRING_VARS + $FF)        ; $774F in DISPLAY BUFFER, X cursor position
2017   8BAE 1A              STA  YL                         ; 
2018   8BAF BE 8D 6B        SJP  (JMP_8D6B)                 ; $8D6B
2019   8BB2 48 7B           LDI  XH,HB(OUT_BUF)             ; $7B
2020   8BB4 4A 60           LDI  XL,LB(OUT_BUF)             ; $60
2021   8BB6 A5 78 8F        LDA  (OUTBUF_PTR)               ; $788F 
2022   8BB9 F9              REC                             ; 
2023   8BBA B1 60           SBI  A,$60                      ; 
2024   8BBC 83 01           BCS  BR_8BBF                    ; $8BBF
2025   8BBE DD              INC  A                          ; 
2026   8BBF             
2027   8BBF             BR_8BBF:
2028   8BBF 2A              STA  UL                         ; 
2029   8BC0             
2030   8BC0             BR_8BC0:
2031   8BC0 45              LIN  X                          ; 
2032   8BC1 FD 1E           STA  #(Y)                       ; 
2033   8BC3 54              INC  Y                          ; 
2034   8BC4 EF 77 4F 01     ADI  (STRING_VARS + $FF),$01    ; $774F in DISPLAY BUFFER, X cursor position
2035   8BC8 A5 77 4F        LDA  (STRING_VARS + $FF)        ; $774F in DISPLAY BUFFER, X cursor position
2036   8BCB FD A7 77 D1     CPA  #(VIDEORAM + $07D1)        ; $77D1
2037   8BCF 81 2B           BCR  BR_8BFC                    ; $8BFC
2038   8BD1 8B 29           BZS  BR_8BFC                    ; $8BFC
2039   8BD3 E9 77 4F 01     ANI  (STRING_VARS + $FF),$01    ; $774F in DISPLAY BUFFER, X cursor position
2040   8BD7 EF 77 4E 01     ADI  (STRING_VARS + $FE),$01    ; $774E in DISPLAY BUFFER, Y cursor position
2041   8BDB A5 77 4E        LDA  (STRING_VARS + $FE)        ; $774E in DISPLAY BUFFER, Y cursor position
2042   8BDE B7 1A           CPI  A,$1A                      ; 
2043   8BE0 81 1A           BCR  BR_8BFC                    ; $8BFC
2044   8BE2 6E 00           CPI  UL,$00                     ; 
2045   8BE4 8B 16           BZS  BR_8BFC                    ; $8BFC
2046   8BE6 FD 88           PSH  X                          ; 
2047   8BE8 FD A8           PSH  U                          ; 
2048   8BEA BE 84 D7        SJP  (JMP_84D7)                 ; $84D7
2049   8BED A5 77 4E        LDA  (STRING_VARS + $FE)        ; $774E in DISPLAY BUFFER, Y cursor position
2050   8BF0 18              STA  YH                         ; 
2051   8BF1 A5 77 4F        LDA  (STRING_VARS + $FF)        ; $774F in DISPLAY BUFFER, X cursor position
2052   8BF4 1A              STA  YL                         ; 
2053   8BF5 BE 8D 6B        SJP  (JMP_8D6B)                 ; $8D6B
2054   8BF8 FD 2A           POP  U                          ; 
2055   8BFA FD 0A           POP  X                          ; 
2056   8BFC             
2057   8BFC             BR_8BFC:
2058   8BFC 88 3E           LOP  UL,BR_8BC0                 ; $8BC0
2059   8BFE FD 18           LDX  Y                          ; 
2060   8C00 46              DEC  X                          ; 
2061   8C01 FD 1A           POP  Y                          ; 
2062   8C03 56              DEC  Y                          ; 
2063   8C04 55              LIN  Y                          ; A = (Y) then INC Y
2064   8C05 B7 3B           CPI  A,$3B                      ; 
2065   8C07 8B 0E           BZS  BR_8C17                    ; $8C17
2066   8C09 B5 01           LDI  A,$01                      ; 
2067   8C0B A7 77 4F        CPA  (STRING_VARS + $FF)        ; $774F in DISPLAY BUFFER, X cursor position
2068   8C0E 8B 07           BZS  BR_8C17                    ; $8C17
2069   8C10 AE 77 4F        STA  (STRING_VARS + $FF)        ; $774F in DISPLAY BUFFER, X cursor position
2070   8C13 EF 77 4E 01     ADI  (STRING_VARS + $FE),$01    ; $774E in DISPLAY BUFFER, Y cursor position
2071   8C17             
2072   8C17             BR_8C17:
2073   8C17 BE 88 BF        SJP  (JMP_88BF)                 ; $88BF
2074   8C1A 68 00           LDI  UH,$00                     ; 
2075   8C1C FD E9 77 D3     ANI  #(VIDEORAM + $07D3),$00    ; $77D3
2075   8C20 00 
2076   8C21 D8              VEJ  (D8)                       ; 
2077   8C22 89 05           BZR  BR_8C29                    ; $8C29
2078   8C24 B5 03           LDI  A,$03                      ; 
2079   8C26 AE 78 71        STA  (WAIT_CFG)                 ; 
2080   8C29             
2081   8C29             BR_8C29:
2082   8C29 A5 78 71        LDA  (WAIT_CFG)                 ; 
2083   8C2C B7 02           CPI  A,$02                      ; 
2084   8C2E 8B 0F           BZS  BR_8C3F                    ; $8C3F
2085   8C30 A5 77 4E        LDA  (STRING_VARS + $FE)        ; $774E in DISPLAY BUFFER, Y cursor position
2086   8C33 FD AE 77 D2     STA  #(VIDEORAM + $07D2)        ; $77D2
2087   8C37 E2              VEJ  (E2)                       ; (E2) - BASIC interpreter: Y-Reg points to command or line end
2088   8C38             
2089   8C38             JMP_8C38:
2090   8C38 B5 0D           LDI  A,$0D                      ; 
2091   8C3A FD AE 77 D3     STA  #(VIDEORAM + $07D3)        ; $77D3
2092   8C3E E0              VEJ  (E0)                       ; (E0) Returns error message if UH is not 00
2093   8C3F             
2094   8C3F             BR_8C3F:
2095   8C3F A5 78 72        LDA  (WAIT_CTR_H)               ;
2096   8C42 28              STA  UH                         ; 
2097   8C43 A5 78 73        LDA  (WAIT_CTR_L)               ; 
2098   8C46 2A              STA  UL                         ; 
2099   8C47 CD AC           VMJ  ($AC)                      ; Time delay 15.625ms * number from U-Reg. BREAK is possible.
2100   8C49 E2              VEJ  (E2)                       ; (E2) - BASIC interpreter: Y-Reg points to command or line end
2101   8C4A             ;% LB_xxxx END
2102   8C4A             ;------------------------------------------------------------------------------------------------------------
2103   8C4A             
2104   8C4A             
2105   8C4A             
2106   8C4A             ;------------------------------------------------------------------------------------------------------------
2107   8C4A             ; $8C4A xxxx - Reset/Init CRT Controller
2108   8C4A             ; Called from: JMP_8A8B:$8A90
2109   8C4A             ; Arguments: 
2110   8C4A             ; Outputs: 
2111   8C4A             ; RegMod: 
2112   8C4A             ;------------------------------------------------------------------------------------------------------------
2113   8C4A             ;% LB_xxxx START
2114   8C4A             JMP_8C4A:
2115   8C4A B5 0A           LDI  A,$0A                      ; 0000 1010b
2116   8C4C FD AE 78 00     STA  #(CRTCTRL)                 ; 
2117   8C50 B5 10           LDI  A,$10                      ;
2118   8C52 FD AE 78 01     STA  #(CRTCTRL + $01)           ; 0001 0000b
2119   8C56 9A              RTN                             ; Done
2120   8C57             ;% LB_xxxx START
2121   8C57             ;------------------------------------------------------------------------------------------------------------
2122   8C57             
2123   8C57             
2124   8C57             
2125   8C57             ;------------------------------------------------------------------------------------------------------------
2126   8C57             ; $8C57 xxxx - 
2127   8C57             ; Called from: 
2128   8C57             ; Arguments: 
2129   8C57             ; Outputs: 
2130   8C57             ; RegMod: 
2131   8C57             ;------------------------------------------------------------------------------------------------------------
2132   8C57             ;% LB_xxxx START
2133   8C57             JMP_8C57:
2134   8C57 A5 78 80        LDA  (DISPARAM)                 ; $7880 - Display Parameter: determines display at READY
2135   8C5A B9 01           ANI  A,$01                      ; Clear all but Bit 0 
2136   8C5C B7 01           CPI  A,$01                      ; Bit 0: The input buffer was temporarily stored. 
2137   8C5E                                                 ; A system message or a reserve text is shown in the display.
2138   8C5E 8B 02           BZS  BR_8C62                    ; Bit 0 was set, branch
2139   8C60 F9              REC                             ; Reset Carry
2140   8C61 9A              RTN                             ; Done
2141   8C62             
2142   8C62             BR_8C62:
2143   8C62 CD 38           VMJ  ($38)                      ; Find reserve memory start address + 8, stores in X-Reg. 
2144   8C64                                                 ; Sets C=0 if the 2nd reserve memory area is occupied
2145   8C64 68 02           LDI  UH,$02                     ; 
2146   8C66 6A 19           LDI  UL,$19                     ; U = $0219
2147   8C68 FD A5 77 D2     LDA  #(VIDEORAM + $07D2)        ; 
2148   8C6C 18              STA  YH                         ; 
2149   8C6D 5A 01           LDI  YL,$01                     ; 
2150   8C6F BE 8D 6B        SJP  (JMP_8D6B)                 ; $8D6B - no idea
2151   8C72             
2152   8C72             BR_8C72:
2153   8C72 BE 8D 64        SJP  (CPY_X2Y)                  ; $8D64 - Copies UL bytes from X to Y
2154   8C75 FD 62           DEC  UH                         ; 
2155   8C77 83 07           BCS  BR_8C80                    ; $8C80
2156   8C79 FD EF 77 D2     ADI  #(VIDEORAM + $07D2),$01    ; 
2156   8C7D 01 
2157   8C7E FB              SEC                             ; Set Carry == failure?
2158   8C7F 9A              RTN                             ; Done
2159   8C80             
2160   8C80             BR_8C80:
2161   8C80 B5 20           LDI  A,$20                      ; 
2162   8C82 FD 1E           STA  #(Y)                       ; 
2163   8C84 54              INC  Y                          ; 
2164   8C85 6A 19           LDI  UL,$19                     ; 
2165   8C87 9E 17           BCH  BR_8C72                    ; $8C72
2166   8C89             ;% LB_xxxx END
2167   8C89             ;------------------------------------------------------------------------------------------------------------
2168   8C89             
2169   8C89             
2170   8C89             
2171   8C89             ;------------------------------------------------------------------------------------------------------------
2172   8C89             ; INPUT - Input numercal vaiable, text variable, text constant
2173   8C89             ; Called from: 
2174   8C89             ; Arguments: String;Var
2175   8C89             ; Outputs: 
2176   8C89             ; RegMod: 
2177   8C89             ;------------------------------------------------------------------------------------------------------------
2178   8C89             ;% LB_INPUT START
2179   8C89             INPUT:
2180   8C89 C2              VEJ  (C2) \ 
2180   8C8A             
2181   8C8A 23                  ACHR($23) \ ABRF(BR_8C8F)   ; Checks for $23 char. If not equal branch.
2181   8C8B 03          
2182   8C8C BA C8 FD        JMP  BCMD_CLEAR+8               ; $C8FD
2183   8C8F             
2184   8C8F             BR_8C8F:
2185   8C8F D8              VEJ  (D8)                       ; (D8) Check if program running. If so: Z=0.
2186   8C90 89 03           BZR  BR_8C95                    ; Z <> 0 so program is not running
2187   8C92 68 1A           LDI  UH,$1A                     ; Error 26: Error occurs when command cannot be executed in current mode 
2188   8C94 E0              VEJ  (E0)                       ; (E0) Returns error message if UH is not 00
2189   8C95             
2190   8C95             BR_8C95:
2191   8C95 C6              VEJ  (C6)                       ; (C6) Correct program pointer
2192   8C96 BE D0 34        SJP  (INBUF_CLR)                ; 
2193   8C99 C2              VEJ  (C2) \ 
2193   8C9A             
2194   8C9A 22                  ACHR($22) \ ABRF(BR_8CFB)   ; Checks for $22 (quote) char. If not found branch.
2194   8C9B 5F          
2195   8C9C CD 0C           VMJ  ($0C)                      ; (0C) Gets the length of a string
2196   8C9E FD 98           PSH  Y                          ; Y-Reg contains end marker address. 
2197   8CA0                                                 ; X-Reg contains the address of the 1st byte of the string. 
2198   8CA0                                                 ; AR-X contains "D0", address, length in 7A04 ff..
2199   8CA0 5A B0           LDI  YL,LB(IN_BUF)              ; $B0
2200   8CA2 58 7B           LDI  YH,HB(IN_BUF)              ; $7B
2201   8CA4 FD C8           PSH  A                          ; 
2202   8CA6 A5 77 4E        LDA  (STRING_VARS + $FE)        ; $774E in DISPLAY BUFFER, Y cursor position
2203   8CA9 FD AE 77 D2     STA  #(VIDEORAM + $07D2)        ; 
2204   8CAD FD 8A           POP  A                          ; 
2205   8CAF EF 77 4E 01     ADI  (STRING_VARS + $FE),$01    ; $774E in DISPLAY BUFFER, Y cursor position, (pp) = (pp) + n (ME0)
2206   8CB3 A5 7A 07        LDA  (ARX + $07)                ; 
2207   8CB6 2A              STA  UL                         ; 
2208   8CB7 BE D0 49        SJP  (UL_XREG2YREG)             ; 
2209   8CBA 14              LDA  YL                         ; 
2210   8CBB AE 78 8B        STA  (INBUFPTR_L)               ; 
2211   8CBE FD 1A           POP  Y                          ; 
2212   8CC0 C2              VEJ  (C2) \ 
2212   8CC1             
2213   8CC1 3B                  ACHR($3B) \ ABRF(BR_8CC7)   ;  Checks for $3B char. If not found branch.
2213   8CC2 04          
2214   8CC3 B5 40           LDI  A,$40                      ; 
2215   8CC5 8E 0A           BCH  BR_8CD1                    ; 
2216   8CC7             
2217   8CC7             BR_8CC7:
2218   8CC7 C4              VEJ  (C4) \ 
2218   8CC8             
2219   8CC8 2C                  ACHR($2C) \ ABRF(BR_8D15)   ; Checks for $2C character in U-Reg . Branch if not found.
2219   8CC9 4B          
2220   8CCA             
2221   8CCA             BR_8CCA:
2222   8CCA B5 B0           LDI  A,$B0                      ; 
2223   8CCC AE 78 8B        STA  (INBUFPTR_L)               ; 
2224   8CCF B5 00           LDI  A,$00                      ; 
2225   8CD1             
2226   8CD1             BR_8CD1:
2227   8CD1 AE 78 80        STA  (DISPARAM)                 ; $7880 - Reset Display Parameter: determines display at READY
2228   8CD4 CE              VEJ  (CE) \ 
2228   8CD5             
2229   8CD5 58                  ABYT($58) \ ABRF($8D05)     ; Retrieves the address of the variable whose name is pointed to by Y-Reg
2229   8CD6 2E          
2230   8CD7 F6              VEJ  (F6) \ AWRD(LASTVARADD_H)  ; Stores U-Reg from the address represented by D1 D2.
2230   8CD8 78 86       
2231   8CDA 44              INC  X                          ; 
2232   8CDB A5 7A 07        LDA  (ARX + $07)                ; 
2233   8CDE 0E              STA  (X)                        ; 
2234   8CDF D4              VEJ  (D4) \ ABYT($A0)           ; Transfers pointers for the current processing status of the program in memory:
2234   8CE0 A0          
2235   8CE1                                                 ; A0=program, AC=Break, B2=Error
2236   8CE1 D4              VEJ  (D4) \ ABYT($AC)           ; Transfers pointers for the current processing status of the program in memory: 
2236   8CE2 AC          
2237   8CE3                                                 ; A0=program, AC=Break, B2=Error
2238   8CE3 BE EF 67        SJP  (PREPLCDOUT)               ; 
2239   8CE6 68 20           LDI  UH,$20                     ; 
2240   8CE8 C3 E0           VCS  ($E0)                      ; Gives an error message if UH is not "00".
2241   8CEA EB 78 8A 50     ORI  (BREAKPARAM),$50           ; 
2242   8CEE A5 78 8B        LDA  (INBUFPTR_L)               ; 
2243   8CF1 1A              STA  YL                         ; 
2244   8CF2 58 7B           LDI  YH,$7B                     ; 
2245   8CF4 E9 7B 0E 9F     ANI  (CURS_CTRL),$9F            ; 
2246   8CF8 BA 8D 18        JMP  JMP_8D18                   ; $8D18
2247   8CFB             
2248   8CFB             BR_8CFB:
2249   8CFB FD C8           PSH  A                          ; 
2250   8CFD A5 77 4E        LDA  (STRING_VARS + $FE)        ; $774E in DISPLAY BUFFER, Y cursor position
2251   8D00 FD AE 77 D2     STA  #(VIDEORAM + $07D2)        ; 
2252   8D04 FD 8A           POP  A                          ; 
2253   8D06 EF 77 4E 01     ADI  (STRING_VARS + $FE),$01    ; $774E in DISPLAY BUFFER, Y cursor position
2254   8D0A C6              VEJ  (C6)                       ; (C6) Correct program pointer
2255   8D0B B5 3F           LDI  A,$3F                      ; 
2256   8D0D AE 7B B0        STA  (IN_BUF)                   ; 
2257   8D10 9E 48           BCH  BR_8CCA                    ; $8CCA
2258   8D12 68 07           LDI  UH,$07                     ; 
2259   8D14 E0              VEJ  (E0)                       ; (E0) Returns error message if UH is not 00
2260   8D15             
2261   8D15             BR_8D15:
2262   8D15 BA C9 E3        JMP  BCMD_DIM + $5B             ; $C9E3 
2263   8D18             
2264   8D18             JMP_8D18:
2265   8D18 BE E8 CA        SJP  (PRGMDISP)                 ; 
2266   8D1B E9 78 9D 00     ANI  (CURR_LINE_L),$00          ; (pp) = (pp) & n (ME0)
2267   8D1F E9 78 9C 00     ANI  (CURR_LINE_H),$00          ; 
2268   8D23 E9 76 4E FE     ANI  (DISP_BUFF + $4E),$FE      ; 
2269   8D27 AA 78 4F        LDI  S,(CPU_STACK + $4F)        ; 
2270   8D2A BE E2 43        SJP  (WAIT4KB)                  ; 
2271   8D2D FD ED 77 F3     BII  #(VIDEORAM + $07F3),$01    ; 
2271   8D31 01 
2272   8D32 89 05           BZR  BR_8D39                    ; 
2273   8D34 FD EF 77 D2     ADI  #(VIDEORAM + $07D2),$FF    ; 
2273   8D38 FF 
2274   8D39             
2275   8D39             BR_8D39:
2276   8D39 FD E9 77 F3     ANI  #(VIDEORAM + $07F3),$00    ; 
2276   8D3D 00 
2277   8D3E BA CA 92        JMP  $CA92                      ; $CA92 ***EDITOR + $12 
2278   8D41             
2279   8D41             
2280   8D41             
2281   8D41             ;------------------------------------------------------------------------------------------------------------
2282   8D41             ; $8D41 xxxx 
2283   8D41             ; Called from: 
2284   8D41             ; Arguments: 
2285   8D41             ; Outputs: 
2286   8D41             ; RegMod: 
2287   8D41             ;------------------------------------------------------------------------------------------------------------
2288   8D41             ;% LB_xxxx START
2289   8D41             JMP_8D41:
2290   8D41 68 07           LDI  UH,$07                     ; 
2291   8D43 6A CF           LDI  UL,$CF                     ; $07CF
2292   8D45 B5 00           LDI  A,$00                      ; 
2293   8D47 BE 8E 5F        SJP  (Y2_VIDRAM)                ; $8E5F - Sets Yreg to point to Video RAM
2294   8D4A             
2295   8D4A             BR_8D4A:
2296   8D4A BE 8D 5E        SJP  (BR_8D5E)                  ; Clear video RAM page
2297   8D4D FD 62           DEC  UH                         ; 
2298   8D4F 93 07           BCS  BR_8D4A                    ; $8D4A
2299   8D51 B5 01           LDI  A,$01                      ; 
2300   8D53 FD AE 77 D2     STA  #(VIDEORAM + $07D2)        ; 
2301   8D57 AE 77 4E        STA  (STRING_VARS + $FE)        ; $774E in DISPLAY BUFFER, Y cursor position
2302   8D5A AE 77 4F        STA  (STRING_VARS + $FF)        ; $774F in DISPLAY BUFFER, X cursor position
2303   8D5D 9A              RTN                             ; Done
2304   8D5E             ;% LB_xxxx END   
2305   8D5E             ;------------------------------------------------------------------------------------------------------------
2306   8D5E             
2307   8D5E             
2308   8D5E             
2309   8D5E             ;------------------------------------------------------------------------------------------------------------
2310   8D5E             ; $8D5E CLR_VIDRAM - Clear Video RAM page
2311   8D5E             ; Called from: 
2312   8D5E             ; Arguments: 
2313   8D5E             ; Outputs: 
2314   8D5E             ; RegMod: 
2315   8D5E             ;------------------------------------------------------------------------------------------------------------
2316   8D5E             ;% LB_CLR_VIDRAM START
2317   8D5E             BR_8D5E:
2318   8D5E FD 1E           STA  #(Y)                       ; 
2319   8D60 54              INC  Y                          ; 
2320   8D61 88 05           LOP  UL,BR_8D5E                 ; $8D5E
2321   8D63 9A              RTN                             ; Done
2322   8D64             ;% LB_xxxx END   
2323   8D64             ;------------------------------------------------------------------------------------------------------------
2324   8D64             
2325   8D64             
2326   8D64             
2327   8D64             ;------------------------------------------------------------------------------------------------------------
2328   8D64             ; $8D64 xxxx - Copies UL bytes from X to Y
2329   8D64             ; Called from: 
2330   8D64             ; Arguments: X,Y,UL
2331   8D64             ; Outputs: 
2332   8D64             ; RegMod: X,Y,UL
2333   8D64             ;------------------------------------------------------------------------------------------------------------
2334   8D64             ;% LB_CPY_X2Y START
2335   8D64             CPY_X2Y:
2336   8D64 45              LIN  X                          ; A = (X) then INC X
2337   8D65 FD 1E           STA  #(Y)                       ; 
2338   8D67 54              INC  Y                          ; 
2339   8D68 88 06           LOP  UL,CPY_X2Y                ; $8D64
2340   8D6A 9A              RTN                             ; Done
2341   8D6B             ;% LB_CPY_X2Y END   
2342   8D6B             ;------------------------------------------------------------------------------------------------------------
2343   8D6B             
2344   8D6B             
2345   8D6B             
2346   8D6B             ;------------------------------------------------------------------------------------------------------------
2347   8D6B             ; $8D6B xxxx 
2348   8D6B             ; Called from: 
2349   8D6B             ; Arguments: 
2350   8D6B             ; Outputs: 
2351   8D6B             ; RegMod: 
2352   8D6B             ;------------------------------------------------------------------------------------------------------------
2353   8D6B             ;% LB_xxxx START
2354   8D6B             JMP_8D6B:
2355   8D6B FD C8           PSH  A                          ; 
2356   8D6D FD 88           PSH  X                          ; 
2357   8D6F FD A8           PSH  U                          ; 
2358   8D71 FD 18           LDX  Y                          ; 
2359   8D73 FD 42           DEC  XH                         ; 
2360   8D75 42              DEC  XL                         ; 
2361   8D76 BE 8E 5F        SJP  (Y2_VIDRAM)                ; $8E5F - Sets Yreg to point to Video RAM
2362   8D79 14              LDA  YL                         ; 
2363   8D7A FB              SEC                             ; 
2364   8D7B B1 50           SBI  A,$50                      ; 
2365   8D7D 1A              STA  YL                         ; 
2366   8D7E 94              LDA  YH                         ; 
2367   8D7F B1 00           SBI  A,$00                      ; 
2368   8D81 18              STA  YH                         ; 
2369   8D82 4C 19           CPI  XH,$19                     ; 
2370   8D84 83 1D           BCS  BR_8DA3                    ; $8DA3
2371   8D86 4E 50           CPI  XL,$50                     ; 
2372   8D88 83 19           BCS  BR_8DA3                    ; $8DA3
2373   8D8A 84              LDA  XH                         ; 
2374   8D8B 2A              STA  UL                         ; 
2375   8D8C FD A5 77 D1     LDA  #(VIDEORAM + $07D1)        ; 
2376   8D90 B7 28           CPI  A,$28                      ; 
2377   8D92 89 01           BZR  BR_8D95                    ; $8D95
2378   8D94 60              INC  UL                         ; 
2379   8D95             
2380   8D95             BR_8D95:
2381   8D95 FD DA           ADR  Y                          ; 
2382   8D97 88 04           LOP  UL,BR_8D95                 ; $8D95
2383   8D99 04              LDA  XL                         ; 
2384   8D9A FD DA           ADR  Y                          ; 
2385   8D9C             
2386   8D9C             BR_89DC:
2387   8D9C FD 2A           POP  U                          ; 
2388   8D9E FD 0A           POP  X                          ; 
2389   8DA0 FD 8A           POP  A                          ; 
2390   8DA2 9A              RTN                             ; Done
2391   8DA3             
2392   8DA3             BR_8DA3:
2393   8DA3 BE 8E 5F        SJP  (Y2_VIDRAM)                ; $8E5F - Sets Yreg to point to Video RAM
2394   8DA6 9E 0C           BCH  BR_89DC                    ; $8D9C
2395   8DA8             ;% LB_xxxx END
2396   8DA8             ;------------------------------------------------------------------------------------------------------------
2397   8DA8             
2398   8DA8             
2399   8DA8             
2400   8DA8             ;------------------------------------------------------------------------------------------------------------
2401   8DA8             ; $8DA8 - CRTC_INIT: Called by table init vector
2402   8DA8             ; Called from 
2403   8DA8             ; Arguments: 
2404   8DA8             ; Outputs: 
2405   8DA8             ; RegMod: 
2406   8DA8             ;------------------------------------------------------------------------------------------------------------
2407   8DA8             ;% LB_CRTC_INIT START
2408   8DA8             CRTC_INIT:
2409   8DA8 68 00           LDI  UH,$00                     ; X = $8EA1 from INIT, loop from $8EA1 to $8EB2
2410   8DAA 6A 11           LDI  UL,$11                     ; U = $0011
2411   8DAC             
2412   8DAC             BR_8DAC:
2413   8DAC A4              LDA  UH                         ; $74,$50,$5C,$35,$1C,$00,$19,$1A,$00,$0A,$68,$00,$70,$00,$00,$00,$00,$00
2414   8DAD FD AE 78 00     STA  #(CRTCTRL)                 ; $7800 - Register select mode?
2415   8DB1 45              LIN  X                          ; A = (X) then INC X. Copies from CONFIG_TBL to CRTC registers
2416   8DB2 FD AE 78 01     STA  #(CRTCTRL + $01)           ; $7801 - Write to register
2417   8DB6 FD 60           INC  UH                         ; 
2418   8DB8 88 0E           LOP  UL,BR_8DAC                 ; UL = UL - 1, loop back 'e' if Borrow Flag not set
2419   8DBA B5 50           LDI  A,$50                      ; 
2420   8DBC FD AE 77 D1     STA  #(VIDEORAM + $07D1)        ; U = $5000 
2421   8DC0 9A              RTN                             ; 
2422   8DC1             ;% LB_CRTC_INIT END
2423   8DC1             ;------------------------------------------------------------------------------------------------------------
2424   8DC1             
2425   8DC1             
2426   8DC1             
2427   8DC1             ;------------------------------------------------------------------------------------------------------------
2428   8DC1             ; $8DC1 - TBL_INIT: Called by table init vector
2429   8DC1             ; Called from 
2430   8DC1             ; Arguments: 
2431   8DC1             ; Outputs: 
2432   8DC1             ; RegMod: 
2433   8DC1             ;------------------------------------------------------------------------------------------------------------
2434   8DC1             ;% LB_TBL_INIT START
2435   8DC1             TBL_INIT: ; 
2436   8DC1 FD 88           PSH  X                          ; Save registers
2437   8DC3 FD 98           PSH  Y                          ; 
2438   8DC5 FD A8           PSH  U                          ; 
2439   8DC7 A5 E2 B7        LDA  (WAIT4KB + $74)            ; $E2B7 = $F4 (A01 ROM), $CC (A03/4 ROM)
2440   8DCA B7 CC           CPI  A,$CC                      ; Is this ROM A03/4?
2441   8DCC 89 02           BZR  BR_8DD0                    ; If A <> $CC, i.e. A01 ROM
2442   8DCE 8E 33           BCH  BR_8E03                    ; If A = $CC
2443   8DD0             
2444   8DD0             BR_8DD0:                            ; A01 ROM Init
2445   8DD0 4A 1A           LDI  XL,$1A                     ; Length of text                    
2446   8DD2 68 93           LDI  UH,HB(IWS_SPLASH)          ; $93 - Prints IWS contact info 
2447   8DD4 6A 6D           LDI  UL,LB(IWS_SPLASH)          ; $6D
2448   8DD6 BE ED 3B        SJP  (TEXTUREG_XL)              ; $ED38 - Outputs text from U-Reg. XL = number of characters
2449   8DD9 BE E6 69        SJP  (BCMD_BEEP_STD)            ; Emit standard beep
2450   8DDC 8E 0C           BCH  BR_8DEA                    ;
2451   8DDE             
2452   8DDE             BR_8DDE:
2453   8DDE 4A 1A           LDI  XL,$1A                     ; Length of text
2454   8DE0 68 93           LDI  UH,HB(IWS_SPLASH)          ; $93 - Prints IWS contact info
2455   8DE2 6A 6D           LDI  UL,LB(IWS_SPLASH)          ; $6D
2456   8DE4 BE ED 3B        SJP  (TEXTUREG_XL)              ; $ED38 - Outputs text from U-Reg. XL = number of characters
2457   8DE7 BE E6 69        SJP  (BCMD_BEEP_STD)            ; Emit standard beep
2458   8DEA             
2459   8DEA             BR_8DEA:
2460   8DEA BE E2 43        SJP  (WAIT4KB)                  ; Waiting for character input from keyboard. Accumulator=character
2461   8DED B7 0E           CPI  A,$0E                      ; $0E is not a key
2462   8DEF 8B 03           BZS  BR_8DF4                    ; If A==$0E
2463   8DF1 BA 8D F8        JMP  BR_8DF8                    ; If A<>$0E
2464   8DF4             
2465   8DF4             BR_8DF4:
2466   8DF4 91 18           BCR  BR_8DDE                    ; If A<$0E loop back to character output, don't think this will ever be true
2467   8DF6 8E 02           BCH  BR_8DFA                    ; To exit
2468   8DF8             
2469   8DF8             BR_8DF8:
2470   8DF8 93 1C           BCS  BR_8DDE                    ; If A>$0E loop back to character output
2471   8DFA             
2472   8DFA             BR_8DFA:
2473   8DFA FD 2A           POP  U                          ; restore registers
2474   8DFC FD 1A           POP  Y                          ; 
2475   8DFE FD 0A           POP  X                          ; 
2476   8E00 BA 92 D6        JMP  JMP_92D6                   ; Exit where output error $1B from UH
2477   8E03             
2478   8E03             
2479   8E03             BR_8E03:                            ; ROM A03/4 Init
2480   8E03 B5 00           LDI  A,$00                      ;
2481   8E05 AE 78 5D        STA  (KATAFLAGS)                ; Turn off Katakana mode?
2482   8E08 FD AE D4 00     STA  #($D400)                   ; Some HW register on IWS board?
2483   8E0C FD AE 77 F4     STA  #(VIDEORAM + $07F4)        ; $77F4
2484   8E10 BE 8D 41        SJP  (JMP_8D41)                 ; Clears video RAM and some set up
2485   8E13             
2486   8E13 B5 0F           LDI  A,$0F                      ;
2487   8E15 BE 90 6A        SJP  (COLOR_FILL)               ; $906A Fills screen with color $0F
2488   8E18             
2489   8E18 B5 00           LDI  A,$00                      ;
2490   8E1A BE 91 1A        SJP  (JMP_911A)                 ; Clears some unknown RAM at #$3000
2491   8E1D             
2492   8E1D B5 55           LDI  A,$55                      ; 
2493   8E1F AE 79 D5        STA  ($79D5)                    ; This is an unkown bypass, perhaps used as IWS active?
2494   8E22 B5 01           LDI  A,$01                      ; 
2495   8E24 FD AE 77 D9     STA  #(VIDEORAM + $07D9)        ; 
2496   8E28 48 8E           LDI  XH,HB(CONFIG_TBL + $12)    ; $8EA1
2497   8E2A 4A A1           LDI  XL,LB((CONFIG_TBL) + $12)  ; 
2498   8E2C BE 8D A8        SJP  (CRTC_INIT)                ; Initializes CRTC
2499   8E2F             
2500   8E2F B5 80           LDI  A,$80                      ; 
2501   8E31 FD AE 77 DA     STA  #(VIDEORAM + $07DA)        ; $77DA
2502   8E35 B5 07           LDI  A,$07                      ; 
2503   8E37 FD AE 77 DB     STA  #(VIDEORAM + $07DB)        ; $77DB
2504   8E3B             
2505   8E3B E9 79 D4 00     ANI  (KB_BYPASS),$00            ; $79D4 
2506   8E3F B5 81           LDI  A,HB(XCHR_INPUT)           ; $81 - Address of exernal character input routine (H)
2507   8E41 AE 78 5B        STA  (XCHRINPT_H)               ; $785B - External character input vector (H)
2508   8E44 B5 9E           LDI  A,LB(XCHR_INPUT)           ; $9E - Address of exernal character input routine (L)
2509   8E46 AE 78 5C        STA  (XCHRINPT_L)               ; $785C - External character input vector (L)
2510   8E49             
2511   8E49 FD E9 77 D7     ANI  #(VIDEORAM + $07D7),$00    ; $77D7
2511   8E4D 00 
2512   8E4E FD E9 77 D8     ANI  #(VIDEORAM + $07D8),$00    ; $77D8
2512   8E52 00 
2513   8E53             
2514   8E53 B5 55           LDI  A,$55                      ;
2515   8E55 AE 79 D4        STA  (KB_BYPASS) ; $79D4        ; Enable KB bypass
2516   8E58 FD 2A           POP  U                          ; restore registers
2517   8E5A FD 1A           POP  Y                          ; 
2518   8E5C FD 0A           POP  X                          ; 
2519   8E5E 9A              RTN                             ; Done
2520   8E5F             ;% LB_TBL_INIT END
2521   8E5F             ;------------------------------------------------------------------------------------------------------------
2522   8E5F             
2523   8E5F             
2524   8E5F             
2525   8E5F             ;------------------------------------------------------------------------------------------------------------
2526   8E5F             ; $8E5F - Y2_VIDRAM: Reset Y to point to Video RAM -> $7000
2527   8E5F             ; Called from: $84E6, $8D47, $8D76, $8DA3, $8E5F, $8E86
2528   8E5F             ; Arguments: 
2529   8E5F             ; Outputs: 
2530   8E5F             ; RegMod: 
2531   8E5F             ;------------------------------------------------------------------------------------------------------------
2532   8E5F             ;% LB_Y2_VIDRAM START
2533   8E5F             Y2_VIDRAM: 
2534   8E5F 58 70           LDI  YH,HB(VIDEORAM)            ; $70  - video RAM
2535   8E61 5A 00           LDI  YL,LB(VIDEORAM)            ; $00 
2536   8E63 9A              RTN
2537   8E64             ;% LB_Y2_VIDRAM END
2538   8E64             ;------------------------------------------------------------------------------------------------------------
2539   8E64             
2540   8E64             
2541   8E64             
2542   8E64             ;------------------------------------------------------------------------------------------------------------
2543   8E64             ; $8E64 - CL_SCR
2544   8E64             ; Called from 
2545   8E64             ; Arguments: 
2546   8E64             ; Outputs: 
2547   8E64             ; RegMod: 
2548   8E64             ;------------------------------------------------------------------------------------------------------------
2549   8E64             ;% LB_CL_SCR START
2550   8E64             CL_SCR:
2551   8E64 FD 98           PSH  Y                          ; 
2552   8E66 BE 8E 86        SJP  (VID2CLR)                 ; $8E86
2553   8E69 B5 00           LDI  A,$00                      ;
2554   8E6B 8E 0B           BCH  BR_8E78                    ; $8E78
2555   8E6D             
2556   8E6D             BR_8E6B:                            ; Dead code?
2557   8E6D FD 98           PSH  Y                          ;
2558   8E6F BE 8E 86        SJP  (VID2CLR)                 ; $8E86
2559   8E72 F9              REC                             ; 
2560   8E73 B3 08           ADI  A,$08                      ; 
2561   8E75 18              STA  YH                         ; 
2562   8E76 B5 F0           LDI  A,$F0                      ; 
2563   8E78             
2564   8E78             BR_8E78:
2565   8E78 68 07           LDI  UH,$07                     ; Size of Video RAM?
2566   8E7A 6A FF           LDI  UL,$FF                     ; U == $07FF
2567   8E7C             
2568   8E7C             BR_8E7C:
2569   8E7C BE 8D 5E        SJP  (BR_8D5E)                  ; $8D5E
2570   8E7F FD 62           DEC  UH                         ; 
2571   8E81 93 07           BCS  BR_8E7C                    ; $8E7C
2572   8E83 FD 1A           POP  Y                          ;
2573   8E85 9A              RTN                             ;
2574   8E86             ;% LB_CL_SCR END
2575   8E86             ;------------------------------------------------------------------------------------------------------------
2576   8E86             
2577   8E86             
2578   8E86             
2579   8E86             ;------------------------------------------------------------------------------------------------------------
2580   8E86             ; 8E86 - Sets Color RAM address based on video RAM?
2581   8E86             ; Called from: CL_SCR:$8E66, CL_SCR:$8E6F
2582   8E86             ; Arguments: 
2583   8E86             ; Outputs: 
2584   8E86             ; RegMod: 
2585   8E86             ;------------------------------------------------------------------------------------------------------------
2586   8E86             ;% LB_VID2CLR START
2587   8E86             VID2CLR:
2588   8E86 BE 8E 5F        SJP  (Y2_VIDRAM)                ; $8E5F - Sets Yreg to point to Video RAM
2589   8E89 94              LDA  YH                         ; A = $70
2590   8E8A F1              AEX                             ; A = $07, High nibble & low nibble swapped
2591   8E8B DF              DEC  A                          ; A = $06
2592   8E8C F1              AEX                             ; A = $60
2593   8E8D 18              STA  YH                         ; Y = $6000, Color RAM
2594   8E8E 9A              RTN                             ; Done
2595   8E8F             ;% LB_VID2CLR END
2596   8E8F             ;------------------------------------------------------------------------------------------------------------
2597   8E8F             
2598   8E8F             
2599   8E8F             
2600   8E8F             ;------------------------------------------------------------------------------------------------------------
2601   8E8F             ; $8E8F ~ $8EEA - Pair of bytes ,address?
2602   8E8F             ; Called from: JMP_843B:$8472, JMP_843B:$8474, BR_8604:$86A3, BR_8604:$86A5, TBL_INIT:$8E28, TBL_INIT:$8E2A
2603   8E8F             ; Arguments: 
2604   8E8F             ; Outputs: 
2605   8E8F             ; RegMod: 
2606   8E8F             ;------------------------------------------------------------------------------------------------------------
2607   8E8F             ;% LB_xxxx START
2608   8E8F             CONFIG_TBL: ; 8E8F
2609   8E8F 3B 28 30 74     .BYTE  $3B,$28,$30,$74,$1C,$00,$19,$1A
2609   8E93 1C 00 19 1A 
2610   8E97 00 0A 68 00     .BYTE  $00,$0A,$68,$00,$70,$00,$00,$00
2610   8E9B 70 00 00 00 
2611   8E9F 00 00 74 50     .BYTE  $00,$00,$74,$50,$5C,$35,$1C,$00
2611   8EA3 5C 35 1C 00 
2612   8EA7 19 1A 00 0A     .BYTE  $19,$1A,$00,$0A,$68,$00,$70,$00
2612   8EAB 68 00 70 00 
2613   8EAF 00 00 00 00     .BYTE  $00,$00,$00,$00,$52,$55,$4E,$50
2613   8EB3 52 55 4E 50 
2614   8EB7 52 4F 52 45     .BYTE  $52,$4F,$52,$45,$53,$45,$52,$56
2614   8EBB 53 45 52 56 
2615   8EBF 45 20 45 42     .BYTE  $45,$20,$45,$42,$45,$4E,$45,$3A
2615   8EC3 45 4E 45 3A 
2616   8EC7 28 43 29 20     .BYTE  $28,$43,$29,$20,$62,$79,$20,$49
2616   8ECB 62 79 20 49 
2617   8ECF 6E 67 2E 42     .BYTE  $6E,$67,$2E,$42,$75,$65,$72,$6F
2617   8ED3 75 65 72 6F 
2618   8ED7 20 57 2E 53     .BYTE  $20,$57,$2E,$53,$70,$65,$69,$64
2618   8EDB 70 65 69 64 
2619   8EDF 65 6C           .BYTE  $65,$6C
2620   8EE1             ;% LB_xxxx END
2621   8EE1             ;------------------------------------------------------------------------------------------------------------
2622   8EE1             
2623   8EE1             
2624   8EE1             
2625   8EE1             ;------------------------------------------------------------------------------------------------------------
2626   8EE1             ; $8EE1 - MONITOR
2627   8EE1             ; Called from 
2628   8EE1             ; Arguments: 
2629   8EE1             ; Outputs: 
2630   8EE1             ; RegMod: 
2631   8EE1             ;------------------------------------------------------------------------------------------------------------
2632   8EE1             ;% LB_MONITOR START
2633   8EE1             MONITOR:
2634   8EE1 BA 92 D6        JMP JMP_92D6                    ; $92D6
2635   8EE4             ;% LB_MONITOR END
2636   8EE4             ;------------------------------------------------------------------------------------------------------------
2637   8EE4             
2638   8EE4             
2639   8EE4             
2640   8EE4             ;------------------------------------------------------------------------------------------------------------
2641   8EE4             ; $8EE4 VCURSOR - This function specifies the current vertical cursor position
2642   8EE4             ; Called from 
2643   8EE4             ; Arguments: 
2644   8EE4             ; Outputs: 
2645   8EE4             ; RegMod: 
2646   8EE4             ;------------------------------------------------------------------------------------------------------------
2647   8EE4             ;% LB_VCURSOR START
2648   8EE4             VCURSOR:
2649   8EE4 A5 77 4E        LDA  (STRING_VARS + $FE)        ; $774E in DISPLAY BUFFER, Y cursor position 
2650   8EE7 DF              DEC  A                          ; 
2651   8EE8 BA D9 E4        JMP  BCMD_LEN + $0D             ; $D9E4
2652   8EEB             ;% LB_VCURSOR END
2653   8EEB             ;------------------------------------------------------------------------------------------------------------
2654   8EEB             
2655   8EEB             
2656   8EEB             
2657   8EEB             ;------------------------------------------------------------------------------------------------------------
2658   8EEB             ; $8EEB VPCURSOR - Specifies the vertical light pen cursor position.
2659   8EEB             ; Called from: 
2660   8EEB             ; Arguments: 
2661   8EEB             ; Outputs: 
2662   8EEB             ; RegMod: 
2663   8EEB             ;------------------------------------------------------------------------------------------------------------
2664   8EEB             ;% LB_VPCURSOR START
2665   8EEB             VPCURSOR: ; 
2666   8EEB B5 10           LDI  A,$10                      ; 
2667   8EED FD AE 78 00     STA  #(CRTCTRL)                 ; #$7800
2668   8EF1 FD A5 78 01     LDA  #(CRTCTRL + $01)           ; #$7801
2669   8EF5 FD AE 77 F6     STA  #(VIDEORAM + $07F6)        ; #$77F6
2670   8EF9 DF              DEC  A                          ; 
2671   8EFA BA D9 E4        JMP  BCMD_LEN + $0D             ; $D9E4
2672   8EFD             ;% LB_VPCURSOR END
2673   8EFD             ;------------------------------------------------------------------------------------------------------------
2674   8EFD             
2675   8EFD             
2676   8EFD             
2677   8EFD             ;------------------------------------------------------------------------------------------------------------
2678   8EFD             ; $8EFD - HCURSOR: This function specifies the current horizontal cursor position
2679   8EFD             ; Usage: CURSOR HCURSOR*+ 10,0
2680   8EFD             ; Called from: 
2681   8EFD             ; Arguments:  
2682   8EFD             ; Outputs: 
2683   8EFD             ; RegMod: 
2684   8EFD             ;------------------------------------------------------------------------------------------------------------
2685   8EFD             ;% LB_HCURSOR START
2686   8EFD             HCURSOR:
2687   8EFD A5 77 4F        LDA  (STRING_VARS + $FF)        ; $774F in DISPLAY BUFFER, X cursor position
2688   8F00 DF              DEC  A                          ; 
2689   8F01 BA D9 E4        JMP  BCMD_LEN + $0D             ; $D9E4
2690   8F04             ;% LB_HCURSOR END
2691   8F04             ;------------------------------------------------------------------------------------------------------------
2692   8F04             
2693   8F04             
2694   8F04             
2695   8F04             ;------------------------------------------------------------------------------------------------------------
2696   8F04             ; $8F04 - HPCURSOR: Specifies the horizontal light pen cursor position
2697   8F04             ; Called from 
2698   8F04             ; Arguments: 
2699   8F04             ; Outputs: A, XL, Y
2700   8F04             ; RegMod: 
2701   8F04             ;------------------------------------------------------------------------------------------------------------
2702   8F04             ;% LB_HPCURSOR START
2703   8F04             HPCURSOR:
2704   8F04 00              SBC  XL                         ; A = A - XL. Subtract with Carry
2705   8F05 11              SBC  (Y)                        ; A = A - (Y). Subtract with Carry  (ME0)    
2706   8F06 FD AE 78 00     STA  #(CRTCTRL)                 ; #$7800
2707   8F0A FD A5 78 01     LDA  #(CRTCTRL + $01)           ; #$7801
2708   8F0E FD AE 77 F5     STA  #(VIDEORAM + $07F5)        ; #$77F5 Light pen horizontal cursor position register?
2709   8F12 DF              DEC  A                          ;
2710   8F13 BA D9 E4        JMP  BCMD_LEN + $0D             ; $D9E4
2711   8F16             ;% LB_HPCURSOR END
2712   8F16             ;------------------------------------------------------------------------------------------------------------
2713   8F16             
2714   8F16             
2715   8F16             
2716   8F16             ;------------------------------------------------------------------------------------------------------------
2717   8F16             ; $8F16 LIST - 
2718   8F16             ; USAGE: 
2719   8F16             ; Called from 
2720   8F16             ; Arguments: 
2721   8F16             ; Outputs: 
2722   8F16             ; RegMod: 
2723   8F16             ;------------------------------------------------------------------------------------------------------------
2724   8F16             ;% LB_LIST START
2725   8F16             LIST:
2726   8F16 A5 76 4F        LDA  (DISP_BUFF + $4F)          ; $764F
2727   8F19 B9 07           ANI  A,$07                      ; 
2728   8F1B BB 20           ORI  A,$20                      ; 
2729   8F1D AE 76 4F        STA  (DISP_BUFF + $4F)          ; 
2730   8F20 15              LDA  (Y)                        ; 
2731   8F21 B7 0D           CPI  A,$0D                      ; CR = EOL
2732   8F23 89 02           BZR  BR_8F27                    ; A = $0D
2733   8F25 8E 1F           BCH  JMP_8F46                   ; A <> $0D
2734   8F27             
2735   8F27             BR_8F27:
2736   8F27 B7 50           CPI  A,$50                      ; 
2737   8F29 89 08           BZR  BR_8F33                    ; A = $$50
2738   8F2B 54              INC  Y                          ; 
2739   8F2C 15              LDA  (Y)                        ; 
2740   8F2D B7 0D           CPI  A,$0D                      ; 
2741   8F2F 89 02           BZR  BR_8F33                    ; A = $0D
2742   8F31 8E 21           BCH  BR_8F54                    ; A <> $0D
2743   8F33             
2744   8F33             BR_8F33:
2745   8F33 B7 56           CPI  A,$56                      ; 
2746   8F35 89 09           BZR  BR_8F40                    ; A = $56
2747   8F37 54              INC  Y                          ; 
2748   8F38 15              LDA  (Y)                        ; 
2749   8F39 B7 0D           CPI  A,$0D                      ;
2750   8F3B 89 03           BZR  BR_8F40                    ; A = $0D
2751   8F3D BA 92 D6        JMP  JMP_92D6                   ; A <> $0D
2752   8F40             
2753   8F40             BR_8F40:
2754   8F40 BA C9 6F        JMP  BCMD_LIST + 1              ; $C96F
2755   8F43             ;% LB_LIST START
2756   8F43             ;------------------------------------------------------------------------------------------------------------
2757   8F43             
2758   8F43             
2759   8F43             
2760   8F43             ;------------------------------------------------------------------------------------------------------------
2761   8F43             ; $8F43 - JMP_8F43: 
2762   8F43             ; Called from 
2763   8F43             ; Arguments: 
2764   8F43             ; Outputs: 
2765   8F43             ; RegMod: 
2766   8F43             ;------------------------------------------------------------------------------------------------------------
2767   8F43             ;% LB_JMP_8F43 START
2768   8F43             JMP_8F43: ; VLISTALL
2769   8F43 BA 80 00        JMP  B_TBL_8000                 ; $8000
2770   8F46             ;% LB_JMP_8F43 END
2771   8F46             ;------------------------------------------------------------------------------------------------------------
2772   8F46             
2773   8F46             
2774   8F46             
2775   8F46             ;------------------------------------------------------------------------------------------------------------
2776   8F46             ; $8F46 - xxxx: 
2777   8F46             ; Called from LIST:$8F25
2778   8F46             ; Arguments: 
2779   8F46             ; Outputs: 
2780   8F46             ; RegMod: 
2781   8F46             ;------------------------------------------------------------------------------------------------------------
2782   8F46             ;% LB_xxxx START
2783   8F46             JMP_8F46:
2784   8F46 BE 90 8E        SJP  (JMP_908E)                 ; $908E
2785   8F49 CC              VEJ  (CC) \ ABYTL(ROM_ST_H)     ; $7861 (CC) Loads X-Reg with address from memory
2785   8F4A 61          
2786   8F4B B5 FF           LDI  A,$FF                      ; 
2787   8F4D 86              CPA  XH                         ; 
2788   8F4E 89 04           BZR  BR_8F54                    ; $8F54
2789   8F50 CC              VEJ  (CC) \ ABYTL(BASPRG_ST_H)  ; $7865 (CC) Loads X-Reg with address from memory
2789   8F51 65          
2790   8F52 8E 02           BCH  BR_8F56                    ; $8F56
2791   8F54             
2792   8F54             BR_8F54:
2793   8F54 CC              VEJ  (CC) \ ABYTL(BASPRG_EDT_H) ; $7869 (CC) Loads X-Reg with address from memory
2793   8F55 69          
2794   8F56             
2795   8F56             BR_8F56:
2796   8F56 05              LDA  (X)                        ; 
2797   8F57 B7 FF           CPI  A,$FF                      ; 
2798   8F59 89 01           BZR  BR_8F5C                    ; $8F5C
2799   8F5B E2              VEJ  (E2)                       ; (E2) - BASIC interpreter: Y-Reg points to command or line end
2800   8F5C             
2801   8F5C             BR_8F5C:
2802   8F5C B5 55           LDI  A,$55                      ; 
2803   8F5E FD AE 77 D9     STA  #(VIDEORAM + $07D9)        ; $77D9
2804   8F62 A5 78 71        LDA  (WAIT_CFG)                 ; WAIT setting
2805   8F65 B7 00           CPI  A,$00                      ; 
2806   8F67 89 0D           BZR  BR_8F76                    ; $8F76
2807   8F69 B5 02           LDI  A,$02                      ; 
2808   8F6B AE 78 71        STA  (WAIT_CFG)                 ; WAIT setting
2809   8F6E B5 00           LDI  A,$00                      ; 
2810   8F70 AE 78 72        STA  (WAIT_CTR_H)               ; WAIT time counter (H)
2811   8F73 AE 78 73        STA  (WAIT_CTR_L)               ; WAIT time counter (L)
2812   8F76             
2813   8F76             BR_8F76:
2814   8F76 B5 03           LDI  A,$03                      ; 
2815   8F78 FD CA           ADR  X                          ; 
2816   8F7A CA              VEJ  (CA) \ ABYTL(SRCH_ADD_H)   ; $78A6 Transfer 16-bit value from X-Reg to memory page 7BXX
2816   8F7B A6          
2817   8F7C             
2818   8F7C             BR_8F7C:
2819   8F7C 46              DEC  X                          ; 
2820   8F7D 46              DEC  X                          ; 
2821   8F7E BE D2 D0        SJP  (XFRLINE2INBUF)            ; $D2D0
2822   8F81 B5 14           LDI  A,$14                      ; Bit 0: The input buffer was temporarily stored. A system message or a reserve text is shown in the display.
2823   8F83                                                 ; Bit 6: The display program shows from (Y-Reg)
2824   8F83 AE 78 80        STA  (DISPARAM)                 ; $7880 - Display Parameter: determines display at READY
2825   8F86 BE E8 CA        SJP  (PRGMDISP)                 ; 
2826   8F89 B5 02           LDI  A,$02                      ; 
2827   8F8B FD AE F0 0B     STA  #(PC1500_IF_REG)           ; 
2828   8F8F BE 81 9E        SJP  (XCHR_INPUT)               ; $819E
2829   8F92 F4              VEJ  (F4) \ AWRD(WAIT_CTR_H)    ; (F4) Transfer 16-bit value from X-Reg to memory page 78XX
2829   8F93 78 72       
2830   8F95             
2831   8F95             BR_8F95:
2832   8F95 FD A8           PSH  U                          ; 
2833   8F97             
2834   8F97             BR_8F97:
2835   8F97 38              NOP                             ;
2836   8F98 38              NOP                             ;
2837   8F99 88 04           LOP  UL,BR_8F97                 ; $8F97
2838   8F9B FD 2A           POP  U                          ;
2839   8F9D 88 0A           LOP  UL,BR_8F95                 ; $8F95
2840   8F9F 6C 00           CPI  UH,$00                     ; 
2841   8FA1 8B 04           BZS  BR_8FA7                    ; $8FA7
2842   8FA3 FD 62           DEC  UH                         ; 
2843   8FA5 9E 12           BCH  BR_8F95                    ; $8F95
2844   8FA7             
2845   8FA7             BR_8FA7:
2846   8FA7 BE E4 2C        SJP  (KEY2ASCII)                ; Return ASCII code of key pressed in Accumulator. If no key: C=1.
2847   8FAA B7 20           CPI  A,$20                      ; Space
2848   8FAC 89 02           BZR  BR_8FB0                    ; $8FB0
2849   8FAE 9E 09           BCH  BR_8FA7                    ; $8FA7
2850   8FB0             
2851   8FB0             BR_8FB0:
2852   8FB0 BE E4 2C        SJP  (KEY2ASCII)                ; Return ASCII code of key pressed in Accumulator. If no key: C=1.
2853   8FB3 B7 0B           CPI  A,$0B                      ; Down arrow
2854   8FB5 89 08           BZR  BR_8FBF                    ; $8FBF
2855   8FB7 B5 99           LDI  A,$99                      ; 
2856   8FB9 FD AE 77 D9     STA  #(VIDEORAM + $07D9)        ; 
2857   8FBD 8E 51           BCH  BR_9010                    ; $9010
2858   8FBF             
2859   8FBF             BR_8FBF:
2860   8FBF FD A5 F0 0A     LDA  #(PC1500_MSK_REG)          ; 
2861   8FC3 B9 20           ANI  A,$20                      ; 
2862   8FC5 B7 20           CPI  A,$20                      ; 
2863   8FC7 89 0E           BZR  BR_8FD7                    ; $8FD7
2864   8FC9 B5 00           LDI  A,$00                      ; 
2865   8FCB AE 78 B5        STA  (ERR_LINE_L)               ; 
2866   8FCE FD E9 77 DF     ANI  #(VIDEORAM + $07DF),$00    ; 
2866   8FD2 00 
2867   8FD3 BE DC 32        SJP  ($DC32)                    ; Stores 8 bytes from address X-Reg to AR-X.
2868   8FD6 E2              VEJ  (E2)                       ; (E2) - BASIC interpreter: Y-Reg points to command or line end
2869   8FD7             
2870   8FD7             BR_8FD7:
2871   8FD7 FD A5 77 D2     LDA  #(VIDEORAM + $07D2)        ; 
2872   8FDB DD              INC  A                          ; 
2873   8FDC FD AE 77 D2     STA  #(VIDEORAM + $07D2)        ; 
2874   8FE0 CC              VEJ  (CC) \ ABYTL(SRCH_ADD_H)   ; $78A6 (CC) Loads X-Reg with address from memory
2874   8FE1 A6          
2875   8FE2 44              INC  X                          ; 
2876   8FE3 44              INC  X                          ; 
2877   8FE4 05              LDA  (X)                        ; 
2878   8FE5 FD CA           ADR  X                          ; 
2879   8FE7 44              INC  X                          ; 
2880   8FE8 47              LDE  X                          ; 
2881   8FE9 B7 FF           CPI  A,$FF                      ; 
2882   8FEB 89 02           BZR  BR_8FEF                    ; $8FEF
2883   8FED 8E 21           BCH  BR_9010                    ; $9010
2884   8FEF             
2885   8FEF             BR_8FEF:
2886   8FEF CA              VEJ  (CA) \ ABYTL(SRCH_ADD_H)   ; $78A6 $78A6 Transfer 16-bit value from X-Reg to memory page 7BXX
2886   8FF0 A6          
2887   8FF1 B5 04           LDI  A,$04                      ; 
2888   8FF3 FD CA           ADR  X                          ; 
2889   8FF5 FD 5A           STX  Y                          ; 
2890   8FF7 FD A5 77 D9     LDA  #(VIDEORAM + $07D9)        ; 
2891   8FFB B7 55           CPI  A,$55                      ; 
2892   8FFD 89 0F           BZR  BR_900E                    ; $900E
2893   8FFF B5 00           LDI  A,$00                      ; 
2894   9001 FD AE 77 D9     STA  #(VIDEORAM + $07D9)        ; 
2895   9005 FD A5 77 D2     LDA  #(VIDEORAM + $07D2)        ; 
2896   9009 DF              DEC  A                          ; 
2897   900A FD AE 77 D2     STA  #(VIDEORAM + $07D2)        ;
2898   900E             
2899   900E             BR_900E:
2900   900E 9E 94           BCH  BR_8F7C                    ; $8F7C
2901   9010             
2902   9010             BR_9010:
2903   9010 CC              VEJ  (CC) \ ABYTL(SRCH_ADD_H)   ; $78A6 (CC) Loads X-Reg with address from memory
2903   9011 A6          
2904   9012 B5 04           LDI  A,$04                      ; 
2905   9014 FD CA           ADR  X                          ; 
2906   9016 FD 5A           STX  Y                          ; 
2907   9018 CA              VEJ  (CA) \ ABYTL(ERR_ADD_H)    ; $78B2 $78A6 Transfer 16-bit value from X-Reg to memory page 7BXX
2907   9019 B2          
2908   901A B5 01           LDI  A,$01                      ; 
2909   901C AE 78 B5        STA  (ERR_LINE_L)               ; 
2910   901F BE DC 32        SJP  ($DC32)                    ; Stores 8 bytes from address X-Reg to AR-X.
2911   9022 E2              VEJ  (E2)                       ; (E2) - BASIC interpreter: Y-Reg points to command or line end
2912   9023             ;% LB_LIST END
2913   9023             ;------------------------------------------------------------------------------------------------------------
2914   9023             
2915   9023             
2916   9023             
2917   9023             ;------------------------------------------------------------------------------------------------------------
2918   9023             ; $9023 BACKGR - Changes background color?
2919   9023             ; Called from 
2920   9023             ; Arguments: 
2921   9023             ; Outputs: 
2922   9023             ; RegMod: 
2923   9023             ;------------------------------------------------------------------------------------------------------------
2924   9023             ;% LB_BACKGR START
2925   9023             BACKGR:
2926   9023 DE              VEJ  (DE) \ ABRF(BR_9081)       ; (DE) Calculate formula Y-Reg points to, save result in AR-X. Branch on error
2926   9024 5C          
2927   9025 D0              VEJ  (D0) \ 
2927   9026             
2928   9026 10                   ABYT($10) \ ABRF(BR_9081)  ; (D0) Convert AR-X to Integer save to U-Reg. D1 range check, if exceeded branch
2928   9027 59          
2929   9028 B7 10           CPI  A,$10                      ;
2930   902A 81 03           BCR  BR_902F                    ; If A < $10
2931   902C 68 13           LDI  UH,$13                     ; 
2932   902E E0              VEJ  (E0)                       ; (E0) Returns error message if UH is not 00
2933   902F             
2934   902F             BR_902F:
2935   902F 24              LDA  UL                         ; U result of VEJ(D0) above
2936   9030 F1              AEX                             ; A = A - (Y). Subtract with Carry  (ME0)
2937   9031 FD AE 77 DD     STA  #(VIDEORAM + $7DD)         ; $77DD
2938   9035 C0              VEJ  (C0)                       ; (C0) Load next character / token to U-Reg
2939   9036 6E 0D           CPI  UL,$0D                     ; 
2940   9038 89 0B           BZR  BR_9045                    ; A <> $0D
2941   903A FD A5 77 DD     LDA  #(VIDEORAM + $7DD)         ; $77DD
2942   903E B7 0A           CPI  A,$0A                      ; Not sure why the CPI ORI combo accomplish
2943   9040 BB 0F           ORI  A,$0F                      ; 
2944   9042 2A              STA  UL                         ; 
2945   9043 8E 20           BCH  BR_9065                    ; $9065
2946   9045             
2947   9045             BR_9045:
2948   9045 B7 2C           CPI  A,$2C                      ; 
2949   9047 89 1B           BZR  BR_9064                    ; A <> $2C
2950   9049 DE              VEJ  (DE) \ ABRF(BR_9081)       ; (DE) Calculate formula Y-Reg points to, save result in AR-X. Branch on error
2950   904A 36          
2951   904B D0              VEJ  (D0) \ 
2951   904C             
2952   904C 10                  ABYT($10) \ ABRF(BR_9081)   ; (D0) Convert AR-X to Integer save to U-Reg. D1 range check, if exceeded branch
2952   904D 33          
2953   904E B7 10           CPI  A,$10                      ; 
2954   9050 81 03           BCR  BR_9055                    ; A < $10
2955   9052 68 13           LDI  UH,$13                     ; 
2956   9054 E0              VEJ  (E0)                       ; (E0) Returns error message if UH is not 00
2957   9055             
2958   9055             BR_9055:
2959   9055 FD AE 77 DE     STA  #(VIDEORAM + $07DE)        ; $77DE
2960   9059 FD AB 77 DD     ORA  #(VIDEORAM + $07DD)        ; $77DD
2961   905D 2A              STA  UL                         ; 
2962   905E FD AE 77 DC     STA  #(VIDEORAM + $07DC)        ; $77DC
2963   9062 8E 01           BCH  BR_9065                    ; $9065
2964   9064             
2965   9064             BR_9064:
2966   9064 E4              VEJ  (E4)                       ; (E4) Output Error 1 and return to the editor
2967   9065             
2968   9065             BR_9065:
2969   9065 24              LDA  UL                         ;
2970   9066 BE 90 6A        SJP  (COLOR_FILL)               ; $906A
2971   9069 E2              VEJ  (E2)                       ; (E2) - BASIC interpreter: Y-Reg points to command or line end
2972   906A             ;------------------------------------------------------------------------------------------------------------
2973   906A             
2974   906A             
2975   906A             
2976   906A             ;------------------------------------------------------------------------------------------------------------
2977   906A             ; $906A COLOR_FILL - Fills Color RAM with value passed in A
2978   906A             ; Called from: TBL_INIT:8E15, BACKGR:9066
2979   906A             ; Arguments: A, color to fill
2980   906A             ; Outputs: 
2981   906A             ; RegMod: 
2982   906A             ;------------------------------------------------------------------------------------------------------------
2983   906A             ;% LB_COLOR_FILL START
2984   906A             COLOR_FILL:
2985   906A 48 60           LDI  XH,$60                     ; IWS $6000~$67FF color RAM
2986   906C 4A 00           LDI  XL,$00                     ; 
2987   906E 68 07           LDI  UH,$07                     ; Loop counter
2988   9070 6A D0           LDI  UL,$D0                     ; $6000~$67D0
2989   9072             
2990   9072             BR_9072:
2991   9072 FD 0E           STA  #(X)                       ; Store color in A to Color RAM
2992   9074 44              INC  X                          ; Inc address pointer
2993   9075 66              DEC  U                          ; Dec counter
2994   9076 6C 00           CPI  UH,$00                     ; 
2995   9078 89 05           BZR  BR_907F                    ; If UH <> $00. HB of count
2996   907A 6E 00           CPI  UL,$00                     ; 
2997   907C 89 01           BZR  BR_907F                    ; If UL <> $00. LB of count
2998   907E 9A              RTN                             ; Done
2999   907F             
3000   907F             BR_907F:
3001   907F 9E 0F           BCH  BR_9072                    ; $9072
3002   9081             
3003   9081             BR_9081:
3004   9081 E0              VEJ  (E0)                       ; (E0) Returns error message if UH is not 00
3005   9082             ;% LB_COLOR_FILL END
3006   9082             ;------------------------------------------------------------------------------------------------------------
3007   9082             
3008   9082             
3009   9082             
3010   9082             ;------------------------------------------------------------------------------------------------------------
3011   9082             ; $9082 ERN - function, returns the error number that occurred last
3012   9082             ; Usage: ERN
3013   9082             ; Called from: 
3014   9082             ; Arguments: 
3015   9082             ; Outputs: 
3016   9082             ; RegMod: A
3017   9082             ;------------------------------------------------------------------------------------------------------------
3018   9082             ;% LB_ERN START
3019   9082             ERN:
3020   9082 A5 78 9B        LDA  (ERL)                      ;
3021   9085 BA D9 E4        JMP  BCMD_LEN + $0D             ; $D9E4
3022   9088             ;% LB_ERN END
3023   9088             ;------------------------------------------------------------------------------------------------------------
3024   9088             
3025   9088             
3026   9088             
3027   9088             ;------------------------------------------------------------------------------------------------------------
3028   9088             ; $9088 - ERL: function, returns the line number in which the last error occurred
3029   9088             ; Usage: ERL
3030   9088             ; Called from: 
3031   9088             ; Arguments: 
3032   9088             ; Outputs: 
3033   9088             ; RegMod: 
3034   9088             ;------------------------------------------------------------------------------------------------------------
3035   9088             ;% LB_ERL START
3036   9088             IWS_ERL:
3037   9088 F4              VEJ  (F4) \ AWRD(ERR_LINE_H)    ; (F4) Transfer 16-bit value from X-Reg to memory page 78XX
3037   9089 78 B4       
3038   908B BA DA 6C        JMP  BCMD_MEM + $0F             ; $DA6C
3039   908E             ;% LB_ERL END
3040   908E             ;------------------------------------------------------------------------------------------------------------
3041   908E             
3042   908E             
3043   908E             
3044   908E             ;------------------------------------------------------------------------------------------------------------
3045   908E             ; $908E xxxx - Jumps to start of program IN ROM or RAM?
3046   908E             ; Called from 
3047   908E             ; Arguments: 
3048   908E             ; Outputs: 
3049   908E             ; RegMod: 
3050   908E             ;------------------------------------------------------------------------------------------------------------
3051   908E             ;% LB_xxxx START
3052   908E             JMP_908E:
3053   908E A5 78 60        LDA  (ST_ROM_MOD)               ; $7860 - Start of ROM in module (H)
3054   9091 08              STA  XH                         ; 
3055   9092 B7 FF           CPI  A,$FF                      ; 
3056   9094 89 04           BZR  BR_909A                    ; Branch if A <> $FF, i.e. ROM module present.
3057   9096 A5 78 63        LDA  (RAM_ST_H)                 ; $7863 - Start of RAM pointer (H)
3058   9099 08              STA  XH                         ; 
3059   909A             
3060   909A             BR_909A:
3061   909A 4A 00           LDI  XL,$00                     ; XH is either HB or start of RAM or ROM
3062   909C 05              LDA  (X)                        ; A = (X)  (ME0)
3063   909D B7 55           CPI  A,$55                      ; Looking for start of BASIC table?
3064   909F 89 08           BZR  BR_90A9                    ; Branch if A <> $55
3065   90A1 4A 07           LDI  XL,$07                     ; 
3066   90A3 05              LDA  (X)                        ; A = (X)  (ME0)
3067   90A4 B7 00           CPI  A,$00                      ; 
3068   90A6 89 01           BZR  BR_90A9                    ; Branch if A <> $00
3069   90A8 E2              VEJ  (E2)                       ; (E2) - BASIC interpreter: Y-Reg points to command or line end
3070   90A9             
3071   90A9             BR_90A9:
3072   90A9 9A              RTN                             ; Done
3073   90AA             ;% LB_xxxx END
3074   90AA             ;------------------------------------------------------------------------------------------------------------
3075   90AA             
3076   90AA             
3077   90AA             
3078   90AA             ;------------------------------------------------------------------------------------------------------------
3079   90AA             ; $90AA SLEEP - Turns off computers without initializing the printer when turning it back on.
3080   90AA             ; Called from: 
3081   90AA             ; Arguments: YH
3082   90AA             ; Outputs: 
3083   90AA             ; RegMod: A
3084   90AA             ;------------------------------------------------------------------------------------------------------------
3085   90AA             ;% LB_SLEEP START
3086   90AA             SLEEP:
3087   90AA 94              LDA  YH                         ;
3088   90AB B7 7B           CPI  A,$7B                      ;
3089   90AD 8B 04           BZS  BR_90B3                    ; A == $7B, skip sleep if YH = $7B. Why?
3090   90AF BE E3 3F        SJP  (AUTO_OFF)                 ; Power down
3091   90B2 E2              VEJ  (E2)                       ; (E2) - BASIC interpreter: Y-Reg points to command or line end
3092   90B3             
3093   90B3             BR_90B3: 
3094   90B3 AA 78 4F        LDI  S,(CPU_STACK + $4F)        ; Load stack pointer
3095   90B6 BE CF CC        SJP  (INITSYSADDR)              ; ($CFCC) Init Sys Addr, turn off trace
3096   90B9 BE D0 2B        SJP  (INBUF_CLRINIT)            ; $D02B Clear IN_BUF w/$0D
3097   90BC B5 3E           LDI  A,$3E                      ; 
3098   90BE 1E              STA  (Y)                        ; Store A in address pointed to by Y
3099   90BF E9 78 8A EF     ANI  (BREAKPARAM),$EF           ; Clears Bit 4 (pp) = (pp) & n (ME0)
3100   90C3 E9 76 4E FE     ANI  (DISP_BUFF + $4E),$FE      ; Clears Bit 0
3101   90C7 B5 00           LDI  A,$00                      ; Reset Display Parameter
3102   90C9 AE 78 80        STA  (DISPARAM)                 ; $7880 - Display Parameter: determines display at READY
3103   90CC AE 78 9C        STA  (CURR_LINE_H)              ; Current line number (H)
3104   90CF AE 78 9D        STA  (CURR_LINE_L)              ; Current line number (L)
3105   90D2 BE E8 CA        SJP  (PRGMDISP)                 ; Display program.
3106   90D5 48 CA           LDI  XH,HB(EDITOR+$12)          ; $CA Sets address to return to?
3107   90D7 4A 92           LDI  XL,LB(EDITOR+$12)          ; $92
3108   90D9 FD 88           PSH  X                          ;
3109   90DB BA E3 3F        JMP  AUTO_OFF                   ; $E33F
3110   90DE             ;% LB_SLEEP END
3111   90DE             ;------------------------------------------------------------------------------------------------------------
3112   90DE             
3113   90DE             
3114   90DE             
3115   90DE             ;------------------------------------------------------------------------------------------------------------
3116   90DE             ; $90DE xxxx - If keyboard bypass set repeat key flag?
3117   90DE             ; Called from: XCHR_INPUT:$823E
3118   90DE             ; Arguments: 
3119   90DE             ; Outputs: 
3120   90DE             ; RegMod: 
3121   90DE             ;------------------------------------------------------------------------------------------------------------
3122   90DE             ;% LB_xxxx START
3123   90DE             JMP_90DE:
3124   90DE FD C8           PSH  A                          ; 
3125   90E0 A5 79 D5        LDA  ($79D5)                    ; ***mystery bypass
3126   90E3 B7 55           CPI  A,$55                      ; Check for $55 bypass flag
3127   90E5 89 07           BZR  BR_90EE                    ; A <> $55 . If not bypassed
3128   90E7 FD 8A           POP  A                          ; If bypassed
3129   90E9 EB 7B 0E 40     ORI  (CURS_CTRL),$40            ; $7B0E - Cursor Control Parameter, sets key repeat flag
3130   90ED 9A              RTN                             ;
3131   90EE             
3132   90EE             BR_90EE:
3133   90EE FD 8A           POP  A                          ; 
3134   90F0 9A              RTN                             ; Done
3135   90F1             ;% LB_xxxx END
3136   90F1             ;------------------------------------------------------------------------------------------------------------
3137   90F1             
3138   90F1             
3139   90F1             
3140   90F1             ;------------------------------------------------------------------------------------------------------------
3141   90F1             ; $90F1 REPKEY - Autorepeat of the keyboard is turned on or off.
3142   90F1             ; Called from:
3143   90F1             ; Arguments: ON, OFF
3144   90F1             ; Outputs: 
3145   90F1             ; RegMod: 
3146   90F1             ;------------------------------------------------------------------------------------------------------------
3147   90F1             ;% LB_REPKEY START
3148   90F1             REPKEY:
3149   90F1 C2              VEJ  (C2) \ 
3149   90F2             
3150   90F2 F1 9C               AWRD($F19C) \ ABRF(BR_90FB) ; Checks for 'ON' token. If found, a branch. BCMD_LOG ($F165+?) \ $90FB
3150   90F4 06          
3151   90F5 B5 55           LDI  A,$55                      ; 
3152   90F7             
3153   90F7             BR_90F7:
3154   90F7 AE 79 D5        STA  ($79D5)                    ; ***mystery bypass
3155   90FA E2              VEJ  (E2)                       ; (E2) - BASIC interpreter: Y-Reg points to command or line end
3156   90FB             
3157   90FB             BR_90FB:
3158   90FB 56              DEC  Y                          ;
3159   90FC 56              DEC  Y                          ;
3160   90FD C2              VEJ  (C2) \ 
3160   90FE             
3161   90FE F1 9E               AWRD($F19E) \ ABRF(BR_9105) ; Checks for 'OFF" token. If found, a branch. DIVISION ($F084) \ $9105
3161   9100 04          
3162   9101 B5 00           LDI  A,$00                      ;
3163   9103 9E 0E           BCH  BR_90F7                    ; $90F7
3164   9105             
3165   9105             BR_9105:
3166   9105 54              INC  Y                          ; 
3167   9106 E4              VEJ  (E4)                       ; (E4) Output Error 1 and return to the editor
3168   9107             ;% LB_REPKEY END
3169   9107             ;------------------------------------------------------------------------------------------------------------
3170   9107             
3171   9107             
3172   9107             
3173   9107             ;------------------------------------------------------------------------------------------------------------
3174   9107             ; GCLS - Clears graphics RAM
3175   9107             ; Usage: GCLS Num.Exp
3176   9107             ; Called from: 
3177   9107             ; Arguments: Num.Exp (graphics layer)
3178   9107             ; Outputs: 
3179   9107             ; RegMod: 
3180   9107             ;------------------------------------------------------------------------------------------------------------
3181   9107             ;% LB_GCLS START
3182   9107             GCLS:
3183   9107 15              LDA  (Y)                        ;
3184   9108 B7 0D           CPI  A,$0D                      ; 
3185   910A 89 04           BZR  BR_9110                    ; A <> $0D
3186   910C B5 00           LDI  A,$00                      ; 
3187   910E 8E 06           BCH  BR_9116                    ; $9116
3188   9110             
3189   9110             BR_9110:
3190   9110 DE              VEJ  (DE) \ ABRF(BR_914B)       ; (DE) Calculates formula pointed to by Y-Reg, passes the result to AR-X. 
3190   9111 39          
3191   9112 D0              VEJ  (D0) \ 
3191   9113             
3192   9113 10                  ABYT($10) \ ABRF(BR_914B)   ; (D0) Convert AR-X to Integer & load in U-Reg. Area check by D1, if exceeded branch
3192   9114 36          
3193   9115 24              LDA  UL                         ;
3194   9116             
3195   9116             BR_9116:
3196   9116 BE 91 1A        SJP  (JMP_911A)                 ; $911A
3197   9119 E2              VEJ  (E2)                       ; (E2) - BASIC interpreter: Y-Reg points to command or line end
3198   911A             ;% LB_GCLS END
3199   911A             ;------------------------------------------------------------------------------------------------------------
3200   911A             
3201   911A             
3202   911A             
3203   911A             ;------------------------------------------------------------------------------------------------------------
3204   911A             ; $911A xxxx
3205   911A             ; Called from: 
3206   911A             ; Arguments: 
3207   911A             ; Outputs: 
3208   911A             ; RegMod: 
3209   911A             ;------------------------------------------------------------------------------------------------------------
3210   911A             ;% LB_xxxx START
3211   911A             JMP_911A:
3212   911A B5 55           LDI  A,$55                      ; 
3213   911C FD AE 30 00     STA  #($3000)                   ; ***IWS ME1???
3214   9120 FD A7 30 00     CPA  #($3000)                   ; ***
3215   9124 89 08           BZR  BR_912E                    ; If A <> $55 then #($3000) does not exist. Option?
3216   9126 68 07           LDI  UH,$07                     ; Next 4 lines don't seem to do anything
3217   9128 6A D0           LDI  UL,$D0                     ; Loop counter
3218   912A 48 68           LDI  XH,HB(GRAPHRAM)            ; $68 - HB Graphics RAM
3219   912C 4A 00           LDI  XL,LB(GRAPHRAM)            ; $00 - LB Graphics RAM
3220   912E             
3221   912E             BR_912E:
3222   912E B5 00           LDI  A,$00                      ; 
3223   9130 FD AE 30 00     STA  #($3000)                   ; ***
3224   9134 68 3E           LDI  UH,$3E                     ; Why set U,X again after just set above?
3225   9136 6A 81           LDI  UL,$81                     ; U = $3E81
3226   9138 48 30           LDI  XH,$30                     ; X = $3000
3227   913A 4A 00           LDI  XL,$00                     ; 
3228   913C             
3229   913C             BR_913C:
3230   913C FD 0E           STA  #(X)                       ; Zeros out some RAM?? Graphics RAM mirrored at ME1 $3000?
3231   913E 44              INC  X                          ;
3232   913F 66              DEC  U                          ; 
3233   9140 6C 00           CPI  UH,$00                     ;
3234   9142 89 05           BZR  BR_9149                    ; UH <> $00
3235   9144 6E 00           CPI  UL,$00                     ; 
3236   9146 89 01           BZR  BR_9149                    ; UL <> $00
3237   9148 9A              RTN                             ; Done
3238   9149             
3239   9149             BR_9149:
3240   9149 9E 0F           BCH  BR_913C                    ; $913C
3241   914B             
3242   914B             BR_914B:
3243   914B E0              VEJ  (E0)                       ; (E0) Returns error message if UH is not 00
3244   914C             ;% LB_xxxx END
3245   914C             ;------------------------------------------------------------------------------------------------------------
3246   914C             
3247   914C             
3248   914C             
3249   914C             ;------------------------------------------------------------------------------------------------------------
3250   914C             ; $914C DEC - 
3251   914C             ; Called from 
3252   914C             ; Arguments: 
3253   914C             ; Outputs: 
3254   914C             ; RegMod: 
3255   914C             ;------------------------------------------------------------------------------------------------------------
3256   914C             ;% LB_DEC START
3257   914C             DEC:
3258   914C BA 92 D6        JMP  JMP_92D6                   ; Jumps to an exit
3259   914F             ;% LB_END 
3260   914F             ;------------------------------------------------------------------------------------------------------------
3261   914F             
3262   914F             
3263   914F             
3264   914F             ;------------------------------------------------------------------------------------------------------------
3265   914F             ; $914F GVCURSOR - 
3266   914F             ; Called from 
3267   914F             ; Arguments: 
3268   914F             ; Outputs: 
3269   914F             ; RegMod: 
3270   914F             ;------------------------------------------------------------------------------------------------------------
3271   914F             ;% LB_GVCURSOR START
3272   914F             GVCURSOR:
3273   914F E2              VEJ  (E2)                       ; (E2) - BASIC interpreter: Y-Reg points to command or line end
3274   9150             
3275   9150             JMP_9150:
3276   9150 A5 79 D6        LDA  ($79D6)                    ; *** unused section of PC-1500 used as flag for?
3277   9153 B7 55           CPI  A,$55                      ; *** another mystery bypass
3278   9155 89 02           BZR  BR_9159                    ; A <> $55
3279   9157 8E 1D           BCH  BR_9176                    ; $9176
3280   9159             
3281   9159             BR_9159:
3282   9159 B5 BE           LDI  A,$BE                      ; POKES 'SJP $E267' into CE-158 registers to use as jump vector in ME0
3283   915B AE 78 50        STA  (OUTSTAT_REG)              ; $7851 CE-158 OUTSTAT value (handshaking)
3284   915E B5 E2           LDI  A,$E2                      ; $E267 in WAIT4KB ($E243)
3285   9160 AE 78 51        STA  (CONSOLE_REG)              ; $7851 CE-158 OUTSTAT value (handshaking)
3286   9163 B5 67           LDI  A,$67                      ; 
3287   9165 AE 78 52        STA  (CONSOLE2)                 ; $7852 CE-158 Console 1 (//)
3288   9168             
3289   9168             BR_9168:
3290   9168 B5 9A           LDI  A,$9A                      ; POKEs 'RTN' in two addresses. 
3291   916A AE 78 53        STA  (CE158_UNDEF1)             ; $7853
3292   916D B5 9A           LDI  A,$9A                      ;
3293   916F AE 78 54        STA  (CE158_UNDEF2)             ; $7854
3294   9172 BE 78 50        SJP  (OUTSTAT_REG)              ; 
3295   9175 9A              RTN                             ; Done
3296   9176             
3297   9176             BR_9176:
3298   9176 B5 BE           LDI  A,$BE                      ; POKEs 'SJP something' 
3299   9178 AE 78 50        STA  (OUTSTAT_REG)              ; 
3300   917B A5 78 56        LDA  (ZONE_REG)                 ; $7856
3301   917E AE 78 51        STA  (CONSOLE_REG)              ; $7851
3302   9181 A5 78 57        LDA  (SETDEV_REG)               ; $7857
3303   9184 AE 78 52        STA  (CONSOLE2)                 ; $7852
3304   9187 9E 21           BCH  BR_9168                    ; $9168
3305   9189             
3306   9189             
3307   9189             JMP_9189:
3308   9189 48 77           LDI  XH,HB(VIDEORAM+$77F)       ; $77 IWS Video RAM area
3309   918B 4A 7F           LDI  XL,LB(VIDEORAM+$77F)       ; $7F 
3310   918D 58 77           LDI  YH,HB(VIDEORAM+$7CF)       ; $77 IWS Video RAM area
3311   918F 5A CF           LDI  YL,LB(VIDEORAM+$7CF)       ; $CF
3312   9191 68 07           LDI  UH,$07                     ; Loop counter?
3313   9193 6A 80           LDI  UL,$80                     ; U == $0780
3314   9195             
3315   9195             BR_9195:
3316   9195 FD 05           LDA  #(X)                       ; Moves block of video RAM
3317   9197 FD 1E           STA  #(Y)                       ; 
3318   9199 46              DEC  X                          ; 
3319   919A 56              DEC  Y                          ; 
3320   919B 66              DEC  U                          ; 
3321   919C 6C 00           CPI  UH,$00                     ; 
3322   919E 89 05           BZR  BR_91A5                    ; $91A5
3323   91A0 6E 00           CPI  UL,$00                     ; 
3324   91A2 89 01           BZR  BR_91A5                    ; $91A5
3325   91A4 9A              RTN                             ; 
3326   91A5             
3327   91A5             BR_91A5:
3328   91A5 9E 12           BCH  BR_9195                    ; $9195
3329   91A7             ;% LB_GVCURSOR END
3330   91A7             ;------------------------------------------------------------------------------------------------------------
3331   91A7             
3332   91A7             
3333   91A7             
3334   91A7             ;------------------------------------------------------------------------------------------------------------
3335   91A7             ; $91A7 PRINT - Sharp Syntax
3336   91A7             ; Called from 
3337   91A7             ; Arguments: 
3338   91A7             ; Outputs: 
3339   91A7             ; RegMod: 
3340   91A7             ;------------------------------------------------------------------------------------------------------------
3341   91A7             ;% LB_PRINT START
3342   91A7             PRINT:
3343   91A7 C2              VEJ  (C2) \ 
3343   91A8             
3344   91A8 23                  ACHR($23) \ ABRF(BR_91B1)   ; Checks for '#' $23 char. If found, a branch.
3344   91A9 07          
3345   91AA C2              VEJ  (C2) \ 
3345   91AB             
3346   91AB 2D                  ACHR($2D) \ ABRF(BR_91BB)   ; Checks for '-' $2D char. If found, a branch.
3346   91AC 0E          
3347   91AD C6              VEJ  (C6)                       ; (C6) Correct program pointer
3348   91AE BA E4 EE        JMP  BCMD_PRINT + $03           ; $E4EE 
3349   91B1             
3350   91B1             BR_91B1:
3351   91B1 C6              VEJ  (C6)                       ; (C6) Correct program pointer
3352   91B2 D8              VEJ  (D8)                       ; (D8) Checks calculator mode
3353   91B3 89 03           BZR  BR_91B8                    ; $91B8
3354   91B5 BA E4 EB        JMP  BCMD_PRINT                 ; $E4EB
3355   91B8             
3356   91B8             BR_91B8:
3357   91B8 BA 8A 8B        JMP  JMP_8A8B                   ; $8A8B
3358   91BB             
3359   91BB             BR_91BB:
3360   91BB C6              VEJ  (C6)                       ; (C6) Correct program pointer
3361   91BC DE              VEJ  (DE) \ ABRF(BR_91D2)       ; (DE) Calculates formula pointed to by Y-Reg, passes the result to AR-X. 
3361   91BD 14          
3362   91BE D0              VEJ  (D0) \ 
3362   91BF             
3363   91BF 80                  ABYT($80) \ ABRF(BR_91D2)   ; (D0) Convert AR-X to Integer & load in U-Reg. Area check by D1, if exceeded branch
3363   91C0 11          
3364   91C1 F4              VEJ  (F4) \ AWRD(BR_8803)       ; (F4) Transfer 16-bit value from X-Reg to memory page 78XX
3364   91C2 88 03       
3365   91C4 6C 44           CPI  UH,$44                     ; 
3366   91C6 89 07           BZR  BR_91CF                    ; $91CF
3367   91C8 6E 49           CPI  UL,$49                     ; 
3368   91CA 89 03           BZR  BR_91CF                    ; $91CF
3369   91CC BA 88 F7        JMP  $88F7                      ; ***bug? seems to jump to middle of line
3370   91CF             
3371   91CF             BR_91CF:
3372   91CF 68 1B           LDI  UH,$1B                     ; 
3373   91D1 E0              VEJ  (E0)                       ; (E0) Returns error message if UH is not 00
3374   91D2             
3375   91D2             BR_91D2:
3376   91D2 E0              VEJ  (E0)                       ; (E0) Returns error message if UH is not 00
3377   91D3             ;% LB_PRINT END
3378   91D3             ;------------------------------------------------------------------------------------------------------------
3379   91D3             
3380   91D3             
3381   91D3             
3382   91D3             ;------------------------------------------------------------------------------------------------------------
3383   91D3             ; $91D3 MODE - module box MB4, MB8, turns corresponding module on and off.
3384   91D3             ; Called from: 
3385   91D3             ; Arguments: (Param.),  (Param.) M1, M2, Mn
3386   91D3             ; Outputs: 
3387   91D3             ; RegMod: 
3388   91D3             ;------------------------------------------------------------------------------------------------------------
3389   91D3             ;% LB_MODE START
3390   91D3             MODE:
3391   91D3 FD E9 77 E0     ANI  #(VIDEORAM + $07E0),$00    ; $77E0
3391   91D7 00 
3392   91D8             
3393   91D8             BR_91D8:
3394   91D8 C2               VEJ  (C2) \ 
3394   91D9             
3395   91D9 4D                  ACHR($4D) \ ABRF(BR_9219)   ; Checks for $4D 'M' char. If found, a branch.
3395   91DA 3E          
3396   91DB BE 91 EF         SJP  (BR_91EF)                 ; $91EF
3397   91DE 15               LDA  (Y)                       ; 
3398   91DF B7 2C            CPI  A,$2C                     ; 
3399   91E1 89 03            BZR  BR_91E6                   ; A <> $2C
3400   91E3 54               INC  Y                         ; 
3401   91E4 9E 0E            BCH  BR_91D8                   ; $91D8
3402   91E6             
3403   91E6             BR_91E6:
3404   91E6 FD A5 77 E0     LDA  #(VIDEORAM + $07E0)        ; 
3405   91EA FD AE D8 00     STA  #($D800)                   ; ***IWS??
3406   91EE E2              VEJ  (E2)                       ; (E2) - BASIC interpreter: Y-Reg points to command or line end
3407   91EF             
3408   91EF             BR_91EF:
3409   91EF DE              VEJ  (DE) \ ABRF(BR_9218)       ; (DE) Calculates formula pointed to by Y-Reg, passes the result to AR-X., if error branch
3409   91F0 27          
3410   91F1 D0              VEJ  (D0) \ 
3410   91F2             
3411   91F2 10                  ABYT($10) \ ABRF(BR_9218)   ; (D0) Convert AR-X to Integer & load in U-Reg. Area check by D1, if exceeded branch
3411   91F3 24          
3412   91F4 6C 01           CPI  UH,$01                     ; 
3413   91F6 81 03           BCR  BR_91FB                    ; UH < $01
3414   91F8 68 13           LDI  UH,$13                     ; 
3415   91FA E0              VEJ  (E0)                       ; (E0) Returns error message if UH is not 00
3416   91FB             
3417   91FB             BR_91FB:
3418   91FB 6E 09           CPI  UL,$09                     ; 
3419   91FD 89 03           BZR  BR_9202                    ; UL <> $09
3420   91FF 68 13           LDI  UH,$13                     ; 
3421   9201 E0              VEJ  (E0)                       ; (E0) Returns error message if UH is not 00
3422   9202             
3423   9202             BR_9202: 
3424   9202 6E 00           CPI  UL,$00                     ; 
3425   9204 89 02           BZR  BR_9208                    ; UL <> $00
3426   9206 6A 09           LDI  UL,$09                     ; 
3427   9208             
3428   9208             BR_9208:
3429   9208 62              DEC  UL                         ; 
3430   9209 B5 00           LDI  A,$00                      ; 
3431   920B FB              SEC                             ; 
3432   920C             
3433   920C             BR_920C:
3434   920C DB              ROL                             ; 
3435   920D 88 03           LOP  UL,BR_920C                 ; $920C
3436   920F FD AB 77 E0     ORA  #(VIDEORAM + $07E0)        ; $77E0
3437   9213 FD AE 77 E0     STA  #(VIDEORAM + $07E0)        ; 
3438   9217 9A              RTN
3439   9218             
3440   9218             BR_9218:
3441   9218 E0              VEJ  (E0)                       ; (E0) Returns error message if UH is not 00
3442   9219             
3443   9219             BR_9219:
3444   9219 56              DEC  Y                          ; 
3445   921A 15              LDA  (Y)                        ; 
3446   921B CD 04           VMJ  ($04) \ ABRF(BR_921F)      ; (04) Checks whether end of command sequence or end of line
3446   921D 01          
3447   921E E2              VEJ  (E2)                       ; (E2) - BASIC interpreter: Y-Reg points to command or line end
3448   921F             
3449   921F             BR_921F:
3450   921F B7 22           CPI  A,$22                      ; 
3451   9221 89 02           BZR  BR_9225                    ; A <> $22
3452   9223 9E 4D           BCH  BR_91D8                    ; $91D8
3453   9225             
3454   9225             BR_9225:
3455   9225 C2              VEJ  (C2) \ 
3455   9226             
3456   9226 53                  ACHR($53) \ ABRF(BR_9232)   ; Checks for $53 char. If found, a branch.
3456   9227 0A          
3457   9228 DE              VEJ  (DE) \ ABRF($9233)         ; (DE) Calculates formula pointed to by Y-Reg, passes the result to AR-X. 
3457   9229 09          
3458   922A D0              VEJ  (D0) \ 
3458   922B             
3459   922B 08                  ABYT($08) \ ABRF(BR_9233)   ; (D0) Convert AR-X to Integer & load in U-Reg. Area check by D1, if exceeded branch
3459   922C 06          
3460   922D 24              LDA  UL                         ; 
3461   922E FD CC           ATP                             ; 
3462   9230 9E 5A           BCH  BR_91D8                    ; $91D8
3463   9232             
3464   9232             BR_9232:
3465   9232 E4              VEJ  (E4)                       ; (E4) Output Error 1 and return to the editor
3466   9233             
3467   9233             BR_9233:
3468   9233 E0              VEJ  (E0)                       ; (E0) Returns error message if UH is not 00
3469   9234             ;% LB_MODE END
3470   9234             ;------------------------------------------------------------------------------------------------------------
3471   9234             
3472   9234             
3473   9234             
3474   9234             ;------------------------------------------------------------------------------------------------------------
3475   9234             ; $9234 SAVE - SAVE file, data
3476   9234             ; Called from: 
3477   9234             ; Arguments: C, CM, Q, QM
3478   9234             ; Outputs: 
3479   9234             ; RegMod: 
3480   9234             ;------------------------------------------------------------------------------------------------------------
3481   9234             ;% LB_SAVE START
3482   9234             SAVE:
3483   9234 15              LDA  (Y)                        ; A = (Y) ME0
3484   9235 54              INC  Y                          ; INC Y
3485   9236 CD 34           VMJ  ($34) \ ABYT($04) \        ; (34) Syntax check and multiple branching
3485   9238 04          
3485   9239             
3486   9239 43                  ABYT($43) \ ABRF(BR_9277) \ ; If A==$43 'C' branch to BR_9277
3486   923A 3C          
3486   923B             
3487   923B 46                  ABYT($46) \ ABRF(BR_9287) \ ; If A==$46 'F' branch to BR_9287
3487   923C 4A          
3487   923D             
3488   923D 51                  ABYT($51) \ ABRF(BR_9297) \ ; If A==$51 'Q' branch to BR_9297
3488   923E 58          
3488   923F             
3489   923F 44                  ABYT($44) \ ABRF(BR_929A) \ ; If A==$44 'D' branch to BR_929A
3489   9240 59          
3489   9241             
3490   9241 52                  ABYT($52) \ ABRF(BR_92B2)   ; If A==$52 'R' branch to BR_92B2
3490   9242 6F          
3491   9243 E4              VEJ  (E4)                       ; (E4) Output Error 1 and return to the editor
3492   9244             ;% LB_SAVE END
3493   9244             ;------------------------------------------------------------------------------------------------------------
3494   9244             
3495   9244             
3496   9244             
3497   9244             ;------------------------------------------------------------------------------------------------------------
3498   9244             ; $9244 LOAD - Load file or data
3499   9244             ; Called from:
3500   9244             ; Arguments: C or CM, or Q or QM
3501   9244             ; Outputs: 
3502   9244             ; RegMod: 
3503   9244             ;------------------------------------------------------------------------------------------------------------
3504   9244             ;% LB_LOAD START
3505   9244             LOAD:
3506   9244 15               LDA  (Y)                       ; A = (Y) then INC Y
3507   9245 54               INC  Y                         ; INC Y
3508   9246 CD 34            VMJ  ($34) \ ABYT($04) \       ; (34) Syntax check and multiple branching
3508   9248 04          
3508   9249             
3509   9249 43                  ABYT($43) \ ABRF(BR_9254) \ ; If A==$43 'C' branch to BR_9254
3509   924A 09          
3509   924B             
3510   924B 46                  ABYT($46) \ ABRF(BR_9264) \ ; If A==$46 'F' branch to BR_9264
3510   924C 17          
3510   924D             
3511   924D 51                  ABYT($51) \ ABRF(BR_9274) \ ; If A==$51 'Q' branch to BR_9274 
3511   924E 25          
3511   924F             
3512   924F 44                  ABYT($44) \ ABRF(BR_92A6) \ ; If A==$44 'D' branch to BR_92A6
3512   9250 55          
3512   9251             
3513   9251 52                  ABYT($52) \ ABRF(BR_92BE)   ; If A==$52 'R' branch to BR_92BE
3513   9252 6B          
3514   9253 E4               VEJ  (E4)                      ; (E4) Output Error 1 and return to the editor
3515   9254             
3516   9254             BR_9254:
3517   9254 F4              VEJ  (F4) \ AWRD($B802)         ; (F4) Transfer 16-bit value from X-Reg to memory page 78XX ***CMT_PNAME $B800 CMT Periph name
3517   9255 B8 02       
3518   9257 6C 43           CPI  UH,$43                     ; 
3519   9259 89 07           BZR  BR_9262                    ; UH <> $43
3520   925B 6E 4D           CPI  UL,$4D                     ; 
3521   925D 89 03           BZR  BR_9262                    ; UL <> $4D
3522   925F BA B8 F9        JMP  CLOAD_150                  ; $B8F9 
3523   9262             
3524   9262             BR_9262:
3525   9262 8E 72           BCH  JMP_92D6                   ; $92D6
3526   9264             
3527   9264             BR_9264:
3528   9264 F4              VEJ  (F4) \ AWRD($A805)         ; (F4) Transfer 16-bit value from X-Reg to memory page 78XX *** PRINT_150 $A781
3528   9265 A8 05       
3529   9267 6C 4C           CPI  UH,$4C                     ;
3530   9269 89 07           BZR  BR_9272                    ; UH <> $4C
3531   926B 6E 32           CPI  UL,$32                     ;
3532   926D 89 03           BZR  BR_9272                    ; UL <> $32
3533   926F BA AD BB        JMP  GRAPH + $E8                ; $ADBB (CE150)
3534   9272             
3535   9272             BR_9272:
3536   9272 8E 62           BCH  JMP_92D6                   ; $92D6
3537   9274             
3538   9274             BR_9274:
3539   9274 BA 92 D6        JMP  JMP_92D6                   ; $92D6
3540   9277             ;% LB_LOAD END
3541   9277             ;------------------------------------------------------------------------------------------------------------
3542   9277             
3543   9277             
3544   9277             
3545   9277             
3546   9277             ;------------------------------------------------------------------------------------------------------------
3547   9277             ; $9277 xxxx - 
3548   9277             ; Called from:
3549   9277             ; Arguments: 
3550   9277             ; Outputs: 
3551   9277             ; RegMod: 
3552   9277             ;------------------------------------------------------------------------------------------------------------
3553   9277             ;% LB_xxxx START
3554   9277             BR_9277:
3555   9277 F4              VEJ  (F4) \ AWRD($B802)         ; (F4) Transfer 16-bit value from X-Reg to memory page 78XX ***CMT Perips name $B800
3555   9278 B8 02       
3556   927A 6C 43           CPI  UH,$43                     ; 
3557   927C 89 07           BZR  BR_9285                    ; If UH <> $43 'C'
3558   927E 6E 4D           CPI  UL,$4D                     ; 
3559   9280 89 03           BZR  BR_9285                    ; If UL <> $4D 'M'
3560   9282 BA B8 A6        JMP  CSAVE_150                  ; $B8A6
3561   9285             
3562   9285             BR_9285:
3563   9285 8E 4F           BCH  JMP_92D6                   ; $92D6
3564   9287             ;% LB_xxxx END
3565   9287             ;------------------------------------------------------------------------------------------------------------
3566   9287             
3567   9287             
3568   9287             
3569   9287             ;------------------------------------------------------------------------------------------------------------
3570   9287             ; $9287 xxxx - CE-150 related
3571   9287             ; Called from:
3572   9287             ; Arguments: 
3573   9287             ; Outputs: 
3574   9287             ; RegMod: 
3575   9287             ;------------------------------------------------------------------------------------------------------------
3576   9287             ;% LB_xxxx START
3577   9287             BR_9287:
3578   9287 F4              VEJ  (F4) \ AWRD($A805)         ; (F4) Transfer 16-bit value from X-Reg to memory page 78XX *** PRINT_150 $A781
3578   9288 A8 05       
3579   928A 6C 4C           CPI  UH,$4C                     ; 
3580   928C 89 07           BZR  BR_9295                    ; If UH <> $4C 'L'
3581   928E 6E 32           CPI  UL,$32                     ;
3582   9290 89 03           BZR  BR_9295                    ; If UL <> $ '2'
3583   9292 BA AB 8F        JMP  PENUPDOWN + $AC            ; $AB8F CE150 
3584   9295             
3585   9295             BR_9295:
3586   9295 8E 3F           BCH  JMP_92D6                   ; $92D6
3587   9297             
3588   9297             BR_9297:
3589   9297 BA 92 D6        JMP  JMP_92D6                   ; $92D6
3590   929A             ;% LB_xxxx END
3591   929A             ;------------------------------------------------------------------------------------------------------------
3592   929A             
3593   929A             
3594   929A             
3595   929A             ;------------------------------------------------------------------------------------------------------------
3596   929A             ; $929A xxxx - CE-150 related
3597   929A             ; Called from:
3598   929A             ; Arguments: 
3599   929A             ; Outputs: 
3600   929A             ; RegMod: 
3601   929A             ;------------------------------------------------------------------------------------------------------------
3602   929A             ;% LB_xxxx START
3603   929A             BR_929A:
3604   929A F4              VEJ  (F4) \ AWRD($A803)         ; (PRINT_150+$82) $A803 (F4) Transfer 16-bit value from X-Reg to memory page 78XX
3604   929B A8 03       
3605   929D 6C 44           CPI  UH,$44                     ; Checking version of CE-150 ROM or presence of CE-150?
3606   929F 89 03           BZR  BR_92A4                    ; UH <> $44 'D'
3607   92A1 BA A8 F4        JMP  MOTDRV + $17               ; $A8F4 CE150 
3608   92A4             
3609   92A4             BR_92A4:
3610   92A4 8E 30           BCH  JMP_92D6                   ; $92D6
3611   92A6             ;% LB_xxxx END
3612   92A6             ;------------------------------------------------------------------------------------------------------------
3613   92A6             
3614   92A6             
3615   92A6             
3616   92A6             ;------------------------------------------------------------------------------------------------------------
3617   92A6             ; $92A6 xxxx - CE-150 related
3618   92A6             ; Called from:
3619   92A6             ; Arguments: 
3620   92A6             ; Outputs: 
3621   92A6             ; RegMod: 
3622   92A6             ;------------------------------------------------------------------------------------------------------------
3623   92A6             ;% LB_xxxx START
3624   92A6             BR_92A6:
3625   92A6 F4              VEJ  (F4) \ AWRD($A803)         ; (PRINT_150+$82) $A803 (F4) Transfer 16-bit value from X-Reg to memory page 78XX
3625   92A7 A8 03       
3626   92A9 6C 44           CPI  UH,$44                     ; Checking version of CE-150 ROM or presence of CE-150?
3627   92AB 89 03           BZR  BR_92B0                    ; If A <> $44 'D'
3628   92AD BA A8 F1        JMP PRINT_150 + $170            ; $A8F1 CE150
3629   92B0             
3630   92B0             BR_92B0:
3631   92B0 8E 24           BCH  JMP_92D6                   ; $92D6
3632   92B2             ;% LB_xxxx END
3633   92B2             ;------------------------------------------------------------------------------------------------------------
3634   92B2             
3635   92B2             
3636   92B2             
3637   92B2             ;------------------------------------------------------------------------------------------------------------
3638   92B2             ; $92B2 xxxx - CE-150 related
3639   92B2             ; Called from:
3640   92B2             ; Arguments: 
3641   92B2             ; Outputs: 
3642   92B2             ; RegMod: 
3643   92B2             ;------------------------------------------------------------------------------------------------------------
3644   92B2             ;% LB_xxxx START
3645   92B2             BR_92B2:
3646   92B2 F4              VEJ  (F4) \ AWRD($A803)         ; (PRINT_150+$82) $A803 (F4) Transfer 16-bit value from X-Reg to memory page 78XX
3646   92B3 A8 03       
3647   92B5 6C 44           CPI  UH,$44                     ; Checking version of CE-150 ROM or presence of CE-150?
3648   92B7 89 03           BZR  BR_92BC                    ; If A <> $44 'D'
3649   92B9 BA A8 EE        JMP  MOTDRV + $11               ; $A8EE CE150
3650   92BC             
3651   92BC             BR_92BC:
3652   92BC 8E 18           BCH  JMP_92D6                   ; $92D6
3653   92BE             ;% LB_xxxx END
3654   92BE             ;------------------------------------------------------------------------------------------------------------
3655   92BE             
3656   92BE             
3657   92BE             
3658   92BE             ;------------------------------------------------------------------------------------------------------------
3659   92BE             ; $92BE xxxx - CE-150 related
3660   92BE             ; Called from:
3661   92BE             ; Arguments: 
3662   92BE             ; Outputs: 
3663   92BE             ; RegMod: 
3664   92BE             ;------------------------------------------------------------------------------------------------------------
3665   92BE             ;% LB_xxxx START
3666   92BE             BR_92BE:
3667   92BE F4              VEJ  (F4) \ AWRD($A803)         ; (PRINT_150+$82) $A803 (F4) Transfer 16-bit value from X-Reg to memory page 78XX
3667   92BF A8 03       
3668   92C1 6C 44           CPI  UH,$44                     ; Checking version of CE-150 ROM or presence of CE-150?
3669   92C3 89 03           BZR  BR_92C8                    ; If A <> $44 'D'
3670   92C5 BA A8 EB        JMP  MOTDRV + $0E               ; $A8EB CE150
3671   92C8             
3672   92C8             BR_92C8:
3673   92C8 8E 0C           BCH  JMP_92D6                   ; $92D6
3674   92CA F4              VEJ  (F4) \ AWRD($A803)         ; (PRINT_150+$82) $A803 (F4) Transfer 16-bit value from X-Reg to memory page 78XX
3674   92CB A8 03       
3675   92CD 6C 44           CPI  UH,$44                     ; Checking version of CE-150 ROM or presence of CE-150?
3676   92CF 89 03           BZR  BR_92D4                    ; If A <> $44 'D'
3677   92D1 BA A8 E8        JMP  MOTDRV + $0B               ; $A8E8 CE150
3678   92D4             
3679   92D4             BR_92D4:
3680   92D4                 ;BCH  JMP_92D6 ; $92D6
3681   92D4 9E 00           .BYTE $9E,$00                   ; asessembler calcualtes  wrong direction on 0 lenght branch
3682   92D6             ;% LB_xxxx END
3683   92D6             ;------------------------------------------------------------------------------------------------------------
3684   92D6             
3685   92D6             
3686   92D6             
3687   92D6             ;------------------------------------------------------------------------------------------------------------
3688   92D6             ; $92BE xxxx - 
3689   92D6             ; Called from:
3690   92D6             ; Arguments: 
3691   92D6             ; Outputs: 
3692   92D6             ; RegMod: 
3693   92D6             ;------------------------------------------------------------------------------------------------------------
3694   92D6             ;% LB_xxxx START
3695   92D6             JMP_92D6:
3696   92D6 68 1B           LDI  UH,$1B                     ; 
3697   92D8 E0              VEJ  (E0)                       ; (E0) Returns error message if UH is not 00
3698   92D9             ;% LB_xxxx END
3699   92D9             ;------------------------------------------------------------------------------------------------------------
3700   92D9             
3701   92D9             
3702   92D9             
3703   92D9             ;------------------------------------------------------------------------------------------------------------
3704   92D9             ; $92D9 VERIFYQ - Compares cassette with memory
3705   92D9             ; Called from:
3706   92D9             ; Arguments: (expression)
3707   92D9             ; Outputs: 
3708   92D9             ; RegMod: 
3709   92D9             ;------------------------------------------------------------------------------------------------------------
3710   92D9             ;% LB_VERIFYQ START
3711   92D9             VERIFYQ:
3712   92D9 BA 92 D6        JMP  JMP_92D6                   ; $92D6
3713   92DC             ;% LB_VERIFYQ END
3714   92DC             ;------------------------------------------------------------------------------------------------------------
3715   92DC             
3716   92DC             
3717   92DC             
3718   92DC             ;------------------------------------------------------------------------------------------------------------
3719   92DC             ; $92DC CHAIN - 
3720   92DC             ; Called from 
3721   92DC             ; Arguments: 
3722   92DC             ; Outputs: 
3723   92DC             ; RegMod: 
3724   92DC             ;------------------------------------------------------------------------------------------------------------
3725   92DC             ;% LB_CHAIN START
3726   92DC             CHAIN:
3727   92DC 55              LIN  Y                          ; A = (Y) then INC Y
3728   92DD CD 34           VMJ  ($34) \ ABYT($01) \        ; (34) Syntax check and multiple branching
3728   92DF 01          
3728   92E0             
3729   92E0 43                  ABYT($43) \ ABRF(BR_92F5) \ ; If A==$43 'C' branch to BR_92F5
3729   92E1 13          
3729   92E2             
3730   92E2 51                  ABYT($51) \ ABRF(BR_9305)   ; If A==$51 'Q' branch to BR_9305
3730   92E3 21          
3731   92E4 F4              VEJ  (F4) \ AWRD($B802)         ; (F4) Transfer 16-bit value from X-Reg to memory page 78XX
3731   92E5 B8 02       
3732   92E7 6C 43           CPI  UH,$43                     ; 
3733   92E9 89 08           BZR  BR_92F3                    ; If UH <> $43
3734   92EB 6E 4D           CPI  UL,$4D                     ; 
3735   92ED 89 04           BZR  BR_92F3                    ; If UL <> $4D
3736   92EF 56              DEC  Y                          ; 
3737   92F0 BA BB 6A        JMP  CHAIN_150                  ; $BB6A
3738   92F3             
3739   92F3             BR_92F3:
3740   92F3 9E 1F           BCH  JMP_92D6                   ; $92D6
3741   92F5             
3742   92F5             BR_92F5:
3743   92F5 F4              VEJ  (F4) \ AWRD($B802)         ; (F4) Transfer 16-bit value from X-Reg to memory page 78XX ***CMT Periph name $B800
3743   92F6 B8 02       
3744   92F8 6C 43           CPI  UH,$43                     ;
3745   92FA 89 07           BZR  BR_9303                    ; If UH <> $43
3746   92FC 6E 4D           CPI  UL,$4D                     ;
3747   92FE 89 03           BZR  BR_9303                    ; If UH <> $4D
3748   9300 BA BB 6A        JMP  CHAIN_150                  ; $BB6A
3749   9303             
3750   9303             BR_9303:
3751   9303 9E 2F           BCH  JMP_92D6                   ; $92D6
3752   9305             
3753   9305             BR_9305:
3754   9305 BA 92 D6        JMP  JMP_92D6                   ; $92D6
3755   9308             ;% LB_CHAIN END
3756   9308             ;------------------------------------------------------------------------------------------------------------
3757   9308             
3758   9308             
3759   9308             
3760   9308             ;------------------------------------------------------------------------------------------------------------
3761   9308             ; KEY - Allows you to switch on a keyboard e.g. CE-153 or an optional large keyboard
3762   9308             ; KEY BEEP - Turn keep beep on or off
3763   9308             ; Usage: KEY ON(OFF) or KEY BEEP ON(OFF)
3764   9308             ; Called from:
3765   9308             ; Arguments: 
3766   9308             ; Outputs: 
3767   9308             ; RegMod: 
3768   9308             ;------------------------------------------------------------------------------------------------------------
3769   9308             ;% LB_KEY START
3770   9308             KEY:
3771   9308 C2              VEJ  (C2) \ 
3771   9309             
3772   9309 F1 82               AWRD($F182) \ ABRF(BR_9323) ; Checks for 'BEEP' token. If found, a branch.
3772   930B 17          
3773   930C C2              VEJ  (C2) \ 
3773   930D             
3774   930D F1 9C               AWRD($F19C) \ ABRF(BR_9317) ; Checks for 'ON' token. If found, a branch.
3774   930F 07          
3775   9310 B5 55           LDI  A,$55                      ; Set a mode flag?
3776   9312 FD AE 77 E2     STA  #(VIDEORAM + $07E2)        ; $77E2 
3777   9316 E2              VEJ  (E2)                       ; (E2) - BASIC interpreter: Y-Reg points to command or line end
3778   9317             
3779   9317             BR_9317:
3780   9317 C6              VEJ  (C6)                       ; (C6) Correct program pointer
3781   9318 C2              VEJ  (C2) \ 
3781   9319             
3782   9319 F1 9E               AWRD($F19E) \ ABRF(BR_9322) ; Checks for 'OFF' token. If found, a branch.
3782   931B 06          
3783   931C FD E9 77 E2     ANI  #(VIDEORAM + $07E2),$00    ;
3783   9320 00 
3784   9321 E2              VEJ  (E2)                       ; (E2) - BASIC interpreter: Y-Reg points to command or line end
3785   9322             
3786   9322             BR_9322:
3787   9322 E4              VEJ  (E4)                       ; (E4) Output Error 1 and return to the editor
3788   9323             
3789   9323             BR_9323:
3790   9323 C6              VEJ  (C6)                       ; (C6) Correct program pointer
3791   9324 C2              VEJ  (C2) \ 
3791   9325             
3792   9325 F1 9C               AWRD($F19C) \ ABRF(BR_9339) ; Checks for 'ON' token. If found, a branch.
3792   9327 11          
3793   9328 F4              VEJ  (F4) \ AWRD($A803)         ; (PRINT_150+$82) $A803 (F4) Transfer 16-bit value from X-Reg to memory page 78XX
3793   9329 A8 03       
3794   932B 6C 44           CPI  UH,$44                     ; Checking version of CE-150 ROM or presence of CE-150?
3795   932D 89 07           BZR  BR_9336                    ; If UH <> $44 'D'
3796   932F 6E 49           CPI  UL,$49                     ;
3797   9331 89 03           BZR  BR_9336                    ; If UL <> $49 'I'
3798   9333 BA A8 FD        JMP  MOTDRV + $20               ; $A8FD
3799   9336             
3800   9336             BR_9336:
3801   9336 68 1B           LDI  UH,$1B                     ; 
3802   9338 E0              VEJ  (E0)                       ; (E0) Returns error message if UH is not 00
3803   9339             
3804   9339             BR_9339:
3805   9339 C6              VEJ  (C6)                       ; (C6) Correct program pointer
3806   933A C2              VEJ  (C2) \ 
3806   933B             
3807   933B F1 9E               AWRD($F19E) \ ABRF(BR_934F) ; Checks for 'OFF' token. If found, a branch.
3807   933D 11          
3808   933E F4              VEJ  (F4) \ AWRD($A803)         ; (PRINT_150+$82) $A803 (F4) Transfer 16-bit value from X-Reg to memory page 78XX
3808   933F A8 03       
3809   9341 6C 44           CPI  UH,$44                     ; Checking version of CE-150 ROM or presence of CE-150?
3810   9343 89 07           BZR  BR_934C                    ; If UH <> $44 'D'
3811   9345 6E 49           CPI  UL,$49                     ; 
3812   9347 89 03           BZR  BR_934C                    ; If UL <> $49 'I'
3813   9349 BA A8 FA        JMP  MOTDRV + $1D               ; $A8FA
3814   934C             
3815   934C             BR_934C: 
3816   934C 68 1B           LDI  UH,$1B                     ; 
3817   934E E0              VEJ  (E0)                       ; (E0) Returns error message if UH is not 00
3818   934F             
3819   934F             BR_934F:
3820   934F E4              VEJ  (E4)                       ; (E4) Output Error 1 and return to the editor
3821   9350 FD C8           PSH  A                          ; 
3822   9352 FD A5 77 F0     LDA  #(VIDEORAM + $07F0)        ; $77F0
3823   9356 B7 55           CPI  A,$55                      ; 
3824   9358 89 0E           BZR  BR_9368                    ; A <> $55 'U'
3825   935A FD A5 77 F1     LDA  #(VIDEORAM + $07F1)        ; 
3826   935E 08              STA  XH                         ; 
3827   935F FD A5 77 F2     LDA  #(VIDEORAM + $07F2)        ; 
3828   9363 0A              STA  XL                         ; 
3829   9364 FD 8A           POP  A                          ; 
3830   9366 FD 5E           STX  P                          ; Store X to Program Counter. a.k.a. JUMP
3831   9368             
3832   9368             BR_9368:
3833   9368 FD 8A           POP  A                          ; 
3834   936A BA C4 AF        JMP  TRCROUTINE                 ; $C4AF
3835   936D             ;% LB_KEY END
3836   936D             ;------------------------------------------------------------------------------------------------------------
3837   936D             
3838   936D             
3839   936D             
3840   936D             ;------------------------------------------------------------------------------------------------------------
3841   936D             ; $936D-$9394 - IWS Splash screen text
3842   936D             ;------------------------------------------------------------------------------------------------------------
3843   936D             ;% LB_IWS_SPLASH START
3844   936D             IWS_SPLASH:
3845   936D 54 45 4C 2E     .TEXT  "TEL. 071"
3845   9371 20 30 37 31 
3846   9375 36 31 2F 37     .TEXT  "61/79021"
3846   9379 39 30 32 31 
3847   937D 20 61 6E 72     .TEXT  " anrufen"
3847   9381 75 66 65 6E 
3848   9385 20 21 48 4F     .TEXT  " !HO V.1"
3848   9389 20 56 2E 31 
3849   938D 2E 30 20 38     .TEXT  ".0 859  "
3849   9391 35 39 20 20 
3850   9395             ;% LB_IWS_SPLASH END
3851   9395             ;------------------------------------------------------------------------------------------------------------
3852   9395             
3853   9395             
3854   9395             
3855   9395             ;------------------------------------------------------------------------------------------------------------
3856   9395             ; $9395 - $93FF Filler
3857   9395             ;------------------------------------------------------------------------------------------------------------
3858   9395             ;% LB_IWS_xxxx START
3859   9395             FILLER_9395: ;$9395
3860   9395 00 00 00 00     .BYTE  $00,$00,$00,$00,$00,$00,$00,$00
3860   9399 00 00 00 00 
3861   939D 00 00 00 00     .BYTE  $00,$00,$00,$00,$00,$00,$00,$00
3861   93A1 00 00 00 00 
3862   93A5 00 00 00 00     .BYTE  $00,$00,$00,$00,$00,$00,$00,$00
3862   93A9 00 00 00 00 
3863   93AD 00 00 00 00     .BYTE  $00,$00,$00,$00,$00,$00,$00,$00
3863   93B1 00 00 00 00 
3864   93B5 00 00 00 00     .BYTE  $00,$00,$00,$00,$00,$00,$00,$00
3864   93B9 00 00 00 00 
3865   93BD 00 00 00 00     .BYTE  $00,$00,$00,$00,$00,$00,$00,$00
3865   93C1 00 00 00 00 
3866   93C5 00 00 00 00     .BYTE  $00,$00,$00,$00,$00,$00,$00,$00
3866   93C9 00 00 00 00 
3867   93CD 00 00 00 00     .BYTE  $00,$00,$00,$00,$00,$00,$00,$00
3867   93D1 00 00 00 00 
3868   93D5 00 00 00 00     .BYTE  $00,$00,$00,$00,$00,$00,$00,$00
3868   93D9 00 00 00 00 
3869   93DD 00 00 00 00     .BYTE  $00,$00,$00,$00,$00,$00,$00,$00
3869   93E1 00 00 00 00 
3870   93E5 00 00 00 00     .BYTE  $00,$00,$00,$00,$00,$00,$00,$00
3870   93E9 00 00 00 00 
3871   93ED 00 00 00 00     .BYTE  $00,$00,$00,$00,$00,$00,$00,$00
3871   93F1 00 00 00 00 
3872   93F5 00 00 00 00     .BYTE  $00,$00,$00,$00,$00,$00,$00,$00
3872   93F9 00 00 00 00 
3873   93FD 00 00 00        .BYTE  $00,$00,$00
3874   9400             ;% LB_IWS_xxxx END
3875   9400             ;------------------------------------------------------------------------------------------------------------
3876   9400             
3877   9400             
3878   9400             ;------------------------------------------------------------------------------------------------------------
3879   9400             ; $9400 TXTADDR_TBL - Not sure what it is used for
3880   9400             ; last character of name has bit 7 set. Use macro EOW to accomplish this.
3881   9400             ; $9400 - $9F80
3882   9400             ;------------------------------------------------------------------------------------------------------------
3883   9400             ;% LB_TXTADDR_TBL START
3884   9400             TXTADDR_TBL:
3885   9400             ;         NAME              BIT 7 SET      ADDRESS
3886   9400 56 4C 49 53     .TEXT "VLIS"         \  EOW('T')  \  .WORD $8000
3886   9404 D4          
3886   9405 80 00       
3887   9407 4F 50 4E 43     .TEXT "OPNCR"        \  EOW('T')  \  .WORD $0040
3887   940B 52 
3887   940C D4          
3887   940D 00 40       
3888   940F 54 45 53 54     .TEXT "TESTEN"       \  EOW('D')  \  .WORD $0004
3888   9413 45 4E 
3888   9415 C4          
3888   9416 00 04       
3889   9418 43 48 41 4E     .TEXT "CHANGETOKE"   \  EOW('N')  \  .WORD $001C
3889   941C 47 45 54 4F 
3889   9420 4B 45 
3889   9422 CE          
3889   9423 00 1C       
3890   9425 53 45 41 52     .TEXT "SEARCHENTE"   \  EOW('R')  \  .WORD $0020
3890   9429 43 48 45 4E 
3890   942D 54 45 
3890   942F D2          
3890   9430 00 20       
3891   9432 4D 41 4B 45     .TEXT "MAKEPARAME"   \  EOW('T')  \  .WORD $002E
3891   9436 50 41 52 41 
3891   943A 4D 45 
3891   943C D4          
3891   943D 00 2E       
3892   943F 4D 45 48 52     .TEXT "MEHRFACHVE"   \  EOW('R')  \  .WORD $0034
3892   9443 46 41 43 48 
3892   9447 56 45 
3892   9449 D2          
3892   944A 00 34       
3893   944C 4C 44 58 52     .TEXT "LDXRESERVE"   \  EOW('S')  \  .WORD $0038
3893   9450 45 53 45 52 
3893   9454 56 45 
3893   9456 D3          
3893   9457 00 38       
3894   9459 52 53 48 49     .TEXT "RSHIFT7BY"    \  EOW('T')  \  .WORD $0074
3894   945D 46 54 37 42 
3894   9461 59 
3894   9462 D4          
3894   9463 00 74       
3895   9465 4D 4F 56 45     .TEXT "MOVESTROUT"   \  EOW('P')  \  .WORD $0094
3895   9469 53 54 52 4F 
3895   946D 55 54 
3895   946F D0          
3895   9470 00 94       
3896   9472 44 49 53 50     .TEXT "DISPLAYTEX"   \  EOW('T')  \  .WORD $0092
3896   9476 4C 41 59 54 
3896   947A 45 58 
3896   947C D4          
3896   947D 00 92       
3897   947F 4D 41 4B 45     .TEXT "MAKEUSIN"     \  EOW('G')  \  .WORD $0096
3897   9483 55 53 49 4E 
3897   9487 C7          
3897   9488 00 96       
3898   948A 57 41 52 54     .TEXT "WARTEULAN"    \  EOW('G')  \  .WORD $00AC
3898   948E 45 55 4C 41 
3898   9492 4E 
3898   9493 C7          
3898   9494 00 AC       
3899   9496 4C 44 55 5A     .TEXT "LDUZEICHE"    \  EOW('N')  \  .WORD $00C0
3899   949A 45 49 43 48 
3899   949E 45 
3899   949F CE          
3899   94A0 00 C0       
3900   94A2 54 45 53 54     .TEXT "TESTTOKZE"    \  EOW('I')  \  .WORD $00C2
3900   94A6 54 4F 4B 5A 
3900   94AA 45 
3900   94AB C9          
3900   94AC 00 C2       
3901   94AE 54 45 53 54     .TEXT "TESTUTOKZ"    \  EOW('E')  \  .WORD $00C4
3901   94B2 55 54 4F 4B 
3901   94B6 5A 
3901   94B7 C5          
3901   94B8 00 C4       
3902   94BA 44 45 43 59     .TEXT "DECYTOKZE"    \  EOW('I')  \  .WORD $00C6
3902   94BE 54 4F 4B 5A 
3902   94C2 45 
3902   94C3 C9          
3902   94C4 00 C6       
3903   94C6 4E 4F 45 4E     .TEXT "NOENDTES"     \  EOW('T')  \  .WORD $00C8
3903   94CA 44 54 45 53 
3903   94CE D4          
3903   94CF 00 C8       
3904   94D1 4C 41 44 45     .TEXT "LADE78NN"     \  EOW('X')  \  .WORD $00CA
3904   94D5 37 38 4E 4E 
3904   94D9 D8          
3904   94DA 00 CA       
3905   94DC 4C 41 44 45     .TEXT "LADEXAUS7"    \  EOW('8')  \  .WORD $00CC
3905   94E0 58 41 55 53 
3905   94E4 37 
3905   94E5 B8          
3905   94E6 00 CC       
3906   94E8 41 52 49 54     .TEXT "ARITMETI"     \  EOW('K')  \  .WORD $00D0
3906   94EC 4D 45 54 49 
3906   94F0 CB          
3906   94F1 00 D0       
3907   94F3 54 45 53 54     .TEXT "TESTSTRNU"    \  EOW('M')  \  .WORD $00D2
3907   94F7 53 54 52 4E 
3907   94FB 55 
3907   94FC CD          
3907   94FD 00 D2       
3908   94FF 54 45 53 54     .TEXT "TESTBASICRU"  \  EOW('N')  \  .WORD $00D8
3908   9503 42 41 53 49 
3908   9507 43 52 55 
3908   950A CE          
3908   950B 00 D8       
3909   950D 53 54 52 49     .TEXT "STRINGINF"    \  EOW('O')  \  .WORD $00DC
3909   9511 4E 47 49 4E 
3909   9515 46 
3909   9516 CF          
3909   9517 00 DC       
3910   9519 41 55 53 44     .TEXT "AUSDRUC"      \  EOW('K')  \  .WORD $00DE
3910   951D 52 55 43 
3910   9520 CB          
3910   9521 00 DE       
3911   9523 45 52 52 4F     .TEXT "ERRO"         \  EOW('R')  \  .WORD $00E0
3911   9527 D2          
3911   9528 00 E0       
3912   952A 49 4E 54 45     .TEXT "INTERPRETE"   \  EOW('R')  \  .WORD $00E2
3912   952E 52 50 52 45 
3912   9532 54 45 
3912   9534 D2          
3912   9535 00 E2       
3913   9537 45 52 52 4F     .TEXT "ERROR"        \  EOW('1')  \  .WORD $00E4
3913   953B 52 
3913   953C B1          
3913   953D 00 E4       
3914   953F 43 4C 45 41     .TEXT "CLEARLC"      \  EOW('D')  \  .WORD $00F2
3914   9543 52 4C 43 
3914   9546 C4          
3914   9547 00 F2       
3915   9549 4C 41 44 45     .TEXT "LADEUAUSNNN"  \  EOW('N')  \  .WORD $00F4
3915   954D 55 41 55 53 
3915   9551 4E 4E 4E 
3915   9554 CE          
3915   9555 00 F4       
3916   9557 54 45 53 54     .TEXT "TESTKE"       \  EOW('Y')  \  .WORD $E42C
3916   955B 4B 45 
3916   955D D9          
3916   955E E4 2C       
3917   9560 53 54 4F 52     .TEXT "STORESTRIN"   \  EOW('G')  \  .WORD $DFB4
3917   9564 45 53 54 52 
3917   9568 49 4E 
3917   956A C7          
3917   956B DF B4       
3918   956D 53 54 4F 52     .TEXT "STOREINDST"   \  EOW('R')  \  .WORD $DFC5
3918   9571 45 49 4E 44 
3918   9575 53 54 
3918   9577 D2          
3918   9578 DF C5       
3919   957A 46 41 52 42     .TEXT "FARBRA"       \  EOW('M')  \  .WORD $6000
3919   957E 52 41 
3919   9580 CD          
3919   9581 60 00       
3920   9583 47 52 41 50     .TEXT "GRAPHIKRA"    \  EOW('M')  \  .WORD $3000
3920   9587 48 49 4B 52 
3920   958B 41 
3920   958C CD          
3920   958D 30 00       
3921   958F 56 49 44 45     .TEXT "VIDEORA"      \  EOW('M')  \  .WORD $7000
3921   9593 4F 52 41 
3921   9596 CD          
3921   9597 70 00       
3922   9599 56 49 44 45     .TEXT "VIDEOPROZE"   \  EOW('S')  \  .WORD $7800
3922   959D 4F 50 52 4F 
3922   95A1 5A 45 
3922   95A3 D3          
3922   95A4 78 00       
3923   95A6 42 41 53 49     .TEXT "BASICEND"     \  EOW('H')  \  .WORD $7867
3923   95AA 43 45 4E 44 
3923   95AE C8          
3923   95AF 78 67       
3924   95B1 42 41 53 49     .TEXT "BASICEND"     \  EOW('L')  \  .WORD $7868
3924   95B5 43 45 4E 44 
3924   95B9 CC          
3924   95BA 78 68       
3925   95BC 42 41 53 49     .TEXT "BASICANF"     \  EOW('H')  \  .WORD $7865
3925   95C0 43 41 4E 46 
3925   95C4 C8          
3925   95C5 78 65       
3926   95C7 42 41 53 49     .TEXT "BASICANF"     \  EOW('L')  \  .WORD $7866
3926   95CB 43 41 4E 46 
3926   95CF CC          
3926   95D0 78 66       
3927   95D2 53 54 41 54     .TEXT "STATUS"       \  EOW('H')  \  .WORD $764E
3927   95D6 55 53 
3927   95D8 C8          
3927   95D9 76 4E       
3928   95DB 53 54 41 54     .TEXT "STATUS"       \  EOW('L')  \  .WORD $764F
3928   95DF 55 53 
3928   95E1 CC          
3928   95E2 76 4F       
3929   95E4 49 4E 50 55     .TEXT "INPUTBUFFE"   \  EOW('R')  \  .WORD $7BB0
3929   95E8 54 42 55 46 
3929   95EC 46 45 
3929   95EE D2          
3929   95EF 7B B0       
3930   95F1 54 41 53 54     .TEXT "TASTUMLEI"    \  EOW('T')  \  .WORD $79D4
3930   95F5 55 4D 4C 45 
3930   95F9 49 
3930   95FA D4          
3930   95FB 79 D4       
3931   95FD 54 41 53 54     .TEXT "TASTUMPOI"    \  EOW('H')  \  .WORD $785B
3931   9601 55 4D 50 4F 
3931   9605 49 
3931   9606 C8          
3931   9607 78 5B       
3932   9609 54 41 53 54     .TEXT "TASTUMPOI"    \  EOW('L')  \  .WORD $785C
3932   960D 55 4D 50 4F 
3932   9611 49 
3932   9612 CC          
3932   9613 78 5C       
3933   9615 57 41 49 54     .TEXT "WAITY"        \  EOW('N')  \  .WORD $7871
3933   9619 59 
3933   961A CE          
3933   961B 78 71       
3934   961D 57 41 49 54     .TEXT "WAITCOUNT"    \  EOW('H')  \  .WORD $7872
3934   9621 43 4F 55 4E 
3934   9625 54 
3934   9626 C8          
3934   9627 78 72       
3935   9629 57 41 49 54     .TEXT "WAITCOUNT"    \  EOW('L')  \  .WORD $7873
3935   962D 43 4F 55 4E 
3935   9631 54 
3935   9632 CC          
3935   9633 78 73       
3936   9635 42 4C 49 4E     .TEXT "BLINKFLA"     \  EOW('G')  \  .WORD $787C
3936   9639 4B 46 4C 41 
3936   963D C7          
3936   963E 78 7C       
3937   9640 4F 55 54 50     .TEXT "OUTPBUFFP"    \  EOW('O')  \  .WORD $788F
3937   9644 42 55 46 46 
3937   9648 50 
3937   9649 CF          
3937   964A 78 8F       
3938   964C 53 54 52 49     .TEXT "STRIBUFFP"    \  EOW('O')  \  .WORD $7894
3938   9650 42 55 46 46 
3938   9654 50 
3938   9655 CF          
3938   9656 78 94       
3939   9658 55 53 49 4E     .TEXT "USINGFORMA"   \  EOW('T')  \  .WORD $7895
3939   965C 47 46 4F 52 
3939   9660 4D 41 
3939   9662 D4          
3939   9663 78 95       
3940   9665 55 53 49 4E     .TEXT "USINGLAEN"    \  EOW('G')  \  .WORD $7896
3940   9669 47 4C 41 45 
3940   966D 4E 
3940   966E C7          
3940   966F 78 96       
3941   9671 55 53 49 4E     .TEXT "USINGSTRIN"   \  EOW('G')  \  .WORD $7897
3941   9675 47 53 54 52 
3941   9679 49 4E 
3941   967B C7          
3941   967C 78 97       
3942   967E 53 45 41 52     .TEXT "SEARCHADR"    \  EOW('H')  \  .WORD $78A6
3942   9682 43 48 41 44 
3942   9686 52 
3942   9687 C8          
3942   9688 78 A6       
3943   968A 53 45 41 52     .TEXT "SEARCHADR"    \  EOW('L')  \  .WORD $78A7
3943   968E 43 48 41 44 
3943   9692 52 
3943   9693 CC          
3943   9694 78 A7       
3944   9696 4D 4F 44 55     .TEXT "MODULS"       \  EOW('W')  \  .WORD $D800
3944   969A 4C 53 
3944   969C D7          
3944   969D D8 00       
3945   969F 4D 4F 44 55     .TEXT "MODU"         \  EOW('L')  \  .WORD $77E0
3945   96A3 CC          
3945   96A4 77 E0       
3946   96A6 4B 45 59 42     .TEXT "KEYBEE"       \  EOW('P')  \  .WORD $77E2
3946   96AA 45 45 
3946   96AC D0          
3946   96AD 77 E2       
3947   96AF 4C 52 45 43     .TEXT "LREC"         \  EOW('L')  \  .WORD $77D1
3947   96B3 CC          
3947   96B4 77 D1       
3948   96B6 55 50           .TEXT "UP"           \  EOW('L')  \  .WORD $77D2
3948   96B8 CC          
3948   96B9 77 D2       
3949   96BB 49 4E           .TEXT "IN"           \  EOW('P')  \  .WORD $77D3
3949   96BD D0          
3949   96BE 77 D3       
3950   96C0 43 55 52        .TEXT "CUR"          \  EOW('H')  \  .WORD $77D4
3950   96C3 C8          
3950   96C4 77 D4       
3951   96C6 43 55 52        .TEXT "CUR"          \  EOW('L')  \  .WORD $77D5
3951   96C9 CC          
3951   96CA 77 D5       
3952   96CC 43 55 52 50     .TEXT "CURP"         \  EOW('1')  \  .WORD $77D6
3952   96D0 B1          
3952   96D1 77 D6       
3953   96D3 4D 4F 4D 45     .TEXT "MOMENTVCU"    \  EOW('R')  \  .WORD $774E
3953   96D7 4E 54 56 43 
3953   96DB 55 
3953   96DC D2          
3953   96DD 77 4E       
3954   96DF 4D 4F 4D 45     .TEXT "MOMENTHCU"    \  EOW('R')  \  .WORD $774F
3954   96E3 4E 54 48 43 
3954   96E7 55 
3954   96E8 D2          
3954   96E9 77 4F       
3955   96EB 4B 4F 4D        .TEXT "KOM"          \  EOW('P')  \  .WORD $77D7
3955   96EE D0          
3955   96EF 77 D7       
3956   96F1 49 4E 50        .TEXT "INP"          \  EOW('P')  \  .WORD $77D8
3956   96F4 D0          
3956   96F5 77 D8       
3957   96F7 56 41 52 49     .TEXT "VARIABL"      \  EOW('E')  \  .WORD $77D9
3957   96FB 41 42 4C 
3957   96FE C5          
3957   96FF 77 D9       
3958   9701 43 55 52 53     .TEXT "CURSORAR"     \  EOW('T')  \  .WORD $77DA
3958   9705 4F 52 41 52 
3958   9709 D4          
3958   970A 77 DA       
3959   970C 43 55 52 53     .TEXT "CURSORART"    \  EOW('L')  \  .WORD $77DB
3959   9710 4F 52 41 52 
3959   9714 54 
3959   9715 CC          
3959   9716 77 DB       
3960   9718 46 41 52 42     .TEXT "FARB"         \  EOW('E')  \  .WORD $77DC
3960   971C C5          
3960   971D 77 DC       
3961   971F 48 49 4E 54     .TEXT "HINTERG"      \  EOW('R')  \  .WORD $77DD
3961   9723 45 52 47 
3961   9726 D2          
3961   9727 77 DD       
3962   9729 5A 45 49 43     .TEXT "ZEICHFARB"    \  EOW('E')  \  .WORD $77DE
3962   972D 48 46 41 52 
3962   9731 42 
3962   9732 C5          
3962   9733 77 DE       
3963   9735 56 41 52        .TEXT "VAR"          \  EOW('2')  \  .WORD $77DF
3963   9738 B2          
3963   9739 77 DF       
3964   973B 55 53 52 54     .TEXT "USRT"         \  EOW('R')  \  .WORD $77F0
3964   973F D2          
3964   9740 77 F0       
3965   9742 55 53 52 54     .TEXT "USRTR"        \  EOW('1')  \  .WORD $77F1
3965   9746 52 
3965   9747 B1          
3965   9748 77 F1       
3966   974A 55 53 52 54     .TEXT "USRTR"        \  EOW('2')  \  .WORD $77F2
3966   974E 52 
3966   974F B2          
3966   9750 77 F2       
3967   9752 50 52 49 4E     .TEXT "PRINTFLA"     \  EOW('G')  \  .WORD $77F3
3967   9756 54 46 4C 41 
3967   975A C7          
3967   975B 77 F3       
3968   975D 49 4E 46 4F     .TEXT "INFOR"        \  EOW('M')  \  .WORD $77F4
3968   9761 52 
3968   9762 CD          
3968   9763 77 F4       
3969   9765 49 4E 50 46     .TEXT "INPFLA"       \  EOW('G')  \  .WORD $77E1
3969   9769 4C 41 
3969   976B C7          
3969   976C 77 E1       
3970   976E 54 4F 4B 45     .TEXT "TOKEN0"       \  EOW('1')  \  .WORD $F0DD
3970   9772 4E 30 
3970   9774 B1          
3970   9775 F0 DD       
3971   9777 54 4F 4B 45     .TEXT "TOKEN0"       \  EOW('2')  \  .WORD $F0DE
3971   977B 4E 30 
3971   977D B2          
3971   977E F0 DE       
3972   9780 54 4F 4B 45     .TEXT "TOKEN0"       \  EOW('3')  \  .WORD $F0DF
3972   9784 4E 30 
3972   9786 B3          
3972   9787 F0 DF       
3973   9789 54 4F 4B 45     .TEXT "TOKEN0"       \  EOW('4')  \  .WORD $F088
3973   978D 4E 30 
3973   978F B4          
3973   9790 F0 88       
3974   9792 54 4F 4B 45     .TEXT "TOKEN0"       \  EOW('5')  \  .WORD $F0EB
3974   9796 4E 30 
3974   9798 B5          
3974   9799 F0 EB       
3975   979B 54 4F 4B 45     .TEXT "TOKEN0"       \  EOW('6')  \  .WORD $F0B1
3975   979F 4E 30 
3975   97A1 B6          
3975   97A2 F0 B1       
3976   97A4 54 4F 4B 45     .TEXT "TOKEN0"       \  EOW('7')  \  .WORD $F084
3976   97A8 4E 30 
3976   97AA B7          
3976   97AB F0 84       
3977   97AD 54 4F 4B 45     .TEXT "TOKEN0"       \  EOW('8')  \  .WORD $F0E0
3977   97B1 4E 30 
3977   97B3 B8          
3977   97B4 F0 E0       
3978   97B6 54 4F 4B 45     .TEXT "TOKEN0"       \  EOW('9')  \  .WORD $F070
3978   97BA 4E 30 
3978   97BC B9          
3978   97BD F0 70       
3979   97BF 54 4F 4B 45     .TEXT "TOKEN1"       \  EOW('0')  \  .WORD $F0C7
3979   97C3 4E 31 
3979   97C5 B0          
3979   97C6 F0 C7       
3980   97C8 54 4F 4B 45     .TEXT "TOKEN1"       \  EOW('1')  \  .WORD $F053
3980   97CC 4E 31 
3980   97CE B1          
3980   97CF F0 53       
3981   97D1 54 4F 4B 45     .TEXT "TOKEN1"       \  EOW('2')  \  .WORD $F052
3981   97D5 4E 31 
3981   97D7 B2          
3981   97D8 F0 52       
3982   97DA 54 4F 4B 45     .TEXT "TOKEN1"       \  EOW('3')  \  .WORD $F0E1
3982   97DE 4E 31 
3982   97E0 B3          
3982   97E1 F0 E1       
3983   97E3 54 4F 4B 45     .TEXT "TOKEN1"       \  EOW('4')  \  .WORD $F0E8
3983   97E7 4E 31 
3983   97E9 B4          
3983   97EA F0 E8       
3984   97EC 54 4F 4B 45     .TEXT "TOKEN1"       \  EOW('5')  \  .WORD $F0E9
3984   97F0 4E 31 
3984   97F2 B5          
3984   97F3 F0 E9       
3985   97F5 54 4F 4B 45     .TEXT "TOKEN1"       \  EOW('6')  \  .WORD $F054
3985   97F9 4E 31 
3985   97FB B6          
3985   97FC F0 54       
3986   97FE 54 4F 4B 45     .TEXT "TOKEN1"       \  EOW('7')  \  .WORD $F055
3986   9802 4E 31 
3986   9804 B7          
3986   9805 F0 55       
3987   9807 54 4F 4B 45     .TEXT "TOKEN1"       \  EOW('8')  \  .WORD $F071
3987   980B 4E 31 
3987   980D B8          
3987   980E F0 71       
3988   9810 54 4F 4B 45     .TEXT "TOKEN1"       \  EOW('9')  \  .WORD $F091
3988   9814 4E 31 
3988   9816 B9          
3988   9817 F0 91       
3989   9819 54 4F 4B 45     .TEXT "TOKEN2"       \  EOW('0')  \  .WORD $F0E2
3989   981D 4E 32 
3989   981F B0          
3989   9820 F0 E2       
3990   9822 54 4F 4B 45     .TEXT "TOKEN2"       \  EOW('1')  \  .WORD $F0B2
3990   9826 4E 32 
3990   9828 B1          
3990   9829 F0 B2       
3991   982B 54 4F 4B 45     .TEXT "TOKEN2"       \  EOW('2')  \  .WORD $F090
3991   982F 4E 32 
3991   9831 B2          
3991   9832 F0 90       
3992   9834 54 4F 4B 45     .TEXT "TOKEN2"       \  EOW('3')  \  .WORD $F080
3992   9838 4E 32 
3992   983A B3          
3992   983B F0 80       
3993   983D 54 4F 4B 45     .TEXT "TOKEN2"       \  EOW('4')  \  .WORD $F0E4
3993   9841 4E 32 
3993   9843 B4          
3993   9844 F0 E4       
3994   9846 54 4F 4B 45     .TEXT "TOKEN2"       \  EOW('5')  \  .WORD $F097
3994   984A 4E 32 
3994   984C B5          
3994   984D F0 97       
3995   984F 54 4F 4B 45     .TEXT "TOKEN2"       \  EOW('6')  \  .WORD $F0C3
3995   9853 4E 32 
3995   9855 B6          
3995   9856 F0 C3       
3996   9858 54 4F 4B 45     .TEXT "TOKEN2"       \  EOW('7')  \  .WORD $F0C5
3996   985C 4E 32 
3996   985E B7          
3996   985F F0 C5       
3997   9861 54 4F 4B 45     .TEXT "TOKEN2"       \  EOW('8')  \  .WORD $F081
3997   9865 4E 32 
3997   9867 B8          
3997   9868 F0 81       
3998   986A 54 4F 4B 45     .TEXT "TOKEN2"       \  EOW('9')  \  .WORD $F0E7
3998   986E 4E 32 
3998   9870 B9          
3998   9871 F0 E7       
3999   9873 54 4F 4B 45     .TEXT "TOKEN3"       \  EOW('0')  \  .WORD $F0EA
3999   9877 4E 33 
3999   9879 B0          
3999   987A F0 EA       
4000   987C 54 4F 4B 45     .TEXT "TOKEN3"       \  EOW('1')  \  .WORD $F056
4000   9880 4E 33 
4000   9882 B1          
4000   9883 F0 56       
4001   9885 54 4F 4B 45     .TEXT "TOKEN3"       \  EOW('2')  \  .WORD $F050
4001   9889 4E 33 
4001   988B B2          
4001   988C F0 50       
4002   988E 54 4F 4B 45     .TEXT "TOKEN3"       \  EOW('3')  \  .WORD $F083
4002   9892 4E 33 
4002   9894 B3          
4002   9895 F0 83       
4003   9897 54              .TEXT "T"            \  EOW('B')  \  .WORD $8055
4003   9898 C2          
4003   9899 80 55       
4004   989B 54              .TEXT "T"            \  EOW('C')  \  .WORD $8060
4004   989C C3          
4004   989D 80 60       
4005   989F 54              .TEXT "T"            \  EOW('D')  \  .WORD $8094
4005   98A0 C4          
4005   98A1 80 94       
4006   98A3 54              .TEXT "T"            \  EOW('E')  \  .WORD $80A4
4006   98A4 C5          
4006   98A5 80 A4       
4007   98A7 54              .TEXT "T"            \  EOW('G')  \  .WORD $80BD
4007   98A8 C7          
4007   98A9 80 BD       
4008   98AB 54              .TEXT "T"            \  EOW('H')  \  .WORD $80DF
4008   98AC C8          
4008   98AD 80 DF       
4009   98AF 54              .TEXT "T"            \  EOW('I')  \  .WORD $8101
4009   98B0 C9          
4009   98B1 81 01       
4010   98B3 54              .TEXT "T"            \  EOW('K')  \  .WORD $810B
4010   98B4 CB          
4010   98B5 81 0B       
4011   98B7 54              .TEXT "T"            \  EOW('L')  \  .WORD $8113
4011   98B8 CC          
4011   98B9 81 13       
4012   98BB 54              .TEXT "T"            \  EOW('M')  \  .WORD $8125
4012   98BC CD          
4012   98BD 81 25       
4013   98BF 54              .TEXT "T"            \  EOW('P')  \  .WORD $813A
4013   98C0 D0          
4013   98C1 81 3A       
4014   98C3 54              .TEXT "T"            \  EOW('R')  \  .WORD $8144
4014   98C4 D2          
4014   98C5 81 44       
4015   98C7 54              .TEXT "T"            \  EOW('S')  \  .WORD $815A
4015   98C8 D3          
4015   98C9 81 5A       
4016   98CB 54              .TEXT "T"            \  EOW('T')  \  .WORD $816D
4016   98CC D4          
4016   98CD 81 6D       
4017   98CF 54              .TEXT "T"            \  EOW('V')  \  .WORD $8177
4017   98D0 D6          
4017   98D1 81 77       
4018   98D3 41 4E 46 41     .TEXT "ANFAN"        \  EOW('G')  \  .WORD $819E
4018   98D7 4E 
4018   98D8 C7          
4018   98D9 81 9E       
4019   98DB 41 4E 46        .TEXT "ANF"          \  EOW('1')  \  .WORD $81F4
4019   98DE B1          
4019   98DF 81 F4       
4020   98E1 4B 45           .TEXT "KE"           \  EOW('Y')  \  .WORD $822F
4020   98E3 D9          
4020   98E4 82 2F       
4021   98E6 4D 4F 44 45     .TEXT "MODE"         \  EOW('T')  \  .WORD $836B
4021   98EA D4          
4021   98EB 83 6B       
4022   98ED 41 4C 54 45     .TEXT "ALTE"         \  EOW('R')  \  .WORD $8381
4022   98F1 D2          
4022   98F2 83 81       
4023   98F4 42 41 53 49     .TEXT "BASI"         \  EOW('C')  \  .WORD $83BB
4023   98F8 C3          
4023   98F9 83 BB       
4024   98FB 4E 45 58 54     .TEXT "NEXT"         \  EOW('L')  \  .WORD $83C6
4024   98FF CC          
4024   9900 83 C6       
4025   9902 4E 45 58 54     .TEXT "NEXT"         \  EOW('0')  \  .WORD $83F0
4025   9906 B0          
4025   9907 83 F0       
4026   9909 4E 45 58 54     .TEXT "NEXT"         \  EOW('E')  \  .WORD $8417
4026   990D C5          
4026   990E 84 17       
4027   9910 45 4E 54 45     .TEXT "ENTE"         \  EOW('R')  \  .WORD $8419
4027   9914 D2          
4027   9915 84 19       
4028   9917 4E 45 58 54     .TEXT "NEXT"         \  EOW('C')  \  .WORD $841F
4028   991B C3          
4028   991C 84 1F       
4029   991E 4E 45 58 54     .TEXT "NEXT"         \  EOW('D')  \  .WORD $842D
4029   9922 C4          
4029   9923 84 2D       
4030   9925 4E 45 58 54     .TEXT "NEXT"         \  EOW('2')  \  .WORD $843B
4030   9929 B2          
4030   992A 84 3B       
4031   992C 4D 4F 44 55     .TEXT "MODU"         \  EOW('S')  \  .WORD $8456
4031   9930 D3          
4031   9931 84 56       
4032   9933 4D 4F 44        .TEXT "MOD"          \  EOW('1')  \  .WORD $8466
4032   9936 B1          
4032   9937 84 66       
4033   9939 52 50 4D 4F     .TEXT "RPMOD"        \  EOW('E')  \  .WORD $84BB
4033   993D 44 
4033   993E C5          
4033   993F 84 BB       
4034   9941 4D 4F 44        .TEXT "MOD"          \  EOW('C')  \  .WORD $84C5
4034   9944 C3          
4034   9945 84 C5       
4035   9947 4D 4F 44 45     .TEXT "MODEN"        \  EOW('D')  \  .WORD $84D4
4035   994B 4E 
4035   994C C4          
4035   994D 84 D4       
4036   994F 53 43 52 4F     .TEXT "SCROL"        \  EOW('L')  \  .WORD $84D7
4036   9953 4C 
4036   9954 CC          
4036   9955 84 D7       
4037   9957 53 43 52        .TEXT "SCR"          \  EOW('1')  \  .WORD $84E6
4037   995A B1          
4037   995B 84 E6       
4038   995D 53 43 52        .TEXT "SCR"          \  EOW('2')  \  .WORD $84FD
4038   9960 B2          
4038   9961 84 FD       
4039   9963 53 43 52 4F     .TEXT "SCROL"        \  EOW('1')  \  .WORD $8501
4039   9967 4C 
4039   9968 B1          
4039   9969 85 01       
4040   996B 53 43 52 4F     .TEXT "SCRO"         \  EOW('2')  \  .WORD $8511
4040   996F B2          
4040   9970 85 11       
4041   9972 53 43 52 45     .TEXT "SCREN"        \  EOW('D')  \  .WORD $8524
4041   9976 4E 
4041   9977 C4          
4041   9978 85 24       
4042   997A 44 45 43 4F     .TEXT "DECOD"        \  EOW('E')  \  .WORD $852C
4042   997E 44 
4042   997F C5          
4042   9980 85 2C       
4043   9982 44 45 43 4F     .TEXT "DECOD"        \  EOW('1')  \  .WORD $8535
4043   9986 44 
4043   9987 B1          
4043   9988 85 35       
4044   998A 44 45 43 4F     .TEXT "DECOD1"       \  EOW('A')  \  .WORD $8556
4044   998E 44 31 
4044   9990 C1          
4044   9991 85 56       
4045   9993 44 45 43 4F     .TEXT "DECOD"        \  EOW('2')  \  .WORD $8576
4045   9997 44 
4045   9998 B2          
4045   9999 85 76       
4046   999B 44 45 43 4F     .TEXT "DECOD"        \  EOW('3')  \  .WORD $857A
4046   999F 44 
4046   99A0 B3          
4046   99A1 85 7A       
4047   99A3 44 43 44        .TEXT "DCD"          \  EOW('3')  \  .WORD $8595
4047   99A6 B3          
4047   99A7 85 95       
4048   99A9 54 52 55 4E     .TEXT "TRUN"         \  EOW('K')  \  .WORD $85B6
4048   99AD CB          
4048   99AE 85 B6       
4049   99B0 4E 4F 43 4F     .TEXT "NOCOD"        \  EOW('E')  \  .WORD $85BB
4049   99B4 44 
4049   99B5 C5          
4049   99B6 85 BB       
4050   99B8 4E 43           .TEXT "NC"           \  EOW('D')  \  .WORD $85F0
4050   99BA C4          
4050   99BB 85 F0       
4051   99BD 54 52 45 4E     .TEXT "TREN"         \  EOW('N')  \  .WORD $8604
4051   99C1 CE          
4051   99C2 86 04       
4052   99C4 54 52 45 4E     .TEXT "TRENRE"       \  EOW('T')  \  .WORD $860D
4052   99C8 52 45 
4052   99CA D4          
4052   99CB 86 0D       
4053   99CD 54 52 45 4E     .TEXT "TREN"         \  EOW('E')  \  .WORD $8643
4053   99D1 C5          
4053   99D2 86 43       
4054   99D4 54 52 45 4E     .TEXT "TREN"         \  EOW('1')  \  .WORD $8646
4054   99D8 B1          
4054   99D9 86 46       
4055   99DB 54 52 55 4E     .TEXT "TRUN"         \  EOW('C')  \  .WORD $8656
4055   99DF C3          
4055   99E0 86 56       
4056   99E2 43 55 52 53     .TEXT "CURSO"        \  EOW('R')  \  .WORD $8663
4056   99E6 4F 
4056   99E7 D2          
4056   99E8 86 63       
4057   99EA 54 4F           .TEXT "TO"           \  EOW('F')  \  .WORD $86E4
4057   99EC C6          
4057   99ED 86 E4       
4058   99EF 45 4F           .TEXT "EO"           \  EOW('F')  \  .WORD $86FA
4058   99F1 C6          
4058   99F2 86 FA       
4059   99F4 4F 42           .TEXT "OB"           \  EOW('F')  \  .WORD $8721
4059   99F6 C6          
4059   99F7 87 21       
4060   99F9 4F 55 42 46     .TEXT "OUBF"         \  EOW('1')  \  .WORD $8752
4060   99FD B1          
4060   99FE 87 52       
4061   9A00 4F 55 42 46     .TEXT "OUBF"         \  EOW('0')  \  .WORD $878B
4061   9A04 B0          
4061   9A05 87 8B       
4062   9A07 4F 55 42 46     .TEXT "OUBF"         \  EOW('2')  \  .WORD $8799
4062   9A0B B2          
4062   9A0C 87 99       
4063   9A0E 4F 55 42 46     .TEXT "OUBF"         \  EOW('3')  \  .WORD $879D
4063   9A12 B3          
4063   9A13 87 9D       
4064   9A15 4F 55 42 46     .TEXT "OUBF"         \  EOW('4')  \  .WORD $87A5
4064   9A19 B4          
4064   9A1A 87 A5       
4065   9A1C 4F 42 46        .TEXT "OBF"          \  EOW('5')  \  .WORD $87BB
4065   9A1F B5          
4065   9A20 87 BB       
4066   9A22 53 54 45        .TEXT "STE"          \  EOW('P')  \  .WORD $87CC
4066   9A25 D0          
4066   9A26 87 CC       
4067   9A28 4C 45 4E 47     .TEXT "LENGT"        \  EOW('H')  \  .WORD $87D4
4067   9A2C 54 
4067   9A2D C8          
4067   9A2E 87 D4       
4068   9A30 4F 56 45 52     .TEXT "OVERF"        \  EOW('L')  \  .WORD $87E7
4068   9A34 46 
4068   9A35 CC          
4068   9A36 87 E7       
4069   9A38 4F 56 46 4C     .TEXT "OVFL"         \  EOW('0')  \  .WORD $87FD
4069   9A3C B0          
4069   9A3D 87 FD       
4070   9A3F 4F 56 46        .TEXT "OVF"          \  EOW('0')  \  .WORD $882D
4070   9A42 B0          
4070   9A43 88 2D       
4071   9A45 4F 56 46        .TEXT "OVF"          \  EOW('1')  \  .WORD $8839
4071   9A48 B1          
4071   9A49 88 39       
4072   9A4B 4F 56 46        .TEXT "OVF"          \  EOW('2')  \  .WORD $883D
4072   9A4E B2          
4072   9A4F 88 3D       
4073   9A51 4F 55 54 53     .TEXT "OUTSC"        \  EOW('R')  \  .WORD $8854
4073   9A55 43 
4073   9A56 D2          
4073   9A57 88 54       
4074   9A59 4F 55 54 53     .TEXT "OUTSC"        \  EOW('1')  \  .WORD $885D
4074   9A5D 43 
4074   9A5E B1          
4074   9A5F 88 5D       
4075   9A61 4F 55 54 53     .TEXT "OUTSC"        \  EOW('2')  \  .WORD $8865
4075   9A65 43 
4075   9A66 B2          
4075   9A67 88 65       
4076   9A69 4F 55 54 53     .TEXT "OUTSC"        \  EOW('E')  \  .WORD $88AE
4076   9A6D 43 
4076   9A6E C5          
4076   9A6F 88 AE       
4077   9A71 44 43 55        .TEXT "DCU"          \  EOW('V')  \  .WORD $88B5
4077   9A74 D6          
4077   9A75 88 B5       
4078   9A77 4F 42 54 55     .TEXT "OBTUP"        \  EOW('L')  \  .WORD $88BF
4078   9A7B 50 
4078   9A7C CC          
4078   9A7D 88 BF       
4079   9A7F 4F 42 54 55     .TEXT "OBTUP"        \  EOW('0')  \  .WORD $88CC
4079   9A83 50 
4079   9A84 B0          
4079   9A85 88 CC       
4080   9A87 4F 42 54 55     .TEXT "OBTUP"        \  EOW('1')  \  .WORD $88DA
4080   9A8B 50 
4080   9A8C B1          
4080   9A8D 88 DA       
4081   9A8F 4F 42 54 55     .TEXT "OBTUP"        \  EOW('E')  \  .WORD $88E5
4081   9A93 50 
4081   9A94 C5          
4081   9A95 88 E5       
4082   9A97 55 4F           .TEXT "UO"           \  EOW('V')  \  .WORD $88EB
4082   9A99 D6          
4082   9A9A 88 EB       
4083   9A9C 52 50 4C 41     .TEXT "RPLAN"        \  EOW('E')  \  .WORD $88FD
4083   9AA0 4E 
4083   9AA1 C5          
4083   9AA2 88 FD       
4084   9AA4 52 45 53 4D     .TEXT "RESMO"        \  EOW('D')  \  .WORD $8929
4084   9AA8 4F 
4084   9AA9 C4          
4084   9AAA 89 29       
4085   9AAC 52 53 4D        .TEXT "RSM"          \  EOW('0')  \  .WORD $8940
4085   9AAF B0          
4085   9AB0 89 40       
4086   9AB2 52 53 4D        .TEXT "RSM"          \  EOW('1')  \  .WORD $894E
4086   9AB5 B1          
4086   9AB6 89 4E       
4087   9AB8 43 55 52 4F     .TEXT "CUROF"        \  EOW('F')  \  .WORD $8963
4087   9ABC 46 
4087   9ABD C6          
4087   9ABE 89 63       
4088   9AC0 56 43 4C        .TEXT "VCL"          \  EOW('S')  \  .WORD $8974
4088   9AC3 D3          
4088   9AC4 89 74       
4089   9AC6 48 45           .TEXT "HE"           \  EOW('X')  \  .WORD $8981
4089   9AC8 D8          
4089   9AC9 89 81       
4090   9ACB 56 48           .TEXT "VH"           \  EOW('1')  \  .WORD $898F
4090   9ACD B1          
4090   9ACE 89 8F       
4091   9AD0 56 48 41 53     .TEXT "VHAS"         \  EOW('C')  \  .WORD $89A1
4091   9AD4 C3          
4091   9AD5 89 A1       
4092   9AD7 56 48 41 53     .TEXT "VHAS"         \  EOW('1')  \  .WORD $89A9
4092   9ADB B1          
4092   9ADC 89 A9       
4093   9ADE 56 48 41 53     .TEXT "VHAS"         \  EOW('2')  \  .WORD $89B3
4093   9AE2 B2          
4093   9AE3 89 B3       
4094   9AE5 43 4F 4E 53     .TEXT "CONSOL"       \  EOW('E')  \  .WORD $89B5
4094   9AE9 4F 4C 
4094   9AEB C5          
4094   9AEC 89 B5       
4095   9AEE 56 53 49 5A     .TEXT "VSIZ"         \  EOW('1')  \  .WORD $8A27
4095   9AF2 B1          
4095   9AF3 8A 27       
4096   9AF5 44 49           .TEXT "DI"           \  EOW('P')  \  .WORD $8A38
4096   9AF7 D0          
4096   9AF8 8A 38       
4097   9AFA 56 53 49 5A     .TEXT "VSIZ"         \  EOW('F')  \  .WORD $8A46
4097   9AFE C6          
4097   9AFF 8A 46       
4098   9B01 56 53 49 5A     .TEXT "VSIZF"        \  EOW('A')  \  .WORD $8A48
4098   9B05 46 
4098   9B06 C1          
4098   9B07 8A 48       
4099   9B09 56 43 55 52     .TEXT "VCUR"         \  EOW('S')  \  .WORD $8A49
4099   9B0D D3          
4099   9B0E 8A 49       
4100   9B10 43 55 52 53     .TEXT "CURS1"        \  EOW('W')  \  .WORD $8A75
4100   9B14 31 
4100   9B15 D7          
4100   9B16 8A 75       
4101   9B18 43 55 52 53     .TEXT "CURS2"        \  EOW('W')  \  .WORD $8A7E
4101   9B1C 32 
4101   9B1D D7          
4101   9B1E 8A 7E       
4102   9B20 45 52 52 43     .TEXT "ERRCU"        \  EOW('R')  \  .WORD $8A88
4102   9B24 55 
4102   9B25 D2          
4102   9B26 8A 88       
4103   9B28 45 52 52 43     .TEXT "ERRCURSO"     \  EOW('R')  \  .WORD $8A8A
4103   9B2C 55 52 53 4F 
4103   9B30 D2          
4103   9B31 8A 8A       
4104   9B33 56 50 52 49     .TEXT "VPRIN"        \  EOW('T')  \  .WORD $8A8B
4104   9B37 4E 
4104   9B38 D4          
4104   9B39 8A 8B       
4105   9B3B 43 4C 4F        .TEXT "CLO"          \  EOW('B')  \  .WORD $8AA3
4105   9B3E C2          
4105   9B3F 8A A3       
4106   9B41 56 50 41        .TEXT "VPA"          \  EOW('N')  \  .WORD $8AA6
4106   9B44 CE          
4106   9B45 8A A6       
4107   9B47 56 50 41 4E     .TEXT "VPAN"         \  EOW('0')  \  .WORD $8AB6
4107   9B4B B0          
4107   9B4C 8A B6       
4108   9B4E 56 50 52        .TEXT "VPR"          \  EOW('0')  \  .WORD $8ABB
4108   9B51 B0          
4108   9B52 8A BB       
4109   9B54 50 52 46        .TEXT "PRF"          \  EOW('0')  \  .WORD $8AC5
4109   9B57 B0          
4109   9B58 8A C5       
4110   9B5A 56 50 52        .TEXT "VPR"          \  EOW('1')  \  .WORD $8AC8
4110   9B5D B1          
4110   9B5E 8A C8       
4111   9B60 55 53 49 4E     .TEXT "USIN"         \  EOW('G')  \  .WORD $8AF7
4111   9B64 C7          
4111   9B65 8A F7       
4112   9B67 55 53           .TEXT "US"           \  EOW('1')  \  .WORD $8B02
4112   9B69 B1          
4112   9B6A 8B 02       
4113   9B6C 55 53           .TEXT "US"           \  EOW('2')  \  .WORD $8B0C
4113   9B6E B2          
4113   9B6F 8B 0C       
4114   9B71 50 52 41 53     .TEXT "PRAS"         \  EOW('C')  \  .WORD $8B27
4114   9B75 C3          
4114   9B76 8B 27       
4115   9B78 50 52 53 43     .TEXT "PRSC"         \  EOW('0')  \  .WORD $8B31
4115   9B7C B0          
4115   9B7D 8B 31       
4116   9B7F 50 52 53 43     .TEXT "PRSC"         \  EOW('1')  \  .WORD $8B52
4116   9B83 B1          
4116   9B84 8B 52       
4117   9B86 50 52 53 43     .TEXT "PRSC"         \  EOW('2')  \  .WORD $8B62
4117   9B8A B2          
4117   9B8B 8B 62       
4118   9B8D 50 52 53 43     .TEXT "PRSC"         \  EOW('3')  \  .WORD $8B69
4118   9B91 B3          
4118   9B92 8B 69       
4119   9B94 56 50 52        .TEXT "VPR"          \  EOW('2')  \  .WORD $8B91
4119   9B97 B2          
4119   9B98 8B 91       
4120   9B9A 4F 55 54 42     .TEXT "OUTBU"        \  EOW('F')  \  .WORD $8B9E
4120   9B9E 55 
4120   9B9F C6          
4120   9BA0 8B 9E       
4121   9BA2 4F 42 46        .TEXT "OBF"          \  EOW('0')  \  .WORD $8BC0
4121   9BA5 B0          
4121   9BA6 8B C0       
4122   9BA8 4F 42 46        .TEXT "OBF"          \  EOW('1')  \  .WORD $8BFC
4122   9BAB B1          
4122   9BAC 8B FC       
4123   9BAE 50 52 54 45     .TEXT "PRTEN"        \  EOW('D')  \  .WORD $8C17
4123   9BB2 4E 
4123   9BB3 C4          
4123   9BB4 8C 17       
4124   9BB6 50 52 46 45     .TEXT "PRFEH"        \  EOW('L')  \  .WORD $8C38
4124   9BBA 48 
4124   9BBB CC          
4124   9BBC 8C 38       
4125   9BBE 57 41 49        .TEXT "WAI"          \  EOW('T')  \  .WORD $8C3F
4125   9BC1 D4          
4125   9BC2 8C 3F       
4126   9BC4 4E 4F 56        .TEXT "NOV"          \  EOW('C')  \  .WORD $8C4A
4126   9BC7 C3          
4126   9BC8 8C 4A       
4127   9BCA 4B 4F 4D        .TEXT "KOM"          \  EOW('L')  \  .WORD $8C57
4127   9BCD CC          
4127   9BCE 8C 57       
4128   9BD0 4B 4F 4D 4C     .TEXT "KOML"         \  EOW('1')  \  .WORD $8C72
4128   9BD4 B1          
4128   9BD5 8C 72       
4129   9BD7 49 4E 50 55     .TEXT "INPU"         \  EOW('T')  \  .WORD $8C89
4129   9BDB D4          
4129   9BDC 8C 89       
4130   9BDE 58 49 4E 50     .TEXT "XINP"         \  EOW('1')  \  .WORD $8C8F
4130   9BE2 B1          
4130   9BE3 8C 8F       
4131   9BE5 58 49 4E 50     .TEXT "XINP"         \  EOW('3')  \  .WORD $8CC7
4131   9BE9 B3          
4131   9BEA 8C C7       
4132   9BEC 58 49 4E 50     .TEXT "XINP"         \  EOW('6')  \  .WORD $8CCA
4132   9BF0 B6          
4132   9BF1 8C CA       
4133   9BF3 58 49 4E 50     .TEXT "XINP"         \  EOW('4')  \  .WORD $8CD1
4133   9BF7 B4          
4133   9BF8 8C D1       
4134   9BFA 58 49 4E 50     .TEXT "XINP"         \  EOW('2')  \  .WORD $8CFB
4134   9BFE B2          
4134   9BFF 8C FB       
4135   9C01 58 49 4E 50     .TEXT "XINP"         \  EOW('5')  \  .WORD $8D15
4135   9C05 B5          
4135   9C06 8D 15       
4136   9C08 45 44 49 54     .TEXT "EDITO"        \  EOW('R')  \  .WORD $8D18
4136   9C0C 4F 
4136   9C0D D2          
4136   9C0E 8D 18       
4137   9C10 43 4C 45 41     .TEXT "CLEARSC"      \  EOW('R')  \  .WORD $8D41
4137   9C14 52 53 43 
4137   9C17 D2          
4137   9C18 8D 41       
4138   9C1A 43 4C           .TEXT "CL"           \  EOW('1')  \  .WORD $8D4A
4138   9C1C B1          
4138   9C1D 8D 4A       
4139   9C1F 57 52 49 54     .TEXT "WRITE"        \  EOW('1')  \  .WORD $8D5E
4139   9C23 45 
4139   9C24 B1          
4139   9C25 8D 5E       
4140   9C27 57 52 49 54     .TEXT "WRITE"        \  EOW('2')  \  .WORD $8D64
4140   9C2B 45 
4140   9C2C B2          
4140   9C2D 8D 64       
4141   9C2F 4F 42 54 41     .TEXT "OBTAI"        \  EOW('N')  \  .WORD $8D6B
4141   9C33 49 
4141   9C34 CE          
4141   9C35 8D 6B       
4142   9C37 4F 42 54        .TEXT "OBT"          \  EOW('1')  \  .WORD $8D95
4142   9C3A B1          
4142   9C3B 8D 95       
4143   9C3D 4F 42 54        .TEXT "OBT"          \  EOW('2')  \  .WORD $8D99
4143   9C40 B2          
4143   9C41 8D 99       
4144   9C43 4F 42 54 45     .TEXT "OBTEN"        \  EOW('D')  \  .WORD $8D9C
4144   9C47 4E 
4144   9C48 C4          
4144   9C49 8D 9C       
4145   9C4B 4F 42 54        .TEXT "OBT"          \  EOW('F')  \  .WORD $8DA3
4145   9C4E C6          
4145   9C4F 8D A3       
4146   9C51 49 4E 49 54     .TEXT "INITIA"       \  EOW('L')  \  .WORD $8DA8
4146   9C55 49 41 
4146   9C57 CC          
4146   9C58 8D A8       
4147   9C5A 49 4E 49 54     .TEXT "INITIA"       \  EOW('1')  \  .WORD $8DAC
4147   9C5E 49 41 
4147   9C60 B1          
4147   9C61 8D AC       
4148   9C63 46 49 52 53     .TEXT "FIRS"         \  EOW('T')  \  .WORD $8DC1
4148   9C67 D4          
4148   9C68 8D C1       
4149   9C6A 57 41 52 54     .TEXT "WARTE"        \  EOW('V')  \  .WORD $8DD0
4149   9C6E 45 
4149   9C6F D6          
4149   9C70 8D D0       
4150   9C72 41 4E           .TEXT "AN"           \  EOW('Z')  \  .WORD $8DDE
4150   9C74 DA          
4150   9C75 8D DE       
4151   9C77 54 41           .TEXT "TA"           \  EOW('S')  \  .WORD $8DEA
4151   9C79 D3          
4151   9C7A 8D EA       
4152   9C7C 46 49 52 53     .TEXT "FIRST"        \  EOW('1')  \  .WORD $8E03
4152   9C80 54 
4152   9C81 B1          
4152   9C82 8E 03       
4153   9C84 53 54 52 54     .TEXT "STRTA"        \  EOW('D')  \  .WORD $8E5F
4153   9C88 41 
4153   9C89 C4          
4153   9C8A 8E 5F       
4154   9C8C 43 4C 53        .TEXT "CLS"          \  EOW('0')  \  .WORD $8E64
4154   9C8F B0          
4154   9C90 8E 64       
4155   9C92 43 4C 53        .TEXT "CLS"          \  EOW('1')  \  .WORD $8E6D
4155   9C95 B1          
4155   9C96 8E 6D       
4156   9C98 43 4C 53        .TEXT "CLS"          \  EOW('A')  \  .WORD $8E78
4156   9C9B C1          
4156   9C9C 8E 78       
4157   9C9E 43 4C 53 41     .TEXT "CLSA"         \  EOW('0')  \  .WORD $8E7C
4157   9CA2 B0          
4157   9CA3 8E 7C       
4158   9CA5 53 54 4F        .TEXT "STO"          \  EOW('R')  \  .WORD $8E86
4158   9CA8 D2          
4158   9CA9 8E 86       
4159   9CAB 44 41 54        .TEXT "DAT"          \  EOW('1')  \  .WORD $8E8F
4159   9CAE B1          
4159   9CAF 8E 8F       
4160   9CB1 44 41 54        .TEXT "DAT"          \  EOW('2')  \  .WORD $8EA1
4160   9CB4 B2          
4160   9CB5 8E A1       
4161   9CB7 4D 4F 44        .TEXT "MOD"          \  EOW('T')  \  .WORD $8EB3
4161   9CBA D4          
4161   9CBB 8E B3       
4162   9CBD 54 58 54        .TEXT "TXT"          \  EOW('5')  \  .WORD $8EC7
4162   9CC0 B5          
4162   9CC1 8E C7       
4163   9CC3 4D 4F 4E 49     .TEXT "MONITO"       \  EOW('R')  \  .WORD $8EE1
4163   9CC7 54 4F 
4163   9CC9 D2          
4163   9CCA 8E E1       
4164   9CCC 56 43 55 52     .TEXT "VCURSO"       \  EOW('R')  \  .WORD $8EE4
4164   9CD0 53 4F 
4164   9CD2 D2          
4164   9CD3 8E E4       
4165   9CD5 56 50 43 55     .TEXT "VPCURSO"      \  EOW('R')  \  .WORD $8EEB
4165   9CD9 52 53 4F 
4165   9CDC D2          
4165   9CDD 8E EB       
4166   9CDF 48 43 55 52     .TEXT "HCURSO"       \  EOW('R')  \  .WORD $8EFD
4166   9CE3 53 4F 
4166   9CE5 D2          
4166   9CE6 8E FD       
4167   9CE8 48 50 43 55     .TEXT "HPCURSO"      \  EOW('R')  \  .WORD $8F04
4167   9CEC 52 53 4F 
4167   9CEF D2          
4167   9CF0 8F 04       
4168   9CF2 4C 49 53        .TEXT "LIS"          \  EOW('T')  \  .WORD $8F16
4168   9CF5 D4          
4168   9CF6 8F 16       
4169   9CF8 56 4C 49 53     .TEXT "VLISTAL"      \  EOW('L')  \  .WORD $8F43
4169   9CFC 54 41 4C 
4169   9CFF CC          
4169   9D00 8F 43       
4170   9D02 4C 49 53 54     .TEXT "LISTAL"       \  EOW('L')  \  .WORD $8F46
4170   9D06 41 4C 
4170   9D08 CC          
4170   9D09 8F 46       
4171   9D0B 50 4C 49 53     .TEXT "PLISTAL"      \  EOW('L')  \  .WORD $8F54
4171   9D0F 54 41 4C 
4171   9D12 CC          
4171   9D13 8F 54       
4172   9D15 4C 49 53 54     .TEXT "LISTCR"       \  EOW('T')  \  .WORD $8F56
4172   9D19 43 52 
4172   9D1B D4          
4172   9D1C 8F 56       
4173   9D1E 4C 49 53 54     .TEXT "LISTSCROL"    \  EOW('L')  \  .WORD $8F76
4173   9D22 53 43 52 4F 
4173   9D26 4C 
4173   9D27 CC          
4173   9D28 8F 76       
4174   9D2A 4C 49 53 54     .TEXT "LISTLABE"     \  EOW('L')  \  .WORD $8F7C
4174   9D2E 4C 41 42 45 
4174   9D32 CC          
4174   9D33 8F 7C       
4175   9D35 48 4F 4C 44     .TEXT "HOLD"         \  EOW('1')  \  .WORD $8F95
4175   9D39 B1          
4175   9D3A 8F 95       
4176   9D3C 48 4F 4C 44     .TEXT "HOLD"         \  EOW('2')  \  .WORD $8F97
4176   9D40 B2          
4176   9D41 8F 97       
4177   9D43 57 41 52 54     .TEXT "WART"         \  EOW('E')  \  .WORD $8FA7
4177   9D47 C5          
4177   9D48 8F A7       
4178   9D4A 4C 49 53 54     .TEXT "LISTEDI"      \  EOW('T')  \  .WORD $9010
4178   9D4E 45 44 49 
4178   9D51 D4          
4178   9D52 90 10       
4179   9D54 42 41 43 4B     .TEXT "BACKG"        \  EOW('R')  \  .WORD $9023
4179   9D58 47 
4179   9D59 D2          
4179   9D5A 90 23       
4180   9D5C 42 41 43 4B     .TEXT "BACKGRS"      \  EOW('T')  \  .WORD $9065
4180   9D60 47 52 53 
4180   9D63 D4          
4180   9D64 90 65       
4181   9D66 42 41 43 4B     .TEXT "BACKGRB"      \  EOW('E')  \  .WORD $906A
4181   9D6A 47 52 42 
4181   9D6D C5          
4181   9D6E 90 6A       
4182   9D70 42 41 43 4B     .TEXT "BACKGRLADE"   \  EOW('N')  \  .WORD $9072
4182   9D74 47 52 4C 41 
4182   9D78 44 45 
4182   9D7A CE          
4182   9D7B 90 72       
4183   9D7D 45 52 52 42     .TEXT "ERRBACKG"     \  EOW('R')  \  .WORD $9081
4183   9D81 41 43 4B 47 
4183   9D85 D2          
4183   9D86 90 81       
4184   9D88 45 52           .TEXT "ER"           \  EOW('N')  \  .WORD $9082
4184   9D8A CE          
4184   9D8B 90 82       
4185   9D8D 45 52           .TEXT "ER"           \  EOW('L')  \  .WORD $9088
4185   9D8F CC          
4185   9D90 90 88       
4186   9D92 53 43 48 55     .TEXT "SCHUT"        \  EOW('Z')  \  .WORD $908E
4186   9D96 54 
4186   9D97 DA          
4186   9D98 90 8E       
4187   9D9A 53 4C 45 45     .TEXT "SLEE"         \  EOW('P')  \  .WORD $90AA
4187   9D9E D0          
4187   9D9F 90 AA       
4188   9DA1 52 45 50 5A     .TEXT "REPZE"        \  EOW('I')  \  .WORD $90DE
4188   9DA5 45 
4188   9DA6 C9          
4188   9DA7 90 DE       
4189   9DA9 52 45 50 4B     .TEXT "REPKE"        \  EOW('Y')  \  .WORD $90F1
4189   9DAD 45 
4189   9DAE D9          
4189   9DAF 90 F1       
4190   9DB1 4C 44 52 45     .TEXT "LDRE"         \  EOW('P')  \  .WORD $90F7
4190   9DB5 D0          
4190   9DB6 90 F7       
4191   9DB8 52 45 50 4F     .TEXT "REPOF"        \  EOW('F')  \  .WORD $90FB
4191   9DBC 46 
4191   9DBD C6          
4191   9DBE 90 FB       
4192   9DC0 45 52 52 52     .TEXT "ERRRE"        \  EOW('P')  \  .WORD $9105
4192   9DC4 45 
4192   9DC5 D0          
4192   9DC6 91 05       
4193   9DC8 47 43 4C        .TEXT "GCL"          \  EOW('S')  \  .WORD $9107
4193   9DCB D3          
4193   9DCC 91 07       
4194   9DCE 43 4C 45 41     .TEXT "CLEARG"       \  EOW('R')  \  .WORD $9116
4194   9DD2 52 47 
4194   9DD4 D2          
4194   9DD5 91 16       
4195   9DD7 43 4C 52 47     .TEXT "CLRGRAP"      \  EOW('H')  \  .WORD $911A
4195   9DDB 52 41 50 
4195   9DDE C8          
4195   9DDF 91 1A       
4196   9DE1 43 4C 52 47     .TEXT "CLRGS"        \  EOW('T')  \  .WORD $913C
4196   9DE5 53 
4196   9DE6 D4          
4196   9DE7 91 3C       
4197   9DE9 45 52 52 47     .TEXT "ERRGCL"       \  EOW('S')  \  .WORD $914B
4197   9DED 43 4C 
4197   9DEF D3          
4197   9DF0 91 4B       
4198   9DF2 44 45           .TEXT "DE"           \  EOW('Z')  \  .WORD $914C
4198   9DF4 DA          
4198   9DF5 91 4C       
4199   9DF7 54 45 53        .TEXT "TES"          \  EOW('T')  \  .WORD $914F
4199   9DFA D4          
4199   9DFB 91 4F       
4200   9DFD 43 4F 4C 4F     .TEXT "COLO"         \  EOW('R')  \  .WORD $914F
4200   9E01 D2          
4200   9E02 91 4F       
4201   9E04 45 44 49        .TEXT "EDI"          \  EOW('T')  \  .WORD $914F
4201   9E07 D4          
4201   9E08 91 4F       
4202   9E0A 47 43 55 52     .TEXT "GCURSO"       \  EOW('R')  \  .WORD $914F
4202   9E0E 53 4F 
4202   9E10 D2          
4202   9E11 91 4F       
4203   9E13 47 50 52 49     .TEXT "GPRIN"        \  EOW('T')  \  .WORD $914F
4203   9E17 4E 
4203   9E18 D4          
4203   9E19 91 4F       
4204   9E1B 52 45 50 52     .TEXT "REPRO"        \  EOW('G')  \  .WORD $914F
4204   9E1F 4F 
4204   9E20 C7          
4204   9E21 91 4F       
4205   9E23 4B 45 59 52     .TEXT "KEYRA"        \  EOW('M')  \  .WORD $9150
4205   9E27 41 
4205   9E28 CD          
4205   9E29 91 50       
4206   9E2B 53 45 54 50     .TEXT "SETP"         \  EOW('V')  \  .WORD $9168
4206   9E2F D6          
4206   9E30 91 68       
4207   9E32 4B 45 59 42     .TEXT "KEYBOUMLEI"   \  EOW('T')  \  .WORD $9176
4207   9E36 4F 55 4D 4C 
4207   9E3A 45 49 
4207   9E3C D4          
4207   9E3D 91 76       
4208   9E3F 53 43 52 4F     .TEXT "SCROLLMINU"   \  EOW('S')  \  .WORD $9189
4208   9E43 4C 4C 4D 49 
4208   9E47 4E 55 
4208   9E49 D3          
4208   9E4A 91 89       
4209   9E4C 43 4F 50        .TEXT "COP"          \  EOW('Y')  \  .WORD $9195
4209   9E4F D9          
4209   9E50 91 95       
4210   9E52 50 52 49 4E     .TEXT "PRIN"         \  EOW('T')  \  .WORD $91A7
4210   9E56 D4          
4210   9E57 91 A7       
4211   9E59 50 52 49 4E     .TEXT "PRINTNOKREU"  \  EOW('Z')  \  .WORD $91B1
4211   9E5D 54 4E 4F 4B 
4211   9E61 52 45 55 
4211   9E64 DA          
4211   9E65 91 B1       
4212   9E67 50 52 49 4E     .TEXT "PRINTDIS"     \  EOW('K')  \  .WORD $91BB
4212   9E6B 54 44 49 53 
4212   9E6F CB          
4212   9E70 91 BB       
4213   9E72 45 52 52 50     .TEXT "ERRPRK"       \  EOW('R')  \  .WORD $91D2
4213   9E76 52 4B 
4213   9E78 D2          
4213   9E79 91 D2       
4214   9E7B 4D 4F 44        .TEXT "MOD"          \  EOW('E')  \  .WORD $91D3
4214   9E7E C5          
4214   9E7F 91 D3       
4215   9E81 4D 4F 44 45     .TEXT "MODEC"        \  EOW('L')  \  .WORD $91D8
4215   9E85 43 
4215   9E86 CC          
4215   9E87 91 D8       
4216   9E89 53 55 42 4D     .TEXT "SUBM"         \  EOW('O')  \  .WORD $91EF
4216   9E8D CF          
4216   9E8E 91 EF       
4217   9E90 4D 4F 44 55     .TEXT "MODULBI"      \  EOW('T')  \  .WORD $920C
4217   9E94 4C 42 49 
4217   9E97 D4          
4217   9E98 92 0C       
4218   9E9A 4D 45 52        .TEXT "MER"          \  EOW('R')  \  .WORD $9218
4218   9E9D D2          
4218   9E9E 92 18       
4219   9EA0 53 50 45 45     .TEXT "SPEEDS"       \  EOW('W')  \  .WORD $9219
4219   9EA4 44 53 
4219   9EA6 D7          
4219   9EA7 92 19       
4220   9EA9 53 50 45 45     .TEXT "SPEED"        \  EOW('2')  \  .WORD $921F
4220   9EAD 44 
4220   9EAE B2          
4220   9EAF 92 1F       
4221   9EB1 53 45 52        .TEXT "SER"          \  EOW('R')  \  .WORD $9232
4221   9EB4 D2          
4221   9EB5 92 32       
4222   9EB7 53 45 52 52     .TEXT "SERR"         \  EOW('2')  \  .WORD $9233
4222   9EBB B2          
4222   9EBC 92 33       
4223   9EBE 53 41 56        .TEXT "SAV"          \  EOW('E')  \  .WORD $9234
4223   9EC1 C5          
4223   9EC2 92 34       
4224   9EC4 4C 4F 41        .TEXT "LOA"          \  EOW('D')  \  .WORD $9244
4224   9EC7 C4          
4224   9EC8 92 44       
4225   9ECA 4C 4F 41 44     .TEXT "LOAD"         \  EOW('C')  \  .WORD $9254
4225   9ECE C3          
4225   9ECF 92 54       
4226   9ED1 4C 4F 41 44     .TEXT "LOAD"         \  EOW('F')  \  .WORD $9264
4226   9ED5 C6          
4226   9ED6 92 64       
4227   9ED8 4C 4F 41 44     .TEXT "LOAD"         \  EOW('Q')  \  .WORD $9274
4227   9EDC D1          
4227   9EDD 92 74       
4228   9EDF 53 41 56 45     .TEXT "SAVE"         \  EOW('C')  \  .WORD $9277
4228   9EE3 C3          
4228   9EE4 92 77       
4229   9EE6 53 41 56 45     .TEXT "SAVE"         \  EOW('F')  \  .WORD $9287
4229   9EEA C6          
4229   9EEB 92 87       
4230   9EED 53 41 56 45     .TEXT "SAVE"         \  EOW('Q')  \  .WORD $9297
4230   9EF1 D1          
4230   9EF2 92 97       
4231   9EF4 53 41 56 45     .TEXT "SAVE"         \  EOW('D')  \  .WORD $929A
4231   9EF8 C4          
4231   9EF9 92 9A       
4232   9EFB 4C 4F 41 44     .TEXT "LOAD"         \  EOW('D')  \  .WORD $92A6
4232   9EFF C4          
4232   9F00 92 A6       
4233   9F02 53 41 56 45     .TEXT "SAVE"         \  EOW('R')  \  .WORD $92B2
4233   9F06 D2          
4233   9F07 92 B2       
4234   9F09 4C 4F 41 44     .TEXT "LOAD"         \  EOW('R')  \  .WORD $92BE
4234   9F0D D2          
4234   9F0E 92 BE       
4235   9F10 44 49           .TEXT "DI"           \  EOW('R')  \  .WORD $92CA
4235   9F12 D2          
4235   9F13 92 CA       
4236   9F15 4E 4F 44 45     .TEXT "NODER"        \  EOW('R')  \  .WORD $92D6
4236   9F19 52 
4236   9F1A D2          
4236   9F1B 92 D6       
4237   9F1D 56 45 52 49     .TEXT "VERI"         \  EOW('Q')  \  .WORD $92D9
4237   9F21 D1          
4237   9F22 92 D9       
4238   9F24 43 48 41 49     .TEXT "CHAI"         \  EOW('N')  \  .WORD $92DC
4238   9F28 CE          
4238   9F29 92 DC       
4239   9F2B 43 48 41 49     .TEXT "CHAI"         \  EOW('C')  \  .WORD $92F5
4239   9F2F C3          
4239   9F30 92 F5       
4240   9F32 43 48 41 49     .TEXT "CHAI"         \  EOW('Q')  \  .WORD $9305
4240   9F36 D1          
4240   9F37 93 05       
4241   9F39 4B 45 59 42     .TEXT "KEYBOAR"      \  EOW('D')  \  .WORD $9308
4241   9F3D 4F 41 52 
4241   9F40 C4          
4241   9F41 93 08       
4242   9F43 4B 42 45 45     .TEXT "KBEEOF"       \  EOW('F')  \  .WORD $9317
4242   9F47 4F 46 
4242   9F49 C6          
4242   9F4A 93 17       
4243   9F4C 4B 42 45 52     .TEXT "KBER"         \  EOW('R')  \  .WORD $9322
4243   9F50 D2          
4243   9F51 93 22       
4244   9F53 4B 54 41 53     .TEXT "KTAS"         \  EOW('T')  \  .WORD $9323
4244   9F57 D4          
4244   9F58 93 23       
4245   9F5A 4B 54 41 53     .TEXT "KTASOF"       \  EOW('F')  \  .WORD $9339
4245   9F5E 4F 46 
4245   9F60 C6          
4245   9F61 93 39       
4246   9F63 4B 54 41 45     .TEXT "KTAER"        \  EOW('R')  \  .WORD $934F
4246   9F67 52 
4246   9F68 D2          
4246   9F69 93 4F       
4247   9F6B 54 52 41 43     .TEXT "TRAC"         \  EOW('E')  \  .WORD $9350
4247   9F6F C5          
4247   9F70 93 50       
4248   9F72 54 45 4C 45     .TEXT "TELEFO"       \  EOW('N')  \  .WORD $936D
4248   9F76 46 4F 
4248   9F78 CE          
4248   9F79 93 6D       
4249   9F7B             ;% LB_TXTADDR_TBL END
4250   9F7B             ;------------------------------------------------------------------------------------------------------------
4251   9F7B             
4252   9F7B             
4253   9F7B             
4254   9F7B             ;------------------------------------------------------------------------------------------------------------
4255   9F7B             ; Unknown
4256   9F7B FF 00 C5 14     .BYTE $FF,$00,$C5,$14,$00,$51,$D5
4256   9F7F 00 51 D5 
4257   9F82             ;------------------------------------------------------------------------------------------------------------
4258   9F82             
4259   9F82             
4260   9F82             
4261   9F82             ;------------------------------------------------------------------------------------------------------------
4262   9F82             ; $9F82 - $9FFF Filler
4263   9F82             ;------------------------------------------------------------------------------------------------------------
4264   9F82             ;% LB_FILLER_9F82 START
4265   9F82             FILLER_9F82:
4266   9F82 00 00 00 00     .BYTE  $00,$00,$00,$00,$00,$00,$00,$00
4266   9F86 00 00 00 00 
4267   9F8A 00 00 00 00     .BYTE  $00,$00,$00,$00,$00,$00,$00,$00
4267   9F8E 00 00 00 00 
4268   9F92 00 00 00 00     .BYTE  $00,$00,$00,$00,$00,$00,$00,$00
4268   9F96 00 00 00 00 
4269   9F9A 00 00 00 00     .BYTE  $00,$00,$00,$00,$00,$00,$00,$00
4269   9F9E 00 00 00 00 
4270   9FA2 00 00 00 00     .BYTE  $00,$00,$00,$00,$00,$00,$00,$00
4270   9FA6 00 00 00 00 
4271   9FAA 00 00 00 00     .BYTE  $00,$00,$00,$00,$00,$00,$00,$00
4271   9FAE 00 00 00 00 
4272   9FB2 00 00 00 00     .BYTE  $00,$00,$00,$00,$00,$00,$00,$00
4272   9FB6 00 00 00 00 
4273   9FBA 00 00 00 00     .BYTE  $00,$00,$00,$00,$00,$00,$00,$00
4273   9FBE 00 00 00 00 
4274   9FC2 00 00 00 00     .BYTE  $00,$00,$00,$00,$00,$00,$00,$00
4274   9FC6 00 00 00 00 
4275   9FCA 00 00 00 00     .BYTE  $00,$00,$00,$00,$00,$00,$00,$00
4275   9FCE 00 00 00 00 
4276   9FD2 00 00 00 00     .BYTE  $00,$00,$00,$00,$00,$00,$00,$00
4276   9FD6 00 00 00 00 
4277   9FDA 00 00 00 00     .BYTE  $00,$00,$00,$00,$00,$00,$00,$00
4277   9FDE 00 00 00 00 
4278   9FE2 00 00 00 00     .BYTE  $00,$00,$00,$00,$00,$00,$00,$00
4278   9FE6 00 00 00 00 
4279   9FEA 00 00 00 00     .BYTE  $00,$00,$00,$00,$00,$00,$00,$00
4279   9FEE 00 00 00 00 
4280   9FF2 00 00 00 00     .BYTE  $00,$00,$00,$00,$00,$00,$00,$00
4280   9FF6 00 00 00 00 
4281   9FFA 00 00 00 00     .BYTE  $00,$00,$00,$00,$00,$00
4281   9FFE 00 00 
4282   A000             ;% LB_FILLER_9F82 END
4283   A000             ;------------------------------------------------------------------------------------------------------------
4284   A000             
4285   A000             .END
tasm: Number of errors = 0
